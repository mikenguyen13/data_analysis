## Shift-Share Instrument

The **shift‑share (a.k.a. Bartik) instrument** exploits the idea that a unit's exposure to a set of aggregate shocks is mediated by its pre‑determined "shares." A classic application measures the effect of local labor‑demand shocks on outcomes such as wages or migration by weighting nation‑wide industry growth rates with the locality's pre‑shocked industry composition. Because the shares are fixed **before** the shocks realize, the composite instrument can be relevant (it moves with the shocks) yet plausibly exogenous to unobserved shocks that drive the outcome of interest. Recent work unifies these designs under the general heading of **pooled‑exposure research designs** and clarifies the conditions under which they deliver consistent causal estimates [@goldsmith2020bartik].

------------------------------------------------------------------------

### Notation and data structure

-   **Units and time.** Index units (regions, individuals, cohorts) by $i=1,\dots,N$ and time by $t=0,\dots,T$.
-   **Shocks.** Let $g_{kt}$ be a **common shock** to sector $k\in\{1,\dots,K\}$ in period $t$. These are observed (e.g., national industry growth).
-   **Shares.** Let $s_{ik0}$ be the **baseline share** of sector $k$ in unit $i$ measured in a base period $0$,. Shares satisfy $\sum_{k}s_{ik0}=1$.
-   **Treatment.** Define the endogenous treatment (or "dose") as\
    $$
    D_{it} \;=\; \sum_{k}s_{ik0}\,g_{kt}\;,
    $$ so every unit is differentially exposed to the same vector of shocks according to its baseline shares.
-   **Outcome.** $Y_{it}$ is the realized outcome, and $X_{it}$ collects further controls (e.g., fixed effects, trends).

------------------------------------------------------------------------

### Constructing the Bartik instrument

In linear potential‑outcome notation, their true structural relationship can be written

$$
Y_{it}\;=\;\beta\,D_{it} \;+\; X_{it}'\gamma \;+\; u_{it},
$$

where $u_{it}$ contains unobservables that may correlate with $D_{it}$. Because the shares are pre‑determined and the shocks are aggregate, an **instrument**

$$
Z_{it}\;=\;\sum_{k}s_{ik0}\,g_{kt}
$$

is available to proxy for $D_{it}$. Empirically $Z_{it}\equiv D_{it}$ when $D_{it}$ is defined as above; however, one often observes only an endogenous proxy for $D_{it}$ (e.g., local employment actually realized, affected by local conditions), whereas $Z_{it}$ is constructed from exogenous aggregates.

A **share‑shift** variant allows $s_{ik0}$ to come from a *shifted* base year (say, five years prior) to ensure that (i) the shares are pre‑determined relative to the shock window and (ii) serial correlation between shares and unobserved local shocks is minimised. Formally, pick a lag $L$ and set $\tilde s_{ik,t-L}$ as the share measured at $t-L$; the instrument becomes

$$
Z_{it}^{(L)} \;=\;\sum_{k}\tilde s_{ik,t-L}\,g_{kt}.
$$

When $L>0$ the design is colloquially called a **share‑shift Bartik IV** because the share base "shifts" forward with time while remaining *lagged* relative to the contemporaneous shocks [@borusyak2025practical].

------------------------------------------------------------------------

Stack observations and estimate

$$
\begin{aligned}
\text{1st stage:}\quad D_{it}&= \pi\,Z_{it} + X_{it}'\delta + v_{it} \\
\text{2nd stage:}\quad Y_{it}&= \beta\,\hat D_{it} + X_{it}'\gamma + e_{it}
\end{aligned}
$$

where $\hat D_{it}$ is the predicted treatment. In practice one embeds rich fixed effects---e.g., unit and time FEs---to absorb unobserved mean differences and common shocks. By Frisch‑Waugh‑Lovell the 2SLS estimate equals the IV estimate from the demeaned data.

------------------------------------------------------------------------

### Identification assumptions

1.  **Shock exogeneity (many‑shocks path).**\
    $\mathbb{E}[g_{kt}u_{it}]=0$ for all $k,t,i$. Under many (as $K\to\infty$) independent shocks, a law‑of‑large‑numbers style argument yields $\mathbb{E}[Z_{it}u_{it}]\approx0$.

2.  **Share exogeneity (many‑shares path).**\
    Even with few shocks, if the shares are quasi‑random at an initial date (e.g., driven by historical geography) then $\mathbb{E}[s_{ik0}u_{it}]=0$, securing validity.

3.  **Relevance.** Var$(Z_{it})>0$ and first‑stage $F$-statistic is non‑trivial.

4.  **Stability.** Shocks should not differentially affect units except through the weighted sum $D_{it}$. Formally, no violation of the exclusion restriction through contemporaneous general equilibrium feedback.

@goldsmith2020bartik show that any Bartik IV can be seen as a weighted sum of *design‑level exposures*:

$$
Z_{it}= \sum_{k}\omega_{ik}\,g_{kt}, \quad 
\omega_{ik}=s_{ik0}-\bar s_{k0},
$$

where $\bar s_{k0}$ is the average share. Identification can therefore rest on either exogenous shocks **or** exogenous deviations of shares from the mean.

------------------------------------------------------------------------

### Large‑$K$ asymptotics

Let $K\to\infty$ with appropriate regularity:

$$
Z_{it}= \underbrace{\sum_k s_{ik0}\,g_{kt}}_{\text{IV}} 
\quad\rightsquigarrow\quad 
\mathbb{E}[g_{kt}] + \mathcal{O}_p\!\bigl(K^{-1/2}\bigr).
$$

If $g_{kt}$ are i.i.d. shocks with zero mean, the IV becomes mean‑zero, mitigating endogeneity from local shocks $u_{it}$. @borusyak2025practical emphasize practical checklists---e.g., **orthogonality tests** of shocks to baseline covariates and **leave‑one‑out** constructions that drop shock $k$ when estimating effects on industries heavily represented by $k$.

------------------------------------------------------------------------

### Share‑shift versus conventional shift‑share

| Feature        | Conventional Bartik                                  | Share‑shift Bartik                                             |
|----------------|------------------------------------------------------|----------------------------------------------------------------|
| Share timing   | Fixed once (e.g., 1990)                              | Rolling, but lagged $L$ periods                                |
| Goal           | Maximize shock variation, minimize share‑endogeneity | Reduce serial correlation between shares and unit‑level shocks |
| Implementation | $Z_{it}=\sum_k s_{ik,0}g_{kt}$                       | $Z_{it}^{(L)}=\sum_k s_{ik,t-L}g_{kt}$                         |

Because the shares evolve, $Z_{it}^{(L)}$ is *not* collinear with unit fixed effects, making identification feasible even with long panels where conventional Bartik would be swept out by unit FEs. At the same time one must verify that shares measured at $t-L$ are still plausibly exogenous to shocks $u_{it}$. Common choices are $L\in\{5,10\}$ years in annual data or two lags in quarterly data.

------------------------------------------------------------------------

### Standard errors and inference

The composite nature of $Z_{it}$ induces **cross‑sectional dependence** because units that share similar $s_{ik0}$ load similarly on $g_{kt}$. Standard practice is therefore to

-   **Cluster at the shock level** (e.g., industry × year) when $K$ is modest;
-   Use **AKM corrections** [@adao2019shift], which account simultaneously for many‑shares and many‑shocks asymptotics;
-   Apply randomization **inference** by re‑drawing shocks $g_{kt}$ under the null to build exact $p$-values.

------------------------------------------------------------------------

### Diagnostics and robustness

1.  **First‑stage** $F$. A weak instrument test using the effective degrees‑of‑freedom of $Z_{it}$.
2.  **Rotated shocks test / placebo.** Replace $g_{kt}$ with shocks drawn from a pre‑period to detect spurious correlation.
3.  **Leave‑one‑out IV.** Compute $Z_{it}^{(-i)}=\sum_ks_{ik0}^{(-i)}g_{kt}$ where the share of unit $i$ is omitted, reducing mechanical correlation.
4.  **Balance tests.** Regress pre‑treatment outcomes on $Z_{it}$ to probe exclusion.

------------------------------------------------------------------------

### Extensions

-   **Heterogeneous effects.** Interact $D_{it}$ with baseline covariates to test for effect heterogeneity.
-   **Dynamic Bartik.** Include lags and leads of $D_{it}$ to produce an event‑study--style response.
-   **Multi‑dimensional shocks.** Replace $g_{kt}$ with a vector (e.g., trade shocks by partner × industry), stacking them into a higher‑order share matrix.
-   **Shift‑share DiD hybrid.** Use Bartik as the *first stage* within a staggered‑adoption DiD when treatment is partially driven by differential exposure to shocks.

------------------------------------------------------------------------

### Recent methodological developments

1.  @borusyak2025practical deliver a practitioner guide emphasizing *empirical checklists* for constructing leave‑one‑out instruments and AKM standard errors.
2.  @borusyak2025practical propose a *two‑path* identification taxonomy---many exogenous shocks vs. many exogenous shares---and shows how to design diagnostics tailored to the chosen path.
3.  @borusyak2022quasi refine randomization inference for shift‑share by exploiting permutation symmetries of shocks.

------------------------------------------------------------------------

### Limitations and best‑practice checklist

| Issue                                           | Guidance                                                                              |
|-------------------------------------------------|---------------------------------------------------------------------------------------|
| Over‑reliance on single dominant shock          | Apply leave‑one‑out; test sensitivity to dropping that shock                          |
| Persistent unobservables correlated with shares | Use *rolling* share‑shift with sufficient lag; include pre‑trend controls             |
| General‑equilibrium feedback                    | Shorten estimation window; instrument only for first‑round effects                    |
| Non‑linear outcomes                             | Employ control‑function or GMM variants; quantile IV if distributional effects matter |
| Spatial spillovers                              | Cluster at aggregated geography; include spatial‑lag controls                         |

------------------------------------------------------------------------

### Worked algebra: instrument decomposition

Write $G_t$ for the $K\times1$ vector of shocks and $S_0$ for the $N\times K$ matrix of shares. Then

$$
\mathbf Z_t = S_0\,G_t,\qquad 
\mathbf D_t = S_{t-1}\,G_t,
$$

so the **first‑stage coefficient** satisfies

$$
\hat\pi
=\bigl(Z_t' M_X D_t\bigr)\bigl(Z_t' M_X Z_t\bigr)^{-1}
=\frac{\sum_i Z_{it} (D_{it}-\hat D_{it}^{X})}{\sum_i Z_{it} (Z_{it}-\hat Z_{it}^{X})},
$$

where $M_X$ projects out controls. Under valid instruments $\hat\beta\to\beta$ in probability, and inference proceeds with the usual robust or AKM variance.

------------------------------------------------------------------------

The **share‑shift Bartik IV** is a powerful extension of the canonical shift‑share design, exploiting rolling but lagged exposure shares to guard against the simultaneity between contemporaneous shares and unobserved unit‑level shocks. Validity hinges on (i) exogeneity of either the shocks or the *shifted* shares, (ii) sufficient variation for first‑stage relevance, and (iii) appropriate inference that respects the composite dependence structure.

------------------------------------------------------------------------

## Share Shift IV

<https://www.brendanmichaelprice.com/teaching/ecn250a/slides/Price-ECN250A-L20-Slides-Shift-Share-Instruments.pdf> <https://www.princeton.edu/~mkolesar/papers/shift_share.pdf>

<https://www.aeaweb.org/articles?id=10.1257/aer.20181047> <https://docs.iza.org/dp11307.pdf> <https://www.princeton.edu/~mkolesar/papers/shift_share.pdf> <https://onlinelibrary.wiley.com/doi/10.1111/jors.12481>

<https://drive.google.com/file/d/1jxx0UvVs3Nqw1qzboL3uG9q3TLQ5Nw49/view> <https://github.com/Mixtape-Sessions/Shift-Share> <https://blogs.worldbank.org/impactevaluations/rethinking-identification-under-bartik-shift-share-instrument> <https://arxiv.org/pdf/1806.01221.pdf> <https://paulgp.github.io/papers/bartik_gpss.pdf>

<https://en.wikipedia.org/wiki/Shift-share_analysis>

<https://www.nber.org/system/files/working_papers/w24944/w24944.pdf> <https://www.nber.org/system/files/working_papers/w24997/revisions/w24997.rev1.pdf>

<https://cran.r-project.org/web/packages/ShiftShareSE/ShiftShareSE.pdf>

Examples in IS: [@huang2020unemployment]

Examples in Finance: [@beaumont2025build]
