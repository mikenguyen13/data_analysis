<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Prerequisites | A Guide on Data Analysis</title>
<meta name="author" content="Mike Nguyen">
<meta name="description" content="This chapter is just a quick review of Matrix Theory and Probability Theory If you feel you do not need to brush up on these theories, you can jump right into Descriptive Statistics  2.1 Matrix...">
<meta name="generator" content="bookdown 0.35 with bs4_book()">
<meta property="og:title" content="Chapter 2 Prerequisites | A Guide on Data Analysis">
<meta property="og:type" content="book">
<meta property="og:url" content="https://bookdown.org/mike/data_analysis/prerequisites.html">
<meta property="og:image" content="https://bookdown.org/mike/data_analysis//images/cover.jpg">
<meta property="og:description" content="This chapter is just a quick review of Matrix Theory and Probability Theory If you feel you do not need to brush up on these theories, you can jump right into Descriptive Statistics  2.1 Matrix...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Prerequisites | A Guide on Data Analysis">
<meta name="twitter:description" content="This chapter is just a quick review of Matrix Theory and Probability Theory If you feel you do not need to brush up on these theories, you can jump right into Descriptive Statistics  2.1 Matrix...">
<meta name="twitter:image" content="https://bookdown.org/mike/data_analysis//images/cover.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.6.1/transition.js"></script><script src="libs/bs3compat-0.6.1/tabs.js"></script><script src="libs/bs3compat-0.6.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){window.dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-DMNX2X65HQ');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">A Guide on Data Analysis</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="active" href="prerequisites.html"><span class="header-section-number">2</span> Prerequisites</a></li>
<li class="book-part">I. BASIC</li>
<li><a class="" href="descriptive-stat.html"><span class="header-section-number">3</span> Descriptive Statistics</a></li>
<li><a class="" href="basic-statistical-inference.html"><span class="header-section-number">4</span> Basic Statistical Inference</a></li>
<li class="book-part">II. REGRESSION</li>
<li><a class="" href="linear-regression.html"><span class="header-section-number">5</span> Linear Regression</a></li>
<li><a class="" href="non-linear-regression.html"><span class="header-section-number">6</span> Non-linear Regression</a></li>
<li><a class="" href="generalized-linear-models.html"><span class="header-section-number">7</span> Generalized Linear Models</a></li>
<li><a class="" href="linear-mixed-models.html"><span class="header-section-number">8</span> Linear Mixed Models</a></li>
<li><a class="" href="nonlinear-and-generalized-linear-mixed-models.html"><span class="header-section-number">9</span> Nonlinear and Generalized Linear Mixed Models</a></li>
<li class="book-part">III. RAMIFICATIONS</li>
<li><a class="" href="model-specification.html"><span class="header-section-number">10</span> Model Specification</a></li>
<li><a class="" href="imputation-missing-data.html"><span class="header-section-number">11</span> Imputation (Missing Data)</a></li>
<li><a class="" href="data.html"><span class="header-section-number">12</span> Data</a></li>
<li><a class="" href="variable-transformation.html"><span class="header-section-number">13</span> Variable Transformation</a></li>
<li><a class="" href="hypothesis-testing.html"><span class="header-section-number">14</span> Hypothesis Testing</a></li>
<li><a class="" href="marginal-effects.html"><span class="header-section-number">15</span> Marginal Effects</a></li>
<li><a class="" href="prediction-and-estimation.html"><span class="header-section-number">16</span> Prediction and Estimation</a></li>
<li><a class="" href="moderation.html"><span class="header-section-number">17</span> Moderation</a></li>
<li class="book-part">IV. CAUSAL INFERENCE</li>
<li><a class="" href="causal-inference.html"><span class="header-section-number">18</span> Causal Inference</a></li>
<li class="book-part">A. EXPERIMENTAL DESIGN</li>
<li><a class="" href="experimental-design.html"><span class="header-section-number">19</span> Experimental Design</a></li>
<li><a class="" href="sampling.html"><span class="header-section-number">20</span> Sampling</a></li>
<li><a class="" href="analysis-of-variance-anova.html"><span class="header-section-number">21</span> Analysis of Variance (ANOVA)</a></li>
<li><a class="" href="multivariate-methods.html"><span class="header-section-number">22</span> Multivariate Methods</a></li>
<li class="book-part">B. QUASI-EXPERIMENTAL DESIGN</li>
<li><a class="" href="quasi-experimental.html"><span class="header-section-number">23</span> Quasi-experimental</a></li>
<li><a class="" href="regression-discontinuity.html"><span class="header-section-number">24</span> Regression Discontinuity</a></li>
<li><a class="" href="synthetic-difference-in-differences.html"><span class="header-section-number">25</span> Synthetic Difference-in-Differences</a></li>
<li><a class="" href="difference-in-differences.html"><span class="header-section-number">26</span> Difference-in-differences</a></li>
<li><a class="" href="changes-in-changes.html"><span class="header-section-number">27</span> Changes-in-Changes</a></li>
<li><a class="" href="synthetic-control.html"><span class="header-section-number">28</span> Synthetic Control</a></li>
<li><a class="" href="event-studies.html"><span class="header-section-number">29</span> Event Studies</a></li>
<li><a class="" href="instrumental-variables.html"><span class="header-section-number">30</span> Instrumental Variables</a></li>
<li><a class="" href="matching-methods.html"><span class="header-section-number">31</span> Matching Methods</a></li>
<li><a class="" href="interrupted-time-series.html"><span class="header-section-number">32</span> Interrupted Time Series</a></li>
<li class="book-part">C. OTHER CONCERNS</li>
<li><a class="" href="endogeneity.html"><span class="header-section-number">33</span> Endogeneity</a></li>
<li><a class="" href="other-biases.html"><span class="header-section-number">34</span> Other Biases</a></li>
<li><a class="" href="controls.html"><span class="header-section-number">35</span> Controls</a></li>
<li><a class="" href="mediation.html"><span class="header-section-number">36</span> Mediation</a></li>
<li><a class="" href="directed-acyclic-graph.html"><span class="header-section-number">37</span> Directed Acyclic Graph</a></li>
<li class="book-part">V. MISCELLANEOUS</li>
<li><a class="" href="report.html"><span class="header-section-number">38</span> Report</a></li>
<li><a class="" href="exploratory-data-analysis.html"><span class="header-section-number">39</span> Exploratory Data Analysis</a></li>
<li><a class="" href="sensitivity-analysis-robustness-check.html"><span class="header-section-number">40</span> Sensitivity Analysis/ Robustness Check</a></li>
<li><a class="" href="replication-and-synthetic-data.html"><span class="header-section-number">41</span> Replication and Synthetic Data</a></li>
<li class="book-part">APPENDIX</li>
<li><a class="" href="appendix.html"><span class="header-section-number">A</span> Appendix</a></li>
<li><a class="" href="bookdown-cheat-sheet.html"><span class="header-section-number">B</span> Bookdown cheat sheet</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/mikenguyen13/data_analysis">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="prerequisites" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"><i class="fas fa-link"></i></a>
</h1>
<p>This chapter is just a quick review of <a href="prerequisites.html#matrix-theory">Matrix Theory</a> and <a href="prerequisites.html#probability-theory">Probability Theory</a></p>
<p>If you feel you do not need to brush up on these theories, you can jump right into <a href="descriptive-stat.html#descriptive-stat">Descriptive Statistics</a></p>
<div id="matrix-theory" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Matrix Theory<a class="anchor" aria-label="anchor" href="#matrix-theory"><i class="fas fa-link"></i></a>
</h2>
<p><span class="math display">\[
A=
\left[
\begin{array}
{cc}
a_{11} &amp; a_{12} \\
a_{21} &amp; a_{22}
\end{array}
\right]
\]</span></p>
<p><span class="math display">\[
A' =
\left[
\begin{array}
{cc}
a_{11} &amp; a_{21} \\
a_{12} &amp; a_{22}
\end{array}
\right]
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
\mathbf{(ABC)'}   &amp; = \mathbf{C'B'A'} \\
\mathbf{A(B+C)}   &amp; = \mathbf{AB + AC} \\
\mathbf{AB}       &amp; \neq \mathbf{BA} \\
\mathbf{(A')'}    &amp; = \mathbf{A} \\
\mathbf{(A+B)'}   &amp; = \mathbf{A' + B'} \\
\mathbf{(AB)'}    &amp; = \mathbf{B'A'} \\
\mathbf{(AB)^{-1}} &amp; = \mathbf{B^{-1}A^{-1}} \\
\mathbf{A+B}      &amp; = \mathbf{B +A} \\
\mathbf{AA^{-1}}  &amp; = \mathbf{I}
\end{aligned}
\]</span></p>
<p>If A has an inverse, it is called <strong>invertible.</strong> If A is not invertible it is called <strong>singular.</strong></p>
<p><span class="math display">\[
\begin{aligned}
\mathbf{A} &amp;=
\left(\begin{array}
{ccc}
a_{11} &amp; a_{12} &amp; a_{13} \\
a_{21} &amp; a_{22} &amp; a_{23} \\
\end{array}\right)
\left(\begin{array}
{ccc}
b_{11} &amp; b_{12} &amp; b_{13} \\
b_{21} &amp; b_{22} &amp; b_{23} \\
b_{31} &amp; b_{32} &amp; b_{33} \\
\end{array}\right) \\
&amp;=
\left(\begin{array}
{ccc}
a_{11}b_{11}+a_{12}b_{21}+a_{13}b_{31} &amp; \sum_{i=1}^{3}a_{1i}b_{i2} &amp;  \sum_{i=1}^{3}a_{1i}b_{i3} \\
\sum_{i=1}^{3}a_{2i}b_{i1} &amp; \sum_{i=1}^{3}a_{2i}b_{i2} &amp; \sum_{i=1}^{3}a_{2i}b_{i3} \\
\end{array}\right)
\end{aligned}
\]</span></p>
<p>Let <span class="math inline">\(\mathbf{a}\)</span> be a <span class="math inline">\(3 \times 1\)</span> vector, then the quadratic form is</p>
<p><span class="math display">\[
\mathbf{a'Ba} = \sum_{i=1}^{3}\sum_{i=1}^{3}a_i b_{ij} a_{j}
\]</span></p>
<p><strong>Length of a vector</strong><br>
Let <span class="math inline">\(\mathbf{a}\)</span> be a vector, <span class="math inline">\(||\mathbf{a}||\)</span> (the 2-norm of the vector) is the length of vector <span class="math inline">\(\mathbf{a}\)</span>, is the square root of the inner product of the vector with itself:</p>
<p><span class="math display">\[
||\mathbf{a}|| = \sqrt{\mathbf{a'a}}
\]</span></p>
<div id="rank" class="section level3" number="2.1.1">
<h3>
<span class="header-section-number">2.1.1</span> Rank<a class="anchor" aria-label="anchor" href="#rank"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Dimension of space spanned by its columns (or its rows).</li>
<li>Number of linearly independent columns/rows</li>
</ul>
<p>For a <span class="math inline">\(n \times k\)</span> matrix <strong>A</strong> and <span class="math inline">\(k \times k\)</span> matrix <strong>B</strong></p>
<ul>
<li><span class="math inline">\(rank(A)\leq min(n,k)\)</span></li>
<li><span class="math inline">\(rank(A) = rank(A') = rank(A'A)=rank(AA')\)</span></li>
<li><span class="math inline">\(rank(AB)=min(rank(A),rank(B))\)</span></li>
<li>
<strong>B</strong> is invertible if and only if <span class="math inline">\(rank(B) = k\)</span> (non-singular)</li>
</ul>
</div>
<div id="inverse" class="section level3" number="2.1.2">
<h3>
<span class="header-section-number">2.1.2</span> Inverse<a class="anchor" aria-label="anchor" href="#inverse"><i class="fas fa-link"></i></a>
</h3>
<p>In scalar, <span class="math inline">\(a = 0\)</span> then <span class="math inline">\(1/a\)</span> does not exist.</p>
<p>In matrix, a matrix is invertible when it’s a non-zero matrix.</p>
<p>A non-singular square matrix <span class="math inline">\(\mathbf{A}\)</span> is invertible if there exists a non-singular square matrix <span class="math inline">\(\mathbf{B}\)</span> such that, <span class="math display">\[AB=I\]</span> Then <span class="math inline">\(A^{-1}=B\)</span>. For a <span class="math inline">\(2\times2\)</span> matrix,</p>
<p><span class="math display">\[
A =
\left(\begin{array}{cc}
a &amp; b \\
c &amp; d \\
\end{array}
\right)
\]</span></p>
<p><span class="math display">\[
A^{-1}=
\frac{1}{ad-bc}
\left(\begin{array}{cc}
d &amp; -b \\
-c &amp; a \\
\end{array}
\right)
\]</span></p>
<p>For the partition matrix,</p>
<p><span class="math display">\[
\left[\begin{array}
{cc}
A &amp; B \\
C &amp; D \\
\end{array}
\right]^{-1}
=
\left[\begin{array}
{cc}
\mathbf{(A-BD^{-1}C)^{-1}} &amp; \mathbf{-(A-BD^{-1}C)^{-1}BD^-1} \\
\mathbf{-DC(A-BD^{-1}C)^{-1}} &amp; \mathbf{D^{-1}+D^{-1}C(A-BD^{-1}C)^{-1}BD^{-1}}
\end{array}
\right]
\]</span></p>
<p>Properties for a non-singular square matrix</p>
<ul>
<li><span class="math inline">\(\mathbf{A^{-1}}=A\)</span></li>
<li>for a non-zero scalar b, <span class="math inline">\(\mathbf{(bA)^{-1}=b^{-1}A^{-1}}\)</span>
</li>
<li>for a matrix B, <span class="math inline">\(\mathbf(BA)^{-1}=B^{-1}A^{-1}\)</span> only if <span class="math inline">\(\mathbf{B}\)</span> is non-singular</li>
<li><span class="math inline">\(\mathbf{(A^{-1})'=(A')^{-1}}\)</span></li>
<li>Never notate <span class="math inline">\(\mathbf{1/A}\)</span>
</li>
</ul>
</div>
<div id="definiteness" class="section level3" number="2.1.3">
<h3>
<span class="header-section-number">2.1.3</span> Definiteness<a class="anchor" aria-label="anchor" href="#definiteness"><i class="fas fa-link"></i></a>
</h3>
<p>A symmetric square k x k matrix, <span class="math inline">\(\mathbf{A}\)</span>, is Positive Semi-Definite if for any non-zero <span class="math inline">\(k \times 1\)</span> vector <span class="math inline">\(\mathbf{x}\)</span>, <span class="math display">\[\mathbf{x'Ax \geq 0 }\]</span></p>
<p>A symmetric square k x k matrix, <span class="math inline">\(\mathbf{A}\)</span>, is Negative Semi-Definite if for any non-zero <span class="math inline">\(k \times 1\)</span> vector <span class="math inline">\(\mathbf{x}\)</span> <span class="math display">\[\mathbf{x'Ax \leq 0 }\]</span></p>
<p><span class="math inline">\(\mathbf{A}\)</span> is indefinite if it is neither positive semi-definite or negative semi-definite.</p>
<p>The identity matrix is positive definite</p>
<p><strong>Example</strong> Let <span class="math inline">\(\mathbf{x} =(x_1 x_2)'\)</span>, then for a <span class="math inline">\(2 \times 2\)</span> identity matrix,</p>
<p><span class="math display">\[
\begin{aligned}
\mathbf{x'Ix}
&amp;= (x_1 x_2)
\left(\begin{array}
{cc}
1 &amp; 0 \\
0 &amp; 1 \\
\end{array}
\right)
\left(\begin{array}{c}
x_1 \\
x_2 \\
\end{array}
\right) \\
&amp;=
(x_1 x_2)
\left(\begin{array}
{c}
x_1 \\
x_2 \\
\end{array}
\right) \\
&amp;=
x_1^2 + x_2^2 &gt;0
\end{aligned}
\]</span></p>
<p>Definiteness gives us the ability to compare matrices <span class="math inline">\(\mathbf{A-B}\)</span> is PSD</p>
<p>This property also helps us show efficiency (which variance covariance matrix of one estimator is smaller than another)</p>
<p>Properties</p>
<ul>
<li>any variance matrix is PSD</li>
<li>a matrix <span class="math inline">\(\mathbf{A}\)</span> is PSD if and only if there exists a matrix <span class="math inline">\(\mathbf{B}\)</span> such that <span class="math inline">\(\mathbf{A=B'B}\)</span>
</li>
<li>if <span class="math inline">\(\mathbf{A}\)</span> is PSD, then <span class="math inline">\(\mathbf{B'AB}\)</span> is PSD</li>
<li>if <span class="math inline">\(\mathbf{A}\)</span> and <span class="math inline">\(\mathbf{C}\)</span> are non-singular, then <span class="math inline">\(\mathbf{A-C}\)</span> is PSD if and only if <span class="math inline">\(\mathbf{C^{-1}-A^{-1}}\)</span>
</li>
<li>if <span class="math inline">\(\mathbf{A}\)</span> is PD (ND) then <span class="math inline">\(A^{-1}\)</span> is PD (ND)</li>
</ul>
<p><strong>Note</strong></p>
<ul>
<li>Indefinite <span class="math inline">\(\mathbf{A}\)</span> is neither PSD nor NSD. There is no comparable concept in scalar.</li>
<li>If a square matrix is PSD and invertible then it is PD</li>
</ul>
<p>Example:</p>
<ol style="list-style-type: decimal">
<li>Invertible / Indefinite</li>
</ol>
<p><span class="math display">\[
\left[
\begin{array}
{cc}
-1 &amp; 0 \\
0 &amp; 10
\end{array}
\right]
\]</span></p>
<ol start="2" style="list-style-type: decimal">
<li>Non-invertible/ Indefinite</li>
</ol>
<p><span class="math display">\[
\left[
\begin{array}
{cc}
0 &amp; 1 \\
0 &amp; 0
\end{array}
\right]
\]</span></p>
<ol start="3" style="list-style-type: decimal">
<li>Invertible / PSD</li>
</ol>
<p><span class="math display">\[
\left[
\begin{array}
{cc}
1 &amp; 0 \\
0 &amp; 1
\end{array}
\right]
\]</span></p>
<ol start="4" style="list-style-type: decimal">
<li>Non-Invertible / PSD</li>
</ol>
<p><span class="math display">\[
\left[
\begin{array}
{cc}
0 &amp; 0 \\
0 &amp; 1
\end{array}
\right]
\]</span></p>
</div>
<div id="matrix-calculus" class="section level3" number="2.1.4">
<h3>
<span class="header-section-number">2.1.4</span> Matrix Calculus<a class="anchor" aria-label="anchor" href="#matrix-calculus"><i class="fas fa-link"></i></a>
</h3>
<p><span class="math inline">\(y=f(x_1,x_2,...,x_k)=f(x)\)</span> where <span class="math inline">\(x\)</span> is a <span class="math inline">\(1 \times k\)</span> row vector.</p>
<p>The Gradient (first order derivative with respect to a vector) is,</p>
<p><span class="math display">\[
\frac{\partial{f(x)}}{\partial{x}}=
\left(\begin{array}{c}
\frac{\partial{f(x)}}{\partial{x_1}} \\
\frac{\partial{f(x)}}{\partial{x_2}} \\
\dots \\
\frac{\partial{f(x)}}{\partial{x_k}}
\end{array}
\right)
\]</span></p>
<p>The <strong>Hessian</strong> (second order derivative with respect to a vector) is,</p>
<p><span class="math display">\[
\frac{\partial^2{f(x)}}{\partial{x}\partial{x'}}=
\left(\begin{array}
{cccc}
\frac{\partial^2{f(x)}}{\partial{x_1}\partial{x_1}} &amp; \frac{\partial^2{f(x)}}{\partial{x_1}\partial{x_2}} &amp; \dots &amp; \frac{\partial^2{f(x)}}{\partial{x_1}\partial{x_k}} \\
\frac{\partial^2{f(x)}}{\partial{x_1}\partial{x_2}} &amp; \frac{\partial^2{f(x)}}{\partial{x_2}\partial{x_2}} &amp; \dots &amp; \frac{\partial^2{f(x)}}{\partial{x_2}\partial{x_k}} \\
\dots &amp; \dots &amp; \ddots &amp; \dots\\
\frac{\partial^2{f(x)}}{\partial{x_k}\partial{x_1}} &amp; \frac{\partial^2{f(x)}}{\partial{x_k}\partial{x_2}} &amp; \dots &amp; \frac{\partial^2{f(x)}}{\partial{x_k}\partial{x_k}}
\end{array}
\right)
\]</span></p>
<p>Define the derivative of <span class="math inline">\(f(\mathbf{X})\)</span> with respect to <span class="math inline">\(\mathbf{X}_{(n \times p)}\)</span> as the matrix</p>
<p><span class="math display">\[
\frac{\partial f(\mathbf{X})}{\partial \mathbf{X}} = (\frac{\partial f(\mathbf{X})}{\partial x_{ij}})
\]</span></p>
<p>Define <span class="math inline">\(\mathbf{a}\)</span> to be a vector and <span class="math inline">\(\mathbf{A}\)</span> to be a matrix which does not depend upon <span class="math inline">\(\mathbf{y}\)</span>. Then</p>
<p><span class="math display">\[
\frac{\partial \mathbf{a'y}}{\partial \mathbf{y}} = \mathbf{a}
\]</span></p>
<p><span class="math display">\[
\frac{\partial \mathbf{y'y}}{\partial \mathbf{y}} = 2\mathbf{y}
\]</span></p>
<p><span class="math display">\[
\frac{\partial \mathbf{y'Ay}}{\partial \mathbf{y}} = \mathbf{(A + A')y}
\]</span></p>
<p>If <span class="math inline">\(\mathbf{X}\)</span> is a symmetric matrix then</p>
<p><span class="math display">\[
\frac{\partial |\mathbf{X}|}{\partial x_{ij}} =
\begin{cases}
X_{ii}, i = j \\
X_{ij}, i \neq j
\end{cases}
\]</span></p>
<p>where <span class="math inline">\(X_{ij}\)</span> is the <span class="math inline">\((i,j)\)</span>-th cofactor of <span class="math inline">\(\mathbf{X}\)</span></p>
<p>If <span class="math inline">\(\mathbf{X}\)</span> is symmetric and <span class="math inline">\(\mathbf{A}\)</span> is a matrix which does not depend upon <span class="math inline">\(\mathbf{X}\)</span> then</p>
<p><span class="math display">\[
\frac{\partial tr \mathbf{XA}}{\partial \mathbf{X}} = \mathbf{A} + \mathbf{A}' - diag(\mathbf{A})
\]</span></p>
<p>If <span class="math inline">\(\mathbf{X}\)</span> is symmetric and we let <span class="math inline">\(\mathbf{J}_{ij}\)</span> be a matrix which has a 1 in the <span class="math inline">\((i,j)\)</span>-th position and 0s elsewhere, then</p>
<p><span class="math display">\[
\frac{\partial \mathbf{X}6{-1}}{\partial x_{ij}} =
\begin{cases}
- \mathbf{X}^{-1}\mathbf{J}_{ii} \mathbf{X}^{-1} &amp;, i = j \\
- \mathbf{X}^{-1}(\mathbf{J}_{ij} + \mathbf{J}_{ji}) \mathbf{X}^{-1} &amp;, i \neq j
\end{cases}
\]</span></p>
</div>
<div id="optimization" class="section level3" number="2.1.5">
<h3>
<span class="header-section-number">2.1.5</span> Optimization<a class="anchor" aria-label="anchor" href="#optimization"><i class="fas fa-link"></i></a>
</h3>
<div class="inline-table"><table style="width:99%;" class="table table-sm">
<colgroup>
<col width="18%">
<col width="26%">
<col width="53%">
</colgroup>
<thead><tr class="header">
<th></th>
<th align="center"><strong>Scalar Optimization</strong></th>
<th align="center"><strong>Vector Optimization</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>First Order Condition</td>
<td align="center"><span class="math display">\[\frac{\partial{f(x_0)}}{\partial{x}}=0\]</span></td>
<td align="center"><span class="math display">\[\frac{\partial{f(x_0)}}{\partial{x}}=\left(\begin{array}{c}0 \\ .\\ .\\ .\\ 0\end{array}\right)\]</span></td>
</tr>
<tr class="even">
<td>
<p>Second Order Condition</p>
<p><strong>Convex</strong> <span class="math inline">\(\rightarrow\)</span> <strong>Min</strong></p>
</td>
<td align="center"><span class="math display">\[\frac{\partial^2{f(x_0)}}{\partial{x^2}} &gt; 0\]</span></td>
<td align="center"><span class="math display">\[\frac{\partial^2{f(x_0)}}{\partial{xx'}}&gt;0\]</span></td>
</tr>
<tr class="odd">
<td>
<strong>Concave</strong> <span class="math inline">\(\rightarrow\)</span> <strong>Max</strong>
</td>
<td align="center"><span class="math display">\[\frac{\partial^2{f(x_0)}}{\partial{x^2}} &lt; 0\]</span></td>
<td align="center"><span class="math display">\[\frac{\partial^2{f(x_0)}}{\partial{xx'}}&lt;0\]</span></td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="probability-theory" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Probability Theory<a class="anchor" aria-label="anchor" href="#probability-theory"><i class="fas fa-link"></i></a>
</h2>
<div id="axiom-and-theorems-of-probability" class="section level3" number="2.2.1">
<h3>
<span class="header-section-number">2.2.1</span> Axiom and Theorems of Probability<a class="anchor" aria-label="anchor" href="#axiom-and-theorems-of-probability"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>Let <span class="math inline">\(S\)</span> denote a sample space of an experiment <span class="math inline">\(P[S]=1\)</span>
</li>
<li>
<span class="math inline">\(P[A] \ge 0\)</span> for every event <span class="math inline">\(A\)</span>
</li>
<li>Let <span class="math inline">\(A_1,A_2,A_3,...\)</span> be a finite or an infinite collection of mutually exclusive events. Then <span class="math inline">\(P[A_1\cup A_2 \cup A_3 ...]=P[A_1]+P[A_2]+P[A_3]+...\)</span>
</li>
<li><span class="math inline">\(P[\emptyset]=0\)</span></li>
<li><span class="math inline">\(P[A']=1-P[A]\)</span></li>
<li><span class="math inline">\(P[A_1 \cup A_2] = P[A_1] + P[A_2] - P[A_1 \cap A_2]\)</span></li>
</ol>
<p><strong>Conditional Probability</strong></p>
<p><span class="math display">\[
P[A|B]=\frac{A \cap B}{P[B]}
\]</span></p>
<p><strong>Independent Events</strong> Two events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are independent if and only if:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(P[A\cap B]=P[A]P[B]\)</span></li>
<li><span class="math inline">\(P[A|B]=P[A]\)</span></li>
<li><span class="math inline">\(P[B|A]=P[B]\)</span></li>
</ol>
<p>A finite collection of events <span class="math inline">\(A_1, A_2, ..., A_n\)</span> is independent if and only if any subcollection is independent.</p>
<p><strong>Multiplication Rule</strong> <span class="math inline">\(P[A \cap B] = P[A|B]P[B] = P[B|A]P[A]\)</span></p>
<p><strong>Bayes’ Theorem</strong></p>
<p>Let <span class="math inline">\(A_1, A_2, ..., A_n\)</span> be a collection of mutually exclusive events whose union is S.<br>
Let <span class="math inline">\(b\)</span> be an event such that <span class="math inline">\(P[B]\neq0\)</span><br>
Then for any of the events <span class="math inline">\(A_j\)</span>, <span class="math inline">\(j = 1,2,…,n\)</span></p>
<p><span class="math display">\[
P[A_|B]=\frac{P[B|A_j]P[A_j]}{\sum_{i=1}^{n}P[B|A_j]P[A_i]}
\]</span></p>
<p><strong>Jensen’s Inequality</strong></p>
<ul>
<li>If <span class="math inline">\(g(x)\)</span> is convex <span class="math inline">\(E(g(X)) \ge g(E(X))\)</span>
</li>
<li>If <span class="math inline">\(g(x)\)</span> is concave <span class="math inline">\(E(g(X)) \le g(E(X))\)</span>
</li>
</ul>
<div id="law-of-iterated-expectations" class="section level4" number="2.2.1.1">
<h4>
<span class="header-section-number">2.2.1.1</span> Law of Iterated Expectations<a class="anchor" aria-label="anchor" href="#law-of-iterated-expectations"><i class="fas fa-link"></i></a>
</h4>
<p><span class="math inline">\(E(Y)=E(E(Y|X))\)</span></p>
</div>
<div id="correlation-and-independence" class="section level4" number="2.2.1.2">
<h4>
<span class="header-section-number">2.2.1.2</span> Correlation and Independence<a class="anchor" aria-label="anchor" href="#correlation-and-independence"><i class="fas fa-link"></i></a>
</h4>
<p>Strongest to Weakest</p>
<ol style="list-style-type: decimal">
<li>Independence</li>
<li>Mean Independence</li>
<li>Uncorrelated</li>
</ol>
<p><strong>Independence</strong></p>
<ul>
<li><span class="math inline">\(f(x,y)=f_X(x)f_Y(y)\)</span></li>
<li>
<span class="math inline">\(f_{Y|X}(y|x)=f_Y(y)\)</span> and <span class="math inline">\(f_{X|Y}(x|y)=f_X(x)\)</span>
</li>
<li><span class="math inline">\(E(g_1(X)g_2(Y))=E(g_1(X))E(g_2(Y))\)</span></li>
</ul>
<p><strong>Mean Independence</strong> (implied by independence)</p>
<ul>
<li>
<span class="math inline">\(Y\)</span> is mean independent of <span class="math inline">\(X\)</span> if and only if <span class="math inline">\(E(Y|X)=E(Y)\)</span>
</li>
<li><span class="math inline">\(E(Xg(Y))=E(X)E(g(Y))\)</span></li>
</ul>
<p><strong>Uncorrelated</strong> (implied by independence and mean independence)</p>
<ul>
<li><span class="math inline">\(Cov(X,Y)=0\)</span></li>
<li><span class="math inline">\(Var(X+Y)=Var(X) + Var(Y)\)</span></li>
<li><span class="math inline">\(E(XY)=E(X)E(Y)\)</span></li>
</ul>
</div>
</div>
<div id="central-limit-theorem" class="section level3" number="2.2.2">
<h3>
<span class="header-section-number">2.2.2</span> Central Limit Theorem<a class="anchor" aria-label="anchor" href="#central-limit-theorem"><i class="fas fa-link"></i></a>
</h3>
<p>Let <span class="math inline">\(X_1, X_2,...,X_n\)</span> be a random sample of size <span class="math inline">\(n\)</span> from a distribution (not necessarily normal) <span class="math inline">\(X\)</span> with mean <span class="math inline">\(\mu\)</span> and variance <span class="math inline">\(\sigma^2\)</span>. then for large n (<span class="math inline">\(n \ge 25\)</span>),</p>
<ol style="list-style-type: decimal">
<li><p><span class="math inline">\(\bar{X}\)</span> is approximately normal with with mean <span class="math inline">\(\mu_{\bar{X}}=\mu\)</span> and variance <span class="math inline">\(\sigma^2_{\bar{X}} = Var(\bar{X})= \frac{\sigma^2}{n}\)</span></p></li>
<li><p><span class="math inline">\(\hat{p}\)</span> is approximately normal with <span class="math inline">\(\mu_{\hat{p}} = p, \sigma^2_{\hat{p}} = \frac{p(1-p)}{n}\)</span></p></li>
<li><p><span class="math inline">\(\hat{p_1} - \hat{p_2}\)</span> is approximately normal with <span class="math inline">\(\mu_{\hat{p_1} - \hat{p_2}} = p_1 - p_2, \sigma^2_{\hat{p_1} - \hat{p_2}}=\frac{p_1(1-p)}{n_1} + \frac{p_2(1-p)}{n_2}\)</span></p></li>
<li><p><span class="math inline">\(\bar{X_1} - \bar{X_2}\)</span> is approximately normal with <span class="math inline">\(\mu_{\bar{X_1} - \bar{X_2}} = \mu_1 - \mu_2, \sigma^2_{\bar{X_1} - \bar{X_2}} = \frac{\sigma^2_1}{n_1}+\frac{\sigma^2_2}{n_2}\)</span></p></li>
<li>
<p>The following random variables are approximately standard normal:<br></p>
<ul>
<li>
<span class="math inline">\(\frac{\bar{X}-\mu}{\sigma/\sqrt{n}}\)</span><br>
</li>
<li>
<span class="math inline">\(\frac{\hat{p}-p}{\sqrt{\frac{p(1-p)}{n}}}\)</span><br>
</li>
<li>
<span class="math inline">\(\frac{(\hat{p_1}-\hat{p_2})-(p_1-p_2)}{\sqrt{\frac{p_1(1-p_1)}{n_1}-\frac{p_2(1-p_2)}{n_2}}}\)</span><br>
</li>
<li><span class="math inline">\(\frac{(\bar{X_1}-\bar{X_2})-(\mu_1-\mu_2)}{\sqrt{\frac{\sigma^2_1}{n_1}-\frac{\sigma^2_2}{n_2}}}\)</span></li>
</ul>
</li>
</ol>
<p>If <span class="math inline">\(\{x_i\}_{i=1}^{n}\)</span> is an iid random sample from a probability distribution with finite mean <span class="math inline">\(\mu\)</span> and finite variance <span class="math inline">\(\sigma^2\)</span> then the sample mean <span class="math inline">\(\bar{x}=n^{-1}\sum_{i=1}^{n}x_i\)</span> scaled by <span class="math inline">\(\sqrt{n}\)</span> has the following limiting distribution</p>
<p><span class="math display">\[
\sqrt{n}(\bar{x}-\mu) \to^d N(0,\sigma^2)
\]</span></p>
<p>or if we were to standardize the sample mean,</p>
<p><span class="math display">\[
\frac{\sqrt{n}(\bar{x}-\mu)}{\sigma} \to^d N(0,1)
\]</span></p>
<ul>
<li>holds for most random sample from any distribution (continuous, discrete, unknown).<br>
</li>
<li>extends to multivariate case: random sample of a random vector converges to a multivariate normal.<br>
</li>
<li>Variance from the limiting distribution is the asymptotic variance (Avar)</li>
</ul>
<p><span class="math display">\[
\begin{aligned}
Avar(\sqrt{n}(\bar{x}-\mu)) &amp;= \sigma^2 \\
\lim_{n \to \infty} Var(\sqrt{n}(\bar{x}-\mu)) &amp;= \sigma^2 \\
Avar(.) &amp;\neq lim_{n \to \infty} Var(.)
\end{aligned}
\]</span></p>
<p>Specifically, the last statement means that in some cases the asymptotic variance of a statistic is not necessarily equal to the limiting varinace of that statistic, such as</p>
<ol style="list-style-type: decimal">
<li><p><strong>Sample Quantiles</strong>: Consider the sample quantile of order <span class="math inline">\(p\)</span>, for some <span class="math inline">\(0 &lt; p &lt;1\)</span>. Under regularity conditions, the asymptotic distribution of the sample quantile is normal with a variance that depends on <span class="math inline">\(p\)</span> and the density of the distribution at the <span class="math inline">\(p\)</span>-th quantile. However, the variance of the sample quantile itself does not necessarily converge to this limit as the sample size grows.</p></li>
<li><p><strong>Bootstrap Methods</strong>: When using bootstrapping techniques to estimate the distribution of a statistic, the bootstrap distribution might converge to a different limiting distribution than the original statistic. In these cases, the variance of the bootstrap distribution (or the bootstrap variance) might differ from the limiting variance of the original statistic.</p></li>
<li><p><strong>Statistics with Randomly Varying Asymptotic Behavior</strong>: In some cases, the asymptotic behavior of a statistic can vary randomly depending on the sample path. For such statistics, the asymptotic variance might not provide a consistent estimate of the limiting variance.</p></li>
<li><p><strong>M-estimators with Varying Asymptotic Behavior</strong>: M-estimators can sometimes have different asymptotic behaviors depending on the tail behavior of the underlying distribution. For heavy-tailed distributions, the variance of the estimator might not stabilize even as the sample size grows large, making the asymptotic variance different from the variance of any limiting distribution.</p></li>
</ol>
</div>
<div id="random-variable" class="section level3" number="2.2.3">
<h3>
<span class="header-section-number">2.2.3</span> Random variable<a class="anchor" aria-label="anchor" href="#random-variable"><i class="fas fa-link"></i></a>
</h3>
<div class="inline-table"><table style="width:100%;" class="table table-sm">
<colgroup>
<col width="24%">
<col width="30%">
<col width="44%">
</colgroup>
<thead><tr class="header">
<th></th>
<th>Discrete Variable</th>
<th>Continuous Variable</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Definition</strong></td>
<td>A random variable is discrete if it can assume at most a finite or countably infinite number of possible values</td>
<td>A random variable is continuous if it can assume any value in some interval or intervals of real numbers and the probability that it assumes any specific value is 0</td>
</tr>
<tr class="even">
<td><strong>Density Function</strong></td>
<td>
<p>A function <span class="math inline">\(f\)</span> is called a density for <span class="math inline">\(X\)</span> if:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(f(x) \ge 0\)</span></li>
<li><span class="math inline">\(\sum_{all~x}f(x)=1\)</span></li>
<li>
<span class="math inline">\(f(x)=P(X=x)\)</span> for <span class="math inline">\(x\)</span> real</li>
</ol>
</td>
<td>
<p>A function <span class="math inline">\(f\)</span> is called a density for <span class="math inline">\(X\)</span> if:</p>
<ol style="list-style-type: decimal">
<li>
<span class="math inline">\(f(x) \ge 0\)</span> for <span class="math inline">\(x\)</span> real</li>
<li><span class="math inline">\(\int_{-\infty}^{\infty} f(x) \; dx=1\)</span></li>
<li>
<span class="math inline">\(P[a \le X \le] =\int_{a}^{b} f(x) \; dx\)</span> for <span class="math inline">\(a,b\)</span> real</li>
</ol>
</td>
</tr>
<tr class="odd">
<td>
<strong>Cumulative Distribution Function</strong> for <span class="math inline">\(x\)</span> real</td>
<td><span class="math inline">\(F(x)=P[X \le x]\)</span></td>
<td><span class="math inline">\(F(x)=P[X \le x]=\int_{-\infty}^{\infty}f(t)dt\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(E[H(X)]\)</span></td>
<td><span class="math inline">\(\sum_{all ~x}H(x)f(x)\)</span></td>
<td><span class="math inline">\(\int_{-\infty}^{\infty}H(x)f(x)\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\mu=E[X]\)</span></td>
<td><span class="math inline">\(\sum_{all ~ x}xf(x)\)</span></td>
<td><span class="math inline">\(\int_{-\infty}^{\infty}xf(x)\)</span></td>
</tr>
<tr class="even">
<td>
<strong>Ordinary Moments</strong> the <span class="math inline">\(k\)</span>-th ordinary moment for variable <span class="math inline">\(X\)</span> is defined as: <span class="math inline">\(E[X^k]\)</span>
</td>
<td><span class="math inline">\(\sum_{all ~ x \in X}(x^kf(x))\)</span></td>
<td><span class="math inline">\(\int_{-\infty}^{\infty}(x^kf(x))\)</span></td>
</tr>
<tr class="odd">
<td>
<strong>Moment generating function (mgf)</strong> <span class="math inline">\(m_X(t)=E[e^{tX}]\)</span>
</td>
<td><span class="math inline">\(\sum_{all ~ x \in X}(e^{tx}f(x))\)</span></td>
<td><span class="math inline">\(\int_{-\infty}^{\infty}(e^{tx}f(x)dx)\)</span></td>
</tr>
</tbody>
</table></div>
<p>Expected Value Properties:</p>
<ul>
<li>
<span class="math inline">\(E[c] = c\)</span> for any constant <span class="math inline">\(c\)</span>
</li>
<li>
<span class="math inline">\(E[cX] = cE[X\)</span>] for any constant <span class="math inline">\(c\)</span>
</li>
<li><span class="math inline">\(E[X+Y] = E[X] = E[Y]\)</span></li>
<li>
<span class="math inline">\(E[XY] = E[X].E[Y]\)</span> (if <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are independent)</li>
</ul>
<p>Expected Variance Properties:</p>
<ul>
<li>
<span class="math inline">\(Var(c) = 0\)</span> for any constant <span class="math inline">\(c\)</span>
</li>
<li>
<span class="math inline">\(Var(cX) = c^2Var(X)\)</span> for any constant <span class="math inline">\(c\)</span>
</li>
<li><span class="math inline">\(Var(X) \ge 0\)</span></li>
<li><span class="math inline">\(Var(X) = E(X^2) - (E(X))^2\)</span></li>
<li><span class="math inline">\(Var(X+c)=Var(X)\)</span></li>
<li>
<span class="math inline">\(Var (X+Y) = Var(X) + Var(Y)\)</span> (if <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are independent)</li>
</ul>
<p>Standard deviation <span class="math inline">\(\sigma=\sqrt(\sigma^2)=\sqrt(Var X)\)</span></p>
<p>Suppose <span class="math inline">\(y_1,...,y_p\)</span> are possibly correlated random variables with means <span class="math inline">\(\mu_1,...,\mu_p\)</span>. then</p>
<p><span class="math display">\[
\begin{aligned}
\mathbf{y} &amp;= (y_1,...,y_p)'  \\
E(\mathbf{y}) &amp;= (\mu_1,...,\mu_p)' = \mathbf{\mu}
\end{aligned}
\]</span></p>
<p>Let <span class="math inline">\(\sigma_{ij} = cov(y_i,y_j)\)</span> for <span class="math inline">\(i,j = 1,..,p\)</span>.</p>
<p>Define</p>
<p><span class="math display">\[
\mathbf{\Sigma} = (\sigma_{ij}) =
\left(\begin{array}
{rrrr}
\sigma_{11} &amp; \sigma_{12} &amp; \dots &amp; \sigma_{1p} \\
\sigma_{21} &amp; \sigma_{22} &amp; \dots &amp; \sigma_{2p} \\
. &amp; . &amp; . &amp; . \\
\sigma_{p1} &amp; \sigma_{p2} &amp; \dots &amp; \sigma_{pp}\\
\end{array}\right)
\]</span></p>
<p>Hence, <span class="math inline">\(\mathbf{\Sigma}\)</span> is the variance-covariance or dispersion matrix.</p>
<p>And <span class="math inline">\(\mathbf{\Sigma}\)</span> is symmetric with <span class="math inline">\((p+1)p/2\)</span> unique parameters.</p>
<p>Alternatively, let <span class="math inline">\(u_{p \times 1}\)</span> and <span class="math inline">\(v_{v \times 1}\)</span> be random vectors with means <span class="math inline">\(\mathbf{\mu_u}\)</span> and <span class="math inline">\(\mathbf{\mu_v}\)</span>. then</p>
<p><span class="math display">\[
\mathbf{\Sigma_{uv}} = cov(\mathbf{u,v}) = E[\mathbf{(u-\mu_u)(v-\mu_v)'}]
\]</span></p>
<p><span class="math inline">\(\Sigma_{uv} \neq \Sigma_{vu}\)</span> (but <span class="math inline">\(\Sigma_{uv} = \Sigma_{vu}'\)</span>)</p>
<p>Properties of Covariance Matrices</p>
<ol style="list-style-type: decimal">
<li>Symmetric: <span class="math inline">\(\mathbf{\Sigma' = \Sigma}\)</span><br>
</li>
<li>Eigen-decomposition (spectral decomposition,symmetric decomposition): <span class="math inline">\(\mathbf{\Sigma = \Phi \Lambda \Phi}\)</span>, where <span class="math inline">\(\mathbf{\Phi}\)</span> is a matrix of eigenvectors such that <span class="math inline">\(\mathbf{\Phi \Phi' = I}\)</span> (orthonormal), and <span class="math inline">\(\mathbf{\Lambda}\)</span> is a diagonal matrix with eigenvalues <span class="math inline">\((\lambda_1,...,\lambda_p)\)</span> on the diagonal.<br>
</li>
<li>Non-negative definite, <span class="math inline">\(\mathbf{a \Sigma a} \ge 0\)</span> for any <span class="math inline">\(\mathbf{a} \in R^p\)</span>. Equivalently, the eigenvalues of <span class="math inline">\(\mathbf{\Sigma}\)</span>, <span class="math inline">\(\lambda_1 \ge ... \ge \lambda_p \ge 0\)</span><br>
</li>
<li>
<span class="math inline">\(|\mathbf{\Sigma}| = \lambda_1,...\lambda_p \ge 0\)</span> (generalized variance)<br>
</li>
<li>
<span class="math inline">\(trace(\mathbf{\Sigma})= tr(\mathbf{\Sigma}) = \lambda_1 +... + \lambda_p = \sigma_{11}+...+ \sigma_{pp}\)</span>= sum of variances (total variance)</li>
</ol>
<p><strong>Note</strong>: <span class="math inline">\(\mathbf{\Sigma}\)</span> is usually required to be positive definite. This implies that all eigenvalues are positive, and <span class="math inline">\(\mathbf{\Sigma}\)</span> has an inverse <span class="math inline">\(\mathbf{\Sigma}^{-1}\)</span>, such that <span class="math inline">\(\mathbf{\Sigma}^{-1}\mathbf{\Sigma}= \mathbf{I}_{p \times p} = \mathbf{\Sigma}\mathbf{\Sigma}^{-1}\)</span></p>
<p><strong>Correlation Matrices</strong></p>
<p>Define the correlation <span class="math inline">\(\rho_{ij}\)</span> and the correlation matrix by</p>
<p><span class="math display">\[
\rho_{ij} = \frac{\sigma_{ij}}{\sqrt{\sigma_{ii} \sigma_{jj}}}
\]</span></p>
<p><span class="math display">\[
\mathbf{R} = \left(
\begin{array}
{cccc}
\rho_{11} &amp; \rho_{12} &amp; \dots &amp; \rho_{1p} \\
\rho_{21} &amp; \rho_{22} &amp; \dots &amp; \rho_{2p} \\
\vdots &amp; vdots &amp; \ddots &amp; vdots \\
\rho_{p1} &amp; \rho_{p2} &amp; \dots &amp; \rho_{pp}\\
\end{array}
\right)
\]</span></p>
<p>where <span class="math inline">\(\rho_{ii}=1\)</span> for all <span class="math inline">\(i\)</span>.</p>
<p>Let <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> be random vectors with means <span class="math inline">\(\mu_x\)</span> and <span class="math inline">\(\mu_y\)</span> and variance-covariance matrices <span class="math inline">\(\Sigma_x\)</span> and <span class="math inline">\(\Sigma_y\)</span>.</p>
<p>Let <span class="math inline">\(\mathbf{A}\)</span> and <span class="math inline">\(\mathbf{B}\)</span> be matrices of constants and <span class="math inline">\(c\)</span> and <span class="math inline">\(d\)</span> be vectors of constants. Then,</p>
<ul>
<li><span class="math inline">\(E(\mathbf{Ay+c}) = \mathbf{A \mu_y} +c\)</span></li>
<li><span class="math inline">\(var(\mathbf{Ay +c}) = \mathbf{A}var(\mathbf{y}) \mathbf{A}' = \mathbf{A \Sigma_y A'}\)</span></li>
<li><span class="math inline">\(cov(\mathbf{Ay + c,By+d} = \mathbf{A \Sigma_y B'}\)</span></li>
</ul>
</div>
<div id="moment-generating-function" class="section level3" number="2.2.4">
<h3>
<span class="header-section-number">2.2.4</span> Moment generating function<a class="anchor" aria-label="anchor" href="#moment-generating-function"><i class="fas fa-link"></i></a>
</h3>
<p>Moment generating function properties:</p>
<ol style="list-style-type: lower-alpha">
<li>
<span class="math inline">\(\frac{d^k(m_X(t))}{dt^k}|_{t=0}=E[X^k]\)</span><br>
</li>
<li>
<span class="math inline">\(\mu=E[X]=m_X'(0)\)</span><br>
</li>
<li><span class="math inline">\(E[X^2]=m_X''(0)\)</span></li>
</ol>
<p><strong>mgf Theorems</strong></p>
<p>Let <span class="math inline">\(X_1,X_2,...X_n,Y\)</span> be random variables with moment-generating functions <span class="math inline">\(m_{X_1}(t),m_{X_2}(t),...,m_{X_n}(t),m_{Y}(t)\)</span></p>
<ol style="list-style-type: decimal">
<li>If <span class="math inline">\(m_{X_1}(t)=m_{X_2}(t)\)</span> for all t in some open interval about 0, then <span class="math inline">\(X_1\)</span> and <span class="math inline">\(X_2\)</span> have the same distribution</li>
<li>If <span class="math inline">\(Y = \alpha + \beta X_1\)</span>, then <span class="math inline">\(m_{Y}(t)= e^{\alpha t}m_{X_1}(\beta t)\)</span>
</li>
<li>If <span class="math inline">\(X_1,X_2,...X_n\)</span> are independent and <span class="math inline">\(Y = \alpha_0 + \alpha_1 X_1 + \alpha_2 X_2 + ... + \alpha_n X_n\)</span> (where <span class="math inline">\(\alpha_0, ... ,\alpha_n\)</span> are real numbers), then <span class="math inline">\(m_{Y}(t)=e^{\alpha_0 t}m_{X_1}(\alpha_1t)m_{X_2}(\alpha_2 t)...m_{X_n}(\alpha_nt)\)</span>
</li>
<li>Suppose <span class="math inline">\(X_1,X_2,...X_n\)</span> are independent normal random variables with means <span class="math inline">\(\mu_1,\mu_2,...\mu_n\)</span> and variances <span class="math inline">\(\sigma^2_1,\sigma^2_2,...,\sigma^2_n\)</span>. If <span class="math inline">\(Y = \alpha_0 + \alpha_1 X_1 + \alpha_2 X_2 + ... + \alpha_n X_n\)</span> (where <span class="math inline">\(\alpha_0, ... ,\alpha_n\)</span> are real numbers), then Y is normally distributed with mean <span class="math inline">\(\mu_Y = \alpha_0 + \alpha_1 \mu_1 +\alpha_2 \mu_2 + ... + \alpha_n \mu_n\)</span> and variance <span class="math inline">\(\sigma^2_Y = \alpha_1^2 \sigma_1^2 + \alpha_2^2 \sigma_2^2 + ... + \alpha_n^2 \sigma_n^2\)</span>
</li>
</ol>
</div>
<div id="moment" class="section level3" number="2.2.5">
<h3>
<span class="header-section-number">2.2.5</span> Moment<a class="anchor" aria-label="anchor" href="#moment"><i class="fas fa-link"></i></a>
</h3>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Moment</th>
<th>Uncentered</th>
<th>Centered</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1st</td>
<td><span class="math inline">\(E(X)=\mu=Mean(X)\)</span></td>
<td></td>
</tr>
<tr class="even">
<td>2nd</td>
<td><span class="math inline">\(E(X^2)\)</span></td>
<td><span class="math inline">\(E((X-\mu)^2)=Var(X)=\sigma^2\)</span></td>
</tr>
<tr class="odd">
<td>3rd</td>
<td><span class="math inline">\(E(X^3)\)</span></td>
<td><span class="math inline">\(E((X-\mu)^3)\)</span></td>
</tr>
<tr class="even">
<td>4th</td>
<td><span class="math inline">\(E(X^4)\)</span></td>
<td><span class="math inline">\(E((X-\mu)^4)\)</span></td>
</tr>
</tbody>
</table></div>
<p>Skewness(X) = <span class="math inline">\(E((X-\mu)^3)/\sigma^3\)</span></p>
<p>Kurtosis(X) = <span class="math inline">\(E((X-\mu)^4)/\sigma^4\)</span></p>
<p><strong>Conditional Moments</strong></p>
<p><span class="math display">\[
E(Y|X=x)=
\begin{cases}
\sum_yyf_Y(y|x) &amp; \text{for discrete RV}\\
\int_yyf_Y(y|x)dy &amp; \text{for continous RV}\\
\end{cases}
\]</span></p>
<p><span class="math display">\[
Var(Y|X=x)=
\begin{cases}
\sum_y(y-E(Y|x))^2f_Y(y|x) &amp; \text{for discrete RV}\\
\int_y(y-E(Y|x))^2f_Y(y|x)dy &amp; \text{for continous RV}\\
\end{cases}
\]</span></p>
<div id="multivariate-moments" class="section level4" number="2.2.5.1">
<h4>
<span class="header-section-number">2.2.5.1</span> Multivariate Moments<a class="anchor" aria-label="anchor" href="#multivariate-moments"><i class="fas fa-link"></i></a>
</h4>
<p><span class="math display">\[
E=
\left(
\begin{array}{c}
X \\
Y \\
\end{array}
\right)
=
\left(
\begin{array}{c}
E(X) \\
E(Y) \\
\end{array}
\right)
=
\left(
\begin{array}{c}
\mu_X \\
\mu_Y \\
\end{array}
\right)
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
Var
\left(
\begin{array}{c}
X \\
Y \\
\end{array}
\right)
&amp;=
\left(
\begin{array}
{cc}
Var(X) &amp; Cov(X,Y) \\
Cov(X,Y) &amp; Var(Y)
\end{array}
\right) \\
&amp;=
\left(
\begin{array}
{cc}
E((X-\mu_X)^2) &amp; E((X-\mu_X)(Y-\mu_Y)) \\
E((X-\mu_X)(Y-\mu_Y)) &amp; E((Y-\mu_Y)^2)
\end{array}
\right)
\end{aligned}
\]</span></p>
<p><strong>Properties</strong></p>
<ul>
<li><span class="math inline">\(E(aX + bY + c)=aE(X) +bE(Y) + c\)</span></li>
<li><span class="math inline">\(Var(aX + bY + c) = a^2Var(X) + b^2Var(Y) + 2abCov(X,Y)\)</span></li>
<li><span class="math inline">\(Cov(aX + bY, cX + bY) =acVar(X)+bdVar(Y) + (ad+bc)Cov(X,Y)\)</span></li>
<li>Correlation: <span class="math inline">\(\rho_{XY} = \frac{Cov(X,Y)}{\sigma_X\sigma_Y}\)</span>
</li>
</ul>
</div>
</div>
<div id="distributions" class="section level3" number="2.2.6">
<h3>
<span class="header-section-number">2.2.6</span> Distributions<a class="anchor" aria-label="anchor" href="#distributions"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Conditional Distributions</strong></p>
<p><span class="math display">\[
f_{X|Y}(X|Y=y)=\frac{f(X,Y)}{f_Y(y)}
\]</span></p>
<p><span class="math inline">\(f_{X|Y}(X|Y=y)=f_X(X)\)</span> if <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are independent</p>
<div id="discrete" class="section level4" number="2.2.6.1">
<h4>
<span class="header-section-number">2.2.6.1</span> Discrete<a class="anchor" aria-label="anchor" href="#discrete"><i class="fas fa-link"></i></a>
</h4>
<p>CDF: Cumulative Density Function<br>
MGF: Moment Generating Function</p>
<div id="bernoulli" class="section level5" number="2.2.6.1.1">
<h5>
<span class="header-section-number">2.2.6.1.1</span> Bernoulli<a class="anchor" aria-label="anchor" href="#bernoulli"><i class="fas fa-link"></i></a>
</h5>
<p><span class="math inline">\(Bernoulli(p)\)</span></p>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu">mc2d</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mc2d/man/bernoulli.html">rbern</a></span><span class="op">(</span><span class="fl">1000</span>, prob<span class="op">=</span><span class="fl">.5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-1-1.png" width="90%" style="display: block; margin: auto;"></div>
</div>
<div id="binomial" class="section level5" number="2.2.6.1.2">
<h5>
<span class="header-section-number">2.2.6.1.2</span> Binomial<a class="anchor" aria-label="anchor" href="#binomial"><i class="fas fa-link"></i></a>
</h5>
<p><span class="math inline">\(B(n,p)\)</span></p>
<ul>
<li>the experiment consists of a fixed number (n) of Bernoulli trials, each of which results in a success (s) or failure (f)</li>
<li>The trials are identical and independent, and probability of success <span class="math inline">\((p)\)</span> and probability of failure <span class="math inline">\((q = 1- p)\)</span> remains the same for all trials.</li>
<li>The random variable <span class="math inline">\(X\)</span> denotes the number of successes obtained in the <span class="math inline">\(n\)</span> trials.</li>
</ul>
<p><strong>Density</strong></p>
<p><span class="math display">\[
f(x)={{n}\choose{x}}p^xq^{n-x}
\]</span></p>
<p><strong>CDF</strong><br>
You have to use table</p>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Histogram of 1000 random values from a sample of 100 with probability of 0.5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="fl">1000</span>, size <span class="op">=</span> <span class="fl">100</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-2-1.png" width="90%" style="display: block; margin: auto;"></div>
<p><strong>MGF</strong></p>
<p><span class="math display">\[
m_X(t) =(q+pe^t)^n
\]</span></p>
<p><strong>Mean</strong></p>
<p><span class="math display">\[
\mu = E(x) = np
\]</span></p>
<p><strong>Variance</strong></p>
<p><span class="math display">\[
\sigma^2 =Var(X) = npq
\]</span></p>
</div>
<div id="poisson" class="section level5" number="2.2.6.1.3">
<h5>
<span class="header-section-number">2.2.6.1.3</span> Poisson<a class="anchor" aria-label="anchor" href="#poisson"><i class="fas fa-link"></i></a>
</h5>
<p><span class="math inline">\(Pois(\lambda)\)</span></p>
<ul>
<li>Arises with Poisson process, which involves observing discrete events in a continuous “interval” of time, length, or space.</li>
<li>The random variable <span class="math inline">\(X\)</span> is the number of occurrences of the event within an interval of <span class="math inline">\(s\)</span> units</li>
<li>The parameter <span class="math inline">\(\lambda\)</span> is the average number of occurrences of the event in question per measurement unit. For the distribution, we use the parameter <span class="math inline">\(k=\lambda s\)</span>
</li>
</ul>
<p><strong>Density</strong></p>
<p><span class="math display">\[
f(x) = \frac{e^{-k}k^x}{x!} ,k &gt; 0, x =0,1, \dots
\]</span></p>
<p><strong>CDF</strong> Use table</p>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Poisson dist with mean of 5 or Poisson(5)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">rpois</a></span><span class="op">(</span><span class="fl">1000</span>, lambda <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-3-1.png" width="90%" style="display: block; margin: auto;"></div>
<p><strong>MGF</strong></p>
<p><span class="math display">\[
m_X(t)=e^{k(e^t-1)}
\]</span></p>
<p><strong>Mean</strong></p>
<p><span class="math display">\[
\mu = E(X) = k
\]</span></p>
<p><strong>Variance</strong></p>
<p><span class="math display">\[
\sigma^2 = Var(X) = k
\]</span></p>
</div>
<div id="geometric" class="section level5" number="2.2.6.1.4">
<h5>
<span class="header-section-number">2.2.6.1.4</span> Geometric<a class="anchor" aria-label="anchor" href="#geometric"><i class="fas fa-link"></i></a>
</h5>
<ul>
<li>The experiment consists of a series of trails. The outcome of each trial can be classed as being either a “success” (s) or “failure” (f). (This is called a Bernoulli trial).</li>
<li>The trials are identical and independent in the sense that the outcome of one trial has no effect on the outcome of any other. The probability of success <span class="math inline">\((p)\)</span> and probability of failure <span class="math inline">\((q=1-p)\)</span> remains the same from trial to trial.</li>
<li>lack of memory</li>
<li>
<span class="math inline">\(X\)</span>: the number of trials needed to obtain the first success.</li>
</ul>
<p><strong>Density</strong></p>
<p><span class="math display">\[
f(x)=pq^{x-1}
\]</span></p>
<p><strong>CDF</strong><br><span class="math display">\[
F(x) = 1- q^x
\]</span></p>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># hist of Geometric distribution with probability of success = 0.5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Geometric.html">rgeom</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-4-1.png" width="90%" style="display: block; margin: auto;"></div>
<p><strong>MGF</strong></p>
<p><span class="math display">\[
m_X(t) = \frac{pe^t}{1-qe^t}
\]</span></p>
<p>for <span class="math inline">\(t &lt; -ln(q)\)</span></p>
<p><strong>Mean</strong></p>
<p><span class="math display">\[
\mu = \frac{1}{p}
\]</span></p>
<p><strong>Variance</strong></p>
<p><span class="math display">\[
\sigma^2 = Var(X) = \frac{q}{p^2}
\]</span></p>
</div>
<div id="hypergeometric" class="section level5" number="2.2.6.1.5">
<h5>
<span class="header-section-number">2.2.6.1.5</span> Hypergeometric<a class="anchor" aria-label="anchor" href="#hypergeometric"><i class="fas fa-link"></i></a>
</h5>
<ul>
<li>The experiment consists of drawing a random sample of size <span class="math inline">\(n\)</span> without replacement and without regard to order from a collection of <span class="math inline">\(N\)</span> objects.</li>
<li>Of the <span class="math inline">\(N\)</span> objects, <span class="math inline">\(r\)</span> have a trait of interest; <span class="math inline">\(N-r\)</span> do not have the trait</li>
<li>
<span class="math inline">\(X\)</span> is the number of objects in the sample with the trait.</li>
</ul>
<p><strong>Density</strong></p>
<p><span class="math display">\[
f(x)=\frac{{{r}\choose{x}}{{N-r}\choose{n-x}}}{{{N}\choose{n}}}
\]</span></p>
<p>where <span class="math inline">\(max[0,n-(N-r)] \le x \le min(n,r)\)</span></p>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># hist of hypergeometric distribution with the number of white balls = 50, </span></span>
<span><span class="co"># and the number of black balls = 20, and number of balls drawn = 30. </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Hypergeometric.html">rhyper</a></span><span class="op">(</span>nn <span class="op">=</span> <span class="fl">1000</span> , m<span class="op">=</span><span class="fl">50</span>, n<span class="op">=</span><span class="fl">20</span>, k<span class="op">=</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-5-1.png" width="90%" style="display: block; margin: auto;"></div>
<p><strong>Mean</strong></p>
<p><span class="math display">\[
\mu = E(x)= \frac{nr}{N}
\]</span></p>
<p><strong>Variance</strong></p>
<p><span class="math display">\[
\sigma^2 = var(X) = n (\frac{r}{N})(\frac{N-r}{N})(\frac{N-n}{N-1})
\]</span></p>
<p><strong>Note</strong> For large N (if <span class="math inline">\(\frac{n}{N} \le 0.05\)</span>), this distribution can be approximated using a Binomial distribution with <span class="math inline">\(p = \frac{r}{N}\)</span></p>
</div>
<div id="section" class="section level5" number="2.2.6.1.6">
<h5>
<span class="header-section-number">2.2.6.1.6</span> <a class="anchor" aria-label="anchor" href="#section"><i class="fas fa-link"></i></a>
</h5>
</div>
</div>
<div id="continuous" class="section level4" number="2.2.6.2">
<h4>
<span class="header-section-number">2.2.6.2</span> Continuous<a class="anchor" aria-label="anchor" href="#continuous"><i class="fas fa-link"></i></a>
</h4>
<div id="uniform" class="section level5" number="2.2.6.2.1">
<h5>
<span class="header-section-number">2.2.6.2.1</span> Uniform<a class="anchor" aria-label="anchor" href="#uniform"><i class="fas fa-link"></i></a>
</h5>
<ul>
<li>Defined over an interval <span class="math inline">\((a,b)\)</span> in which the probabilities are “equally likely” for subintervals of equal length.</li>
</ul>
<p><strong>Density</strong></p>
<p><span class="math display">\[
f(x)=\frac{1}{b-a}
\]</span></p>
<p>for <span class="math inline">\(a &lt; x &lt; b\)</span></p>
<p><strong>CDF</strong></p>
<p><span class="math display">\[
\begin{cases}
0 &amp; \text{if } x &lt;a \\
\frac{x-a}{b-a}  &amp; a \le x \le b  \\
1 &amp; \text{if } x &gt;b
\end{cases}
\]</span> <strong>PDF</strong></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">1000</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-6-1.png" width="90%" style="display: block; margin: auto;"></div>
<p><strong>MGF</strong></p>
<p><span class="math display">\[
\begin{cases}
\frac{e^{tb} - e^{ta}}{t(b-a)} &amp; \text{if } t \neq 0\\
1 &amp; \text{if } t \neq 0
\end{cases}
\]</span></p>
<p><strong>Mean</strong></p>
<p><span class="math display">\[
\mu = E(X) = \frac{a +b}{2}
\]</span></p>
<p><strong>Variance</strong></p>
<p><span class="math display">\[
\sigma^2 = Var(X) = \frac{(b-a)^2}{12}
\]</span></p>
</div>
<div id="gamma" class="section level5" number="2.2.6.2.2">
<h5>
<span class="header-section-number">2.2.6.2.2</span> Gamma<a class="anchor" aria-label="anchor" href="#gamma"><i class="fas fa-link"></i></a>
</h5>
<ul>
<li>is used to define the exponential and <span class="math inline">\(\chi^2\)</span> distributions</li>
<li>The gamma function is defined as:</li>
</ul>
<p><span class="math display">\[
\Gamma(\alpha) = \int_0^{\infty} z^{\alpha-1}e^{-z}dz
\]</span></p>
<p>where <span class="math inline">\(\alpha &gt; 0\)</span></p>
<ul>
<li>
<p>Properties of The Gamma function:<br></p>
<ul>
<li>
<span class="math inline">\(\Gamma(1) = 1\)</span> + For <span class="math inline">\(\alpha &gt;1\)</span>, <span class="math inline">\(\Gamma(\alpha)=(\alpha-1)\Gamma(\alpha-1)\)</span> + If n is an integer and <span class="math inline">\(n&gt;1\)</span>, then <span class="math inline">\(\Gamma(n) = (n-1)!\)</span>
</li>
</ul>
</li>
</ul>
<p><strong>Density</strong></p>
<p><span class="math display">\[
f(x) = \frac{1}{\Gamma(\alpha)\beta^{\alpha}}x^{\alpha-1}e^{-x/\beta}
\]</span></p>
<p><strong>CDF</strong></p>
<p><span class="math display">\[
F(x,n,\beta) = 1 -\sum_{k=0}^{n-1} \frac{(\frac{x}{\beta})^k e^{-x/\beta}}{k!}
\]</span></p>
<p>for <span class="math inline">\(x&gt;0\)</span>, and <span class="math inline">\(\alpha = n\)</span> (a positive integer)</p>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/GammaDist.html">rgamma</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, shape <span class="op">=</span> <span class="fl">5</span>, rate <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-7-1.png" width="90%" style="display: block; margin: auto;"></div>
<p><strong>MGF</strong></p>
<p><span class="math display">\[
m_X(t) = (1-\beta t)^{-\alpha}
\]</span></p>
<p>where <span class="math inline">\(t &lt; \frac{1}{\beta}\)</span></p>
<p><strong>Mean</strong></p>
<p><span class="math display">\[
\mu = E(X) = \alpha \beta
\]</span></p>
<p><strong>Variance</strong></p>
<p><span class="math display">\[
\sigma^2 = Var(X) = \alpha \beta^2
\]</span></p>
</div>
<div id="normal" class="section level5" number="2.2.6.2.3">
<h5>
<span class="header-section-number">2.2.6.2.3</span> Normal<a class="anchor" aria-label="anchor" href="#normal"><i class="fas fa-link"></i></a>
</h5>
<p><span class="math inline">\(N(\mu,\sigma^2)\)</span></p>
<ul>
<li>is symmetric, bell-shaped curve with parameters <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma^2\)</span>
</li>
<li>also known as Gaussian.</li>
</ul>
<p><strong>Density</strong></p>
<p><span class="math display">\[
f(x) = \frac{1}{\sigma \sqrt{2\pi }}e^{-\frac{1}{2}(\frac{x-\mu}{\sigma})^2}
\]</span></p>
<p>for <span class="math inline">\(-\infty &lt; x, \mu&lt; \infty, \sigma &gt; 0\)</span></p>
<p><strong>CDF</strong></p>
<p>Use table</p>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-8-1.png" width="90%" style="display: block; margin: auto;"></div>
<p><strong>MGF</strong></p>
<p><span class="math display">\[
m_X(t) = e^{\mu t + \frac{\sigma^2 t^2}{2}}
\]</span></p>
<p><strong>Mean</strong></p>
<p><span class="math display">\[
\mu = E(X)
\]</span></p>
<p><strong>Variance</strong></p>
<p><span class="math display">\[
\sigma^2 = Var(X)
\]</span></p>
<p><strong>Standard Normal Random Variable</strong></p>
<ul>
<li>The normal random variable <span class="math inline">\(Z\)</span> with mean <span class="math inline">\(\mu = 0\)</span> and standard deviation <span class="math inline">\(\sigma =1\)</span> is called standard normal</li>
<li>Any normal random variable X with mean <span class="math inline">\(\mu\)</span> and standard deviation <span class="math inline">\(\sigma\)</span> can be converted to the standard normal random variable <span class="math inline">\(Z = \frac{X-\mu}{\sigma}\)</span>
</li>
</ul>
<p><strong>Normal Approximation to the Binomial Distribution</strong></p>
<p>Let <span class="math inline">\(X\)</span> be binomial with parameters <span class="math inline">\(n\)</span> and <span class="math inline">\(p\)</span>. For large <span class="math inline">\(n\)</span> (so that <span class="math inline">\((A)p \le .5\)</span> and <span class="math inline">\(np &gt; 5\)</span> or (B) <span class="math inline">\(p&gt;.5\)</span> and <span class="math inline">\(nq&gt;5\)</span>), X is approximately normally distributed with mean <span class="math inline">\(\mu = np\)</span> and standard deviation <span class="math inline">\(\sigma = \sqrt{npq}\)</span></p>
<p>When using the normal approximation, add or subtract 0.5 as needed for the continuity correction</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="center">Discrete</th>
<th align="center">Approximate Normal (corrected)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(P(X = c)\)</span></td>
<td align="center"><span class="math inline">\(P(c -0.5 &lt; Y &lt; c + 0.5)\)</span></td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(P(X &lt; c)\)</span></td>
<td align="center"><span class="math inline">\(P(Y &lt; c - 0.5)\)</span></td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(P(X \le c)\)</span></td>
<td align="center"><span class="math inline">\(P(Y &lt; c + 0.5)\)</span></td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(P(X &gt; c)\)</span></td>
<td align="center"><span class="math inline">\(P(Y &gt; c + 0.5)\)</span></td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(P(X \ge c)\)</span></td>
<td align="center"><span class="math inline">\(P(Y &gt; c - 0.5)\)</span></td>
</tr>
</tbody>
</table></div>
<p><strong>Normal Probability Rule</strong></p>
<p>If X is normally distributed with parameters <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span>, then</p>
<ul>
<li><span class="math inline">\(P(-\sigma &lt; X - \mu &lt; \sigma) \approx .68\)</span></li>
<li><span class="math inline">\(P(-2\sigma &lt; X - \mu &lt; 2\sigma) \approx .95\)</span></li>
<li><span class="math inline">\(P(-3\sigma &lt; X - \mu &lt; 3\sigma) \approx .997\)</span></li>
</ul>
</div>
<div id="logistic" class="section level5" number="2.2.6.2.4">
<h5>
<span class="header-section-number">2.2.6.2.4</span> Logistic<a class="anchor" aria-label="anchor" href="#logistic"><i class="fas fa-link"></i></a>
</h5>
<p><span class="math inline">\(Logistic(\mu,s)\)</span></p>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Logistic.html">rlogis</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, location <span class="op">=</span> <span class="fl">0</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-9-1.png" width="90%" style="display: block; margin: auto;"></div>
</div>
<div id="laplace" class="section level5" number="2.2.6.2.5">
<h5>
<span class="header-section-number">2.2.6.2.5</span> Laplace<a class="anchor" aria-label="anchor" href="#laplace"><i class="fas fa-link"></i></a>
</h5>
<p><span class="math display">\[
f(x) = \frac{1}{2} e^{-|x-\theta|}
\]</span></p>
<p>where <span class="math inline">\(-\infty &lt; x &lt; \infty\)</span> and <span class="math inline">\(-\infty &lt; \theta &lt; \infty\)</span></p>
<p><span class="math display">\[
\mu = \theta, \sigma^2 = 2
\]</span></p>
<p>and</p>
<p><span class="math display">\[
m(t) = e^{t \theta} \frac{1}{1 - t^2}
\]</span></p>
<p>where <span class="math inline">\(-1 &lt; t &lt; 1\)</span></p>
</div>
<div id="log-normal" class="section level5" number="2.2.6.2.6">
<h5>
<span class="header-section-number">2.2.6.2.6</span> Log-normal<a class="anchor" aria-label="anchor" href="#log-normal"><i class="fas fa-link"></i></a>
</h5>
<p><span class="math inline">\(lognormal(\mu,\sigma^2)\)</span></p>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html">rlnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, meanlog <span class="op">=</span> <span class="fl">0</span>, sdlog <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-10-1.png" width="90%" style="display: block; margin: auto;"></div>
</div>
<div id="exponential" class="section level5" number="2.2.6.2.7">
<h5>
<span class="header-section-number">2.2.6.2.7</span> Exponential<a class="anchor" aria-label="anchor" href="#exponential"><i class="fas fa-link"></i></a>
</h5>
<p><span class="math inline">\(Exp(\lambda)\)</span></p>
<ul>
<li>A special case of the gamma distribution with <span class="math inline">\(\alpha = 1\)</span>
</li>
<li>Lack of memory</li>
<li>
<span class="math inline">\(\lambda\)</span> = rate Within a Poisson process with parameter <span class="math inline">\(\lambda\)</span>, if W is the waiting tine until the occurrence of the first event, then W has an exponential distribution with <span class="math inline">\(\beta = 1/\alpha\)</span>
</li>
</ul>
<p><strong>Density</strong></p>
<p><span class="math display">\[
f(x) = \frac{1}{\beta} e^{-x/\beta}
\]</span></p>
<p>for <span class="math inline">\(x,\beta &gt; 0\)</span></p>
<p><strong>CDF</strong></p>
<p><span class="math display">\[
F(x) =
\begin{cases}
0 &amp; \text{if } x \le 0 \\
1 - e^{-x/\beta} &amp; \text{if } x &gt; 0
\end{cases}
\]</span></p>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Exponential.html">rexp</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, rate <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-11-1.png" width="90%" style="display: block; margin: auto;"></div>
<p><strong>MGF</strong></p>
<p><span class="math display">\[
m_X(t) = (1-\beta t)^{-1}
\]</span></p>
<p>for <span class="math inline">\(t &lt; 1/\beta\)</span></p>
<p><strong>Mean</strong></p>
<p><span class="math display">\[
\mu = E(X) = \beta
\]</span></p>
<p><strong>Variance</strong></p>
<p><span class="math display">\[
\sigma^2 = Var(X) =\beta^2
\]</span></p>
</div>
<div id="chi-squared" class="section level5" number="2.2.6.2.8">
<h5>
<span class="header-section-number">2.2.6.2.8</span> Chi-squared<a class="anchor" aria-label="anchor" href="#chi-squared"><i class="fas fa-link"></i></a>
</h5>
<p><span class="math inline">\(\chi^2=\chi^2(k)\)</span></p>
<ul>
<li>A special case of the gamma distribution with <span class="math inline">\(\beta =2\)</span>, and <span class="math inline">\(\alpha = \gamma /2\)</span> for a positive integer <span class="math inline">\(\gamma\)</span>
</li>
<li>The random variable <span class="math inline">\(X\)</span> is denoted <span class="math inline">\(\chi_{\gamma}^2\)</span> and is said to have a chi-squared distribution with <span class="math inline">\(\gamma\)</span> degrees of freedom.</li>
</ul>
<p><strong>Density</strong> Use density for Gamma Distribution with <span class="math inline">\(\beta = 2\)</span> and <span class="math inline">\(\alpha = \gamma/2\)</span></p>
<p><strong>CDF</strong> Use table</p>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Chisquare.html">rchisq</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, df<span class="op">=</span><span class="fl">2</span>, ncp <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-12-1.png" width="90%" style="display: block; margin: auto;"></div>
<p><strong>MGF</strong></p>
<p><span class="math display">\[
m_X(t) = (1-2t)^{-\gamma/2}
\]</span></p>
<p><strong>Mean</strong></p>
<p><span class="math display">\[
\mu = E(X) = \gamma
\]</span></p>
<p><strong>Variance</strong></p>
<p><span class="math display">\[
\sigma^2 = Var(X) = 2\gamma
\]</span></p>
</div>
<div id="student-t" class="section level5" number="2.2.6.2.9">
<h5>
<span class="header-section-number">2.2.6.2.9</span> Student T<a class="anchor" aria-label="anchor" href="#student-t"><i class="fas fa-link"></i></a>
</h5>
<p><span class="math inline">\(T(v)\)</span></p>
<ul>
<li>
<span class="math inline">\(T=\frac{Z}{\sqrt{\chi_{\gamma}^2/\gamma}}\)</span>, where Z is standard normal follows a student-t distribution with <span class="math inline">\(\gamma\)</span> dof</li>
<li>The distribution is symmetric, bell-shaped , with a mean of <span class="math inline">\(\mu=0\)</span>
</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html">rt</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, df<span class="op">=</span><span class="fl">2</span>, ncp <span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-13-1.png" width="90%" style="display: block; margin: auto;"></div>
</div>
<div id="f-distribution" class="section level5" number="2.2.6.2.10">
<h5>
<span class="header-section-number">2.2.6.2.10</span> F-Distribution<a class="anchor" aria-label="anchor" href="#f-distribution"><i class="fas fa-link"></i></a>
</h5>
<p><span class="math inline">\(F(d_1,d_2)\)</span></p>
<ul>
<li>F distribution is strictly positive</li>
<li>
<span class="math inline">\(F=\frac{\chi_{\gamma_1}^2/\gamma_1}{\chi_{\gamma_2^2}/\gamma_2}\)</span> follows an F distribution with dof <span class="math inline">\(\gamma_1\)</span> and <span class="math inline">\(\gamma_2\)</span>, where <span class="math inline">\(\chi_{\gamma_1}^2\)</span> and <span class="math inline">\(\chi_{\gamma_2}^2\)</span> are independent chi-squared random variables.</li>
<li>The distribution is asymmetric and never negative.</li>
</ul>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Fdist.html">rf</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, df1<span class="op">=</span><span class="fl">2</span>, df2<span class="op">=</span><span class="fl">3</span>, ncp<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-14-1.png" width="90%" style="display: block; margin: auto;"></div>
</div>
<div id="cauchy" class="section level5" number="2.2.6.2.11">
<h5>
<span class="header-section-number">2.2.6.2.11</span> Cauchy<a class="anchor" aria-label="anchor" href="#cauchy"><i class="fas fa-link"></i></a>
</h5>
<p><a href="prerequisites.html#central-limit-theorem">Central Limit Theorem</a> and <a href="prerequisites.html#weak-law">Weak Law</a> do not apply to Cauchy because it does not have finite mean and finite variance</p>
<p><strong>PDF</strong></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Cauchy.html">rcauchy</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, location <span class="op">=</span> <span class="fl">0</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.1-prerequisites_files/figure-html/unnamed-chunk-15-1.png" width="90%" style="display: block; margin: auto;"></div>
</div>
<div id="multivariate-normal-distribution" class="section level5" number="2.2.6.2.12">
<h5>
<span class="header-section-number">2.2.6.2.12</span> Multivariate Normal Distribution<a class="anchor" aria-label="anchor" href="#multivariate-normal-distribution"><i class="fas fa-link"></i></a>
</h5>
<p>Let <span class="math inline">\(y\)</span> be a <span class="math inline">\(p\)</span>-dimensional multivariate normal (MVN) random variable with mean <span class="math inline">\(\mu\)</span> and variance <span class="math inline">\(\Sigma\)</span>. Then, the density of <span class="math inline">\(y\)</span> is</p>
<p><span class="math display">\[
f(\mathbf{y}) = \frac{1}{(2\pi)^{p/2}|\mathbf{\Sigma}|^{1/2}}exp(-\frac{1}{2}\mathbf{(y-\mu)'\Sigma^{-1}(y-\mu)})
\]</span></p>
<p>We have <span class="math inline">\(\mathbf{y} \sim N_p(\mathbf{\mu,\Sigma})\)</span></p>
<p>Properties:</p>
<ul>
<li>Let <span class="math inline">\(\mathbf{A}_{r \times p}\)</span> be a fixed matrix. then <span class="math inline">\(\mathbf{Ay} \sim N_r(\mathbf{A \mu, A \Sigma A')}\)</span>. Note that <span class="math inline">\(r \le p\)</span> and all rows of <span class="math inline">\(\mathbf{A}\)</span> must be linearly independent to guarantee that <span class="math inline">\(\mathbf{A\Sigma A'}\)</span> is non-singular.<br>
</li>
<li>Let <span class="math inline">\(\mathbf{G}\)</span> be a matrix such that <span class="math inline">\(\mathbf{\Sigma^{-1}= GG'}\)</span>. then, <span class="math inline">\(\mathbf{G'y} \sim N_p (\mathbf{G'\mu,I})\)</span> and <span class="math inline">\(\mathbf{G'(y-\mu)} \sim N_p (\mathbf{0,I})\)</span>.<br>
</li>
<li>Any fixed linear combination of <span class="math inline">\(y_1,...,y_p\)</span> say <span class="math inline">\(\mathbf{c'y}\)</span>, follows <span class="math inline">\(\mathbf{c'y} \sim N_1(\mathbf{c'\mu,c'\Sigma c})\)</span>
</li>
</ul>
<p><strong>Large Sample Properties</strong></p>
<p>Suppose that <span class="math inline">\(y_1,...,y_n\)</span> are a random sample from some population with mean <span class="math inline">\(\mu\)</span> and variance-variance matrix <span class="math inline">\(\Sigma\)</span></p>
<p><span class="math display">\[
\mathbf{Y} \sim MVN(\mathbf{\mu,\Sigma})
\]</span></p>
<p>Then</p>
<ul>
<li>
<span class="math inline">\(\bar{\mathbf{y}} = \frac{1}{n}\sum_{i=1}^n \mathbf{y}_i\)</span> is a consistent estimator for <span class="math inline">\(\mathbf{\mu}\)</span><br>
</li>
<li>
<span class="math inline">\(\mathbf{S} = \frac{1}{n-1}\sum_{i=1}^n \mathbf{(y_i - \bar{y})(y_i - \bar{y})'}\)</span> is a consistent estimator for <span class="math inline">\(\mathbf{\Sigma}\)</span><br>
</li>
<li>
<strong>Multivariate Central Limit Theorem</strong>: Similar to the univariate case, <span class="math inline">\(\sqrt{n}(\mathbf{\bar{y}- \mu}) \sim N_p(\mathbf{0, \Sigma})\)</span> when <span class="math inline">\(n\)</span> is large relative to p (e.g., <span class="math inline">\(n \ge 25p\)</span>), which is equivalent to <span class="math inline">\(\bar{y} \sim N_p(\mathbf{\mu,\Sigma/n})\)</span><br>
</li>
<li>Wald’s Theorem: <span class="math inline">\(n(\mathbf{\bar{y}- \mu)'S^{-1}(\bar{y}- \mu)} \sim \chi^2_{(p)}\)</span> when <span class="math inline">\(n\)</span> is large relative to <span class="math inline">\(p\)</span>.</li>
</ul>
</div>
</div>
</div>
</div>
<div id="general-math" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> General Math<a class="anchor" aria-label="anchor" href="#general-math"><i class="fas fa-link"></i></a>
</h2>
<div id="number-sets" class="section level3" number="2.3.1">
<h3>
<span class="header-section-number">2.3.1</span> Number Sets<a class="anchor" aria-label="anchor" href="#number-sets"><i class="fas fa-link"></i></a>
</h3>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Notation</th>
<th>Denotes</th>
<th>Examples</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\emptyset\)</span></td>
<td>Empty set</td>
<td>No members</td>
</tr>
<tr class="even">
<td><span class="math inline">\(\mathbb{N}\)</span></td>
<td>Natural numbers</td>
<td><span class="math inline">\(\{1, 2, ...\}\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\mathbb{Z}\)</span></td>
<td>Integers</td>
<td><span class="math inline">\(\{ ..., -1, 0, 1, ...\}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\mathbb{Q}\)</span></td>
<td>Rational numbers</td>
<td>including fractions</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\mathbb{R}\)</span></td>
<td>Real numbers</td>
<td></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\mathbb{C}\)</span></td>
<td>Complex numbers</td>
<td></td>
</tr>
</tbody>
</table></div>
</div>
<div id="summation-notation-and-series" class="section level3" number="2.3.2">
<h3>
<span class="header-section-number">2.3.2</span> Summation Notation and Series<a class="anchor" aria-label="anchor" href="#summation-notation-and-series"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Chebyshev’s Inequality</strong> Let <span class="math inline">\(X\)</span> be a random variable with mean <span class="math inline">\(\mu\)</span> and standard deviation <span class="math inline">\(\sigma\)</span>. Then for any positive number <span class="math inline">\(k\)</span>:</p>
<p><span class="math display">\[
P(|X-\mu| &lt; k\sigma) \ge 1 - \frac{1}{k^2}
\]</span></p>
<p>Chebyshev’s Inequality does not require that <span class="math inline">\(X\)</span> be normally distributed</p>
<p><strong>Geometric sum</strong></p>
<p><span class="math display">\[
\sum_{k=0}^{n-1} ar^k = a\frac{1-r^n}{1-r}
\]</span></p>
<p>where <span class="math inline">\(r \neq 1\)</span></p>
<p><strong>Geometric series</strong></p>
<p><span class="math display">\[
\sum_{k=0}^\infty ar^k = \frac{a}{1-r}
\]</span></p>
<p>where <span class="math inline">\(|r| &lt;1\)</span></p>
<p><strong>Binomial theorem</strong></p>
<p><span class="math display">\[
(x + y)^n = \sum_{k=0}^n \binom{n}{k} x^{n-k} y^k
\]</span></p>
<p>where <span class="math inline">\(n \ge 0\)</span></p>
<p><strong>Binomial series</strong></p>
<p><span class="math display">\[
\sum_k \binom{\alpha}{k} x^k  = (1 +x)^\alpha
\]</span></p>
<p><span class="math inline">\(|x| &lt; 1\)</span> if <span class="math inline">\(\alpha \neq n \ge 0\)</span></p>
<p><strong>Telescoping sum</strong></p>
<p>When terms of a sum cancel each other out, leaving one term (i.e., it collapses like a telescope), we call it a telescoping sum</p>
<p><span class="math display">\[
\sum_{a \le k &lt; b} \Delta F(k) = F(b) - F(a)
\]</span></p>
<p>where <span class="math inline">\(a \le b\)</span> and <span class="math inline">\(a, b \in \mathbb{Z}\)</span></p>
<p><strong>Vandermonde convolution</strong></p>
<p><span class="math display">\[
\sum_k \binom{r}{k} \binom{s}{n-k} = \binom{r+s}{n}
\]</span></p>
<p><span class="math inline">\(n \in \mathbb{Z}\)</span></p>
<p><strong>Exponential series</strong></p>
<p><span class="math display">\[
\sum_{k=0}^\infty \frac{x^k}{k!} = e^x
\]</span></p>
<p>where <span class="math inline">\(x \in \mathbb{C}\)</span></p>
<p><strong>Taylor series</strong></p>
<p><span class="math display">\[
\sum_{k=0}^{\infty} \frac{f^{(k)}(a)}{k!} (x-a)^k = f(x)
\]</span></p>
<p>where <span class="math inline">\(|x-a| &lt; R =\)</span> radius of convergence</p>
<p>when <span class="math inline">\(a = 0\)</span>, we have</p>
<p><strong>Maclaurin series expansion for</strong></p>
<p><span class="math display">\[
e^z = 1 + z + \frac{z^2}{2!} + \frac{z^3}{3!} + ...
\]</span></p>
<p><strong>Euler’s summation formula</strong></p>
<p><span class="math display">\[\sum_{a \le k &lt; b} f(k) = \int_a^b f(x) dx + \sum_{k=1}^m\frac{B_k}{k!} f^{(k-1)}(x) |_a^b \\+ (-1)^{m+1} \int^b_a \frac{B_m (x-|x|)}{m!} f^{(m)}(x)dx\]</span> where <span class="math inline">\(a,b, c \in \mathbb{Z}\)</span> and <span class="math inline">\(a \le b, m \ge 1\)</span></p>
<p>when <span class="math inline">\(m = 1\)</span>, we have trapezoidal rule</p>
<p><span class="math display">\[
\sum_{a \le k &lt; b} f(k) \approx \int_a^b f(x) dx - \frac{1}{2} (f(b) - f(a))
\]</span></p>
</div>
<div id="taylor-expansion" class="section level3" number="2.3.3">
<h3>
<span class="header-section-number">2.3.3</span> Taylor Expansion<a class="anchor" aria-label="anchor" href="#taylor-expansion"><i class="fas fa-link"></i></a>
</h3>
<p>A differentiable function, <span class="math inline">\(G(x)\)</span> can be written as an infinite sum of its derivatives.</p>
<p>More specifically, an infinitely differentiable <span class="math inline">\(G(x)\)</span> evaluated at <span class="math inline">\(a\)</span> is</p>
<p><span class="math display">\[
G(x) = G(a) + \frac{G'(a)}{1!} (x-a) + \frac{G''(a)}{2!}(x-a) + \frac{G'''(a)}{3!}(x-a)^3 + \dots
\]</span></p>
</div>
<div id="law-of-large-numbers" class="section level3" number="2.3.4">
<h3>
<span class="header-section-number">2.3.4</span> Law of large numbers<a class="anchor" aria-label="anchor" href="#law-of-large-numbers"><i class="fas fa-link"></i></a>
</h3>
<p>Let <span class="math inline">\(X_1,X_2,...\)</span> be an infinite sequence of independent and identically distributed (i.i.d)</p>
<p>Then, the sample average is</p>
<p><span class="math display">\[
\bar{X}_n =\frac{1}{n} (X_1 + ... + X_n)
\]</span></p>
<p>converges to the expected value (<span class="math inline">\(\bar{X}_n \rightarrow \mu\)</span>) as <span class="math inline">\(n \rightarrow \infty\)</span></p>
<p><span class="math display">\[
Var(X_i) = Var(\frac{1}{n}(X_1 + ... + X_n)) = \frac{1}{n^2}Var(X_1 + ... + X_n)= \frac{n\sigma^2}{n^2}=\frac{\sigma^2}{n}
\]</span></p>
<p>Note: The connection between the LLN and the normal distribution lies in the <a href="prerequisites.html#central-limit-theorem">Central Limit Theorem</a>. The CLT states that, regardless of the original distribution of a dataset, the distribution of the sample means will tend to follow a normal distribution as the sample size becomes larger.</p>
<p>The difference between <a href="prerequisites.html#weak-law">Weak Law</a> and <a href="prerequisites.html#strong-law">Strong Law</a> regards the mode of convergence</p>
<div id="weak-law" class="section level4" number="2.3.4.1">
<h4>
<span class="header-section-number">2.3.4.1</span> Weak Law<a class="anchor" aria-label="anchor" href="#weak-law"><i class="fas fa-link"></i></a>
</h4>
<p>The sample average converges in probability towards the expected value</p>
<p><span class="math display">\[
\bar{X}_n \rightarrow^{p} \mu
\]</span></p>
<p>when <span class="math inline">\(n \rightarrow \infty\)</span></p>
<p><span class="math display">\[
\lim_{n\to \infty}P(|\bar{X}_n - \mu| &gt; \epsilon) = 0
\]</span></p>
<p>The sample mean of an iid random sample (<span class="math inline">\(\{ x_i \}_{i=1}^n\)</span>) from any population with a finite mean and finite variance <span class="math inline">\(\sigma^2\)</span> iis a consistent estimator of the population mean <span class="math inline">\(\mu\)</span></p>
<p><span class="math display">\[
plim(\bar{x})=plim(n^{-1}\sum_{i=1}^{n}x_i) =\mu
\]</span></p>
</div>
<div id="strong-law" class="section level4" number="2.3.4.2">
<h4>
<span class="header-section-number">2.3.4.2</span> Strong Law<a class="anchor" aria-label="anchor" href="#strong-law"><i class="fas fa-link"></i></a>
</h4>
<p>The sample average converges almost surely to the expected value</p>
<p><span class="math display">\[
\bar{X}_n \rightarrow^{a.s} \mu
\]</span></p>
<p>when <span class="math inline">\(n \rightarrow \infty\)</span></p>
<p>Equivalently,</p>
<p><span class="math display">\[
P(\lim_{n\to \infty}\bar{X}_n =\mu) =1
\]</span></p>
</div>
</div>
<div id="law-of-iterated-expectation" class="section level3" number="2.3.5">
<h3>
<span class="header-section-number">2.3.5</span> Law of Iterated Expectation<a class="anchor" aria-label="anchor" href="#law-of-iterated-expectation"><i class="fas fa-link"></i></a>
</h3>
<p>Let <span class="math inline">\(X, Y\)</span> be random variables. Then,</p>
<p><span class="math display">\[
E(X) = E(E(X|Y))
\]</span></p>
<p>means that the expected value of X can be calculated from the probability distribution of <span class="math inline">\(X|Y\)</span> and <span class="math inline">\(Y\)</span></p>
</div>
<div id="convergence" class="section level3" number="2.3.6">
<h3>
<span class="header-section-number">2.3.6</span> Convergence<a class="anchor" aria-label="anchor" href="#convergence"><i class="fas fa-link"></i></a>
</h3>
<div id="convergence-in-probability" class="section level4" number="2.3.6.1">
<h4>
<span class="header-section-number">2.3.6.1</span> Convergence in Probability<a class="anchor" aria-label="anchor" href="#convergence-in-probability"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>
<span class="math inline">\(n \rightarrow \infty\)</span>, an estimator (random variable) that is close to the true value.</li>
<li>The random variable <span class="math inline">\(\theta_n\)</span> converges in probability to a constant <span class="math inline">\(c\)</span> if</li>
</ul>
<p><span class="math display">\[
\lim_{n\to \infty}P(|\theta_n - c| \ge \epsilon) = 0
\]</span></p>
<p>for any positive <span class="math inline">\(\epsilon\)</span></p>
<p>Notation</p>
<p><span class="math display">\[
plim(\theta_n)=c
\]</span></p>
<p>Equivalently,</p>
<p><span class="math display">\[
\theta_n \rightarrow^p c
\]</span></p>
<p><strong>Properties of Convergence in Probability</strong></p>
<ul>
<li><p>Slutsky’s Theorem: for a continuous function g(.), if <span class="math inline">\(plim(\theta_n)= \theta\)</span> then <span class="math inline">\(plim(g(\theta_n)) = g(\theta)\)</span></p></li>
<li>
<p>if <span class="math inline">\(\gamma_n \rightarrow^p \gamma\)</span> then</p>
<ul>
<li>
<span class="math inline">\(plim(\theta_n + \gamma_n)=\theta + \gamma\)</span> + <span class="math inline">\(plim(\theta_n \gamma_n) = \theta \gamma\)</span> + <span class="math inline">\(plim(\theta_n/\gamma_n) = \theta/\gamma\)</span> if <span class="math inline">\(\gamma \neq 0\)</span>
</li>
</ul>
</li>
<li><p>Also hold for random vectors/ matrices</p></li>
</ul>
</div>
<div id="convergence-in-distribution" class="section level4" number="2.3.6.2">
<h4>
<span class="header-section-number">2.3.6.2</span> Convergence in Distribution<a class="anchor" aria-label="anchor" href="#convergence-in-distribution"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>As <span class="math inline">\(n \rightarrow \infty\)</span>, the distribution of a random variable may converge towards another (“fixed”) distribution.</li>
<li>The random variable <span class="math inline">\(X_n\)</span> with CDF <span class="math inline">\(F_n(x)\)</span> converges in distribution to a random variable <span class="math inline">\(X\)</span> with CDF <span class="math inline">\(F(X)\)</span> if</li>
</ul>
<p><span class="math display">\[
\lim_{n\to \infty}|F_n(x) - F(x)| = 0
\]</span></p>
<p>at all points of continuity of <span class="math inline">\(F(X)\)</span></p>
<p>Notation <span class="math inline">\(F(x)\)</span> is the limiting distribution of <span class="math inline">\(X_n\)</span> or <span class="math inline">\(X_n \rightarrow^d X\)</span></p>
<ul>
<li>
<span class="math inline">\(E(X)\)</span> is the limiting mean (asymptotic mean)</li>
<li>
<span class="math inline">\(Var(X)\)</span> is the limiting variance (asymptotic variance)</li>
</ul>
<p><strong>Note</strong></p>
<p><span class="math display">\[
\begin{aligned}
E(X) &amp;\neq \lim_{n\to \infty}E(X_n) \\
Avar(X_n) &amp;\neq \lim_{n\to \infty}Var(X_n)
\end{aligned}
\]</span></p>
<p><strong>Properties of Convergence in Distribution</strong></p>
<ul>
<li><p>Continuous Mapping Theorem: for a continuous function g(.), if <span class="math inline">\(X_n \to^{d} g(X)\)</span> then <span class="math inline">\(g(X_n) \to^{d} g(X)\)</span></p></li>
<li>
<p>If <span class="math inline">\(Y_n\to^{d} c\)</span>, then</p>
<ul>
<li><p><span class="math inline">\(X_n + Y_n \to^{d} X + c\)</span></p></li>
<li><p><span class="math inline">\(Y_nX_n \to^{d} cX\)</span></p></li>
<li><p><span class="math inline">\(X_nY_n \to^{d} X/c\)</span> if <span class="math inline">\(c \neq 0\)</span></p></li>
</ul>
</li>
<li><p>also hold for random vectors/matrices</p></li>
</ul>
</div>
<div id="summary" class="section level4" number="2.3.6.3">
<h4>
<span class="header-section-number">2.3.6.3</span> Summary<a class="anchor" aria-label="anchor" href="#summary"><i class="fas fa-link"></i></a>
</h4>
<p>Properties of Convergence</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th>Probability</th>
<th>Distribution</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Slutsky’s Theorem: for a continuous function g(.), if <span class="math inline">\(plim(\theta_n)= \theta\)</span> then <span class="math inline">\(plim(g(\theta_n)) = g(\theta)\)</span>
</td>
<td>Continuous Mapping Theorem: for a continuous function g(.), if <span class="math inline">\(X_n \to^{d} g(X)\)</span> then <span class="math inline">\(g(X_n) \to^{d} g(X)\)</span>
</td>
</tr>
<tr class="even">
<td>if <span class="math inline">\(\gamma_n \rightarrow^p \gamma\)</span> then</td>
<td>if <span class="math inline">\(Y_n\to^{d} c\)</span>, then</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(plim(\theta_n + \gamma_n)=\theta + \gamma\)</span></td>
<td><span class="math inline">\(X_n + Y_n \to^{d} X + c\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(plim(\theta_n \gamma_n) = \theta \gamma\)</span></td>
<td><span class="math inline">\(Y_nX_n \to^{d} cX\)</span></td>
</tr>
<tr class="odd">
<td>
<span class="math inline">\(plim(\theta_n/\gamma_n) = \theta/\gamma\)</span> if <span class="math inline">\(\gamma \neq 0\)</span>
</td>
<td>
<span class="math inline">\(X_nY_n \to^{d} X/c\)</span> if <span class="math inline">\(c \neq 0\)</span>
</td>
</tr>
</tbody>
</table></div>
<p><a href="prerequisites.html#convergence-in-probability">Convergence in Probability</a> is stronger than <a href="prerequisites.html#convergence-in-distribution">Convergence in Distribution</a>.</p>
<p>Hence, <a href="prerequisites.html#convergence-in-distribution">Convergence in Distribution</a> does not guarantee <a href="prerequisites.html#convergence-in-probability">Convergence in Probability</a></p>
</div>
</div>
<div id="sufficient-statistics" class="section level3" number="2.3.7">
<h3>
<span class="header-section-number">2.3.7</span> Sufficient Statistics<a class="anchor" aria-label="anchor" href="#sufficient-statistics"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Likelihood</strong></p>
<ul>
<li>describes the extent to which the sample provides support for any particular parameter value.</li>
<li>Higher support corresponds to a higher value for the likelihood</li>
<li>The exact value of any likelihood is <strong>meaningless</strong>,</li>
<li>The relative value, (i.e., comparing two values of <span class="math inline">\(\theta\)</span>), is <strong>informative</strong>.</li>
</ul>
<p><span class="math display">\[
L(\theta_0; y) = P(Y = y | \theta = \theta_0) = f_Y(y;\theta_0)
\]</span></p>
<p><strong>Likelihood Ratio</strong></p>
<p><span class="math display">\[
\frac{L(\theta_0;y)}{L(\theta_1;y)}
\]</span></p>
<p><strong>Likelihood Function</strong></p>
<p>For a given sample, you can create likelihoods for all possible values of <span class="math inline">\(\theta\)</span>, which is called <em>likelihood function</em></p>
<p><span class="math display">\[
L(\theta) = L(\theta; y) = f_Y(y;\theta)
\]</span></p>
<p>In a sample of size n, the likelihood function takes the form of a product</p>
<p><span class="math display">\[
L(\theta) = \prod_{i=1}^{n}f_i (y_i;\theta)
\]</span></p>
<p>Equivalently, the log likelihood function</p>
<p><span class="math display">\[
l(\theta) = \sum_{i=1}^{n} logf_i(y_i;\theta)
\]</span></p>
<p><strong>Sufficient statistics</strong></p>
<ul>
<li>A statistic, <span class="math inline">\(T(y)\)</span>, is any quantity that can be calculated purely from a sample (independent of <span class="math inline">\(\theta\)</span>)</li>
<li>A statistic is <strong>sufficient</strong> if it conveys all the available information about the parameter.</li>
</ul>
<p><span class="math display">\[
L(\theta; y) = c(y)L^*(\theta;T(y))
\]</span></p>
<p><strong>Nuisance parameters</strong> If we are interested in a parameter (e.g., mean). Other parameters requiring estimation (e.g., standard deviation) are <strong>nuisance</strong> parameters. We can replace nuisance parameters in likelihood function with their estimates to create a <strong>profile likelihood</strong>.</p>
</div>
<div id="parameter-transformations" class="section level3" number="2.3.8">
<h3>
<span class="header-section-number">2.3.8</span> Parameter transformations<a class="anchor" aria-label="anchor" href="#parameter-transformations"><i class="fas fa-link"></i></a>
</h3>
<p>log-odds transformation</p>
<p><span class="math display">\[
Log odds = g(\theta)= ln[\frac{\theta}{1-\theta}]
\]</span></p>

</div>
</div>
<div id="data-importexport" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> Data Import/Export<a class="anchor" aria-label="anchor" href="#data-importexport"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://cran.r-project.org/doc/manuals/r-release/R-data.html">Extended Manual by R</a></p>
<div class="inline-table"><table class="table table-sm">
<caption>Table by <a href="https://cran.r-project.org/web/packages/rio/vignettes/rio.html">Rio Vignette</a>
</caption>
<colgroup>
<col width="18%">
<col width="18%">
<col width="21%">
<col width="21%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">Format</th>
<th align="left">Typical Extension</th>
<th align="left">Import Package</th>
<th align="left">Export Package</th>
<th align="left">Installed by Default</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Comma-separated data</td>
<td align="left">.csv</td>
<td align="left"><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">Pipe-separated data</td>
<td align="left">.psv</td>
<td align="left"><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">Tab-separated data</td>
<td align="left">.tsv</td>
<td align="left"><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">CSVY (CSV + YAML metadata header)</td>
<td align="left">.csvy</td>
<td align="left"><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=data.table"><strong>data.table</strong></a></td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">SAS</td>
<td align="left">.sas7bdat</td>
<td align="left"><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">SPSS</td>
<td align="left">.sav</td>
<td align="left"><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">SPSS (compressed)</td>
<td align="left">.zsav</td>
<td align="left"><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">Stata</td>
<td align="left">.dta</td>
<td align="left"><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">SAS XPORT</td>
<td align="left">.xpt</td>
<td align="left"><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">SPSS Portable</td>
<td align="left">.por</td>
<td align="left"><a href="https://cran.r-project.org/package=haven"><strong>haven</strong></a></td>
<td align="left"></td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">Excel</td>
<td align="left">.xls</td>
<td align="left"><a href="https://cran.r-project.org/package=readxl"><strong>readxl</strong></a></td>
<td align="left"></td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">Excel</td>
<td align="left">.xlsx</td>
<td align="left"><a href="https://cran.r-project.org/package=readxl"><strong>readxl</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=openxlsx"><strong>openxlsx</strong></a></td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">R syntax</td>
<td align="left">.R</td>
<td align="left"><strong>base</strong></td>
<td align="left"><strong>base</strong></td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">Saved R objects</td>
<td align="left">.RData, .rda</td>
<td align="left"><strong>base</strong></td>
<td align="left"><strong>base</strong></td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">Serialized R objects</td>
<td align="left">.rds</td>
<td align="left"><strong>base</strong></td>
<td align="left"><strong>base</strong></td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">Epiinfo</td>
<td align="left">.rec</td>
<td align="left"><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td align="left"></td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">Minitab</td>
<td align="left">.mtp</td>
<td align="left"><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td align="left"></td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">Systat</td>
<td align="left">.syd</td>
<td align="left"><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td align="left"></td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">“XBASE” database files</td>
<td align="left">.dbf</td>
<td align="left"><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">Weka Attribute-Relation File Format</td>
<td align="left">.arff</td>
<td align="left"><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=foreign"><strong>foreign</strong></a></td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">Data Interchange Format</td>
<td align="left">.dif</td>
<td align="left"><strong>utils</strong></td>
<td align="left"></td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">Fortran data</td>
<td align="left">no recognized extension</td>
<td align="left"><strong>utils</strong></td>
<td align="left"></td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">Fixed-width format data</td>
<td align="left">.fwf</td>
<td align="left"><strong>utils</strong></td>
<td align="left"><strong>utils</strong></td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">gzip comma-separated data</td>
<td align="left">.csv.gz</td>
<td align="left"><strong>utils</strong></td>
<td align="left"><strong>utils</strong></td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">Apache Arrow (Parquet)</td>
<td align="left">.parquet</td>
<td align="left"><a href="https://cran.r-project.org/package=arrow"><strong>arrow</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=arrow"><strong>arrow</strong></a></td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">EViews</td>
<td align="left">.wf1</td>
<td align="left"><a href="https://cran.r-project.org/package=hexView"><strong>hexView</strong></a></td>
<td align="left"></td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">Feather R/Python interchange format</td>
<td align="left">.feather</td>
<td align="left"><a href="https://cran.r-project.org/package=feather"><strong>feather</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=feather"><strong>feather</strong></a></td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">Fast Storage</td>
<td align="left">.fst</td>
<td align="left"><a href="https://cran.r-project.org/package=fst"><strong>fst</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=fst"><strong>fst</strong></a></td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">JSON</td>
<td align="left">.json</td>
<td align="left"><a href="https://cran.r-project.org/package=jsonlite"><strong>jsonlite</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=jsonlite"><strong>jsonlite</strong></a></td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">Matlab</td>
<td align="left">.mat</td>
<td align="left"><a href="https://cran.r-project.org/package=rmatio"><strong>rmatio</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=rmatio"><strong>rmatio</strong></a></td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">OpenDocument Spreadsheet</td>
<td align="left">.ods</td>
<td align="left"><a href="https://cran.r-project.org/package=readODS"><strong>readODS</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=readODS"><strong>readODS</strong></a></td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">HTML Tables</td>
<td align="left">.html</td>
<td align="left"><a href="https://cran.r-project.org/package=xml2"><strong>xml2</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=xml2"><strong>xml2</strong></a></td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">Shallow XML documents</td>
<td align="left">.xml</td>
<td align="left"><a href="https://cran.r-project.org/package=xml2"><strong>xml2</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=xml2"><strong>xml2</strong></a></td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">YAML</td>
<td align="left">.yml</td>
<td align="left"><a href="https://cran.r-project.org/package=yaml"><strong>yaml</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=yaml"><strong>yaml</strong></a></td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">Clipboard</td>
<td align="left">default is tsv</td>
<td align="left"><a href="https://cran.r-project.org/package=clipr"><strong>clipr</strong></a></td>
<td align="left"><a href="https://cran.r-project.org/package=clipr"><strong>clipr</strong></a></td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left"><a href="https://www.google.com/sheets/about/">Google Sheets</a></td>
<td align="left">as Comma-separated data</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table></div>
<p>R limitations:</p>
<ul>
<li><p>By default, R use 1 core in CPU</p></li>
<li><p>R puts data into memory (limit around 2-4 GB), while SAS uses data from files on demand</p></li>
<li>
<p>Categorization</p>
<ul>
<li><p>Medium-size file: within RAM limit, around 1-2 GB</p></li>
<li><p>Large file: 2-10 GB, there might be some workaround solution</p></li>
<li><p>Very large file &gt; 10 GB, you have to use distributed or parallel computing</p></li>
</ul>
</li>
</ul>
<p>Solutions:</p>
<ul>
<li><p>buy more RAM</p></li>
<li>
<p>HPC packages</p>
<ul>
<li><p>Explicit Parallelism</p></li>
<li><p>Implicit Parallelism</p></li>
<li><p>Large Memory</p></li>
<li><p>Map/Reduce</p></li>
</ul>
</li>
<li><p>specify number of rows and columns, typically including command <code>nrow =</code></p></li>
<li>
<p>Use packages that store data differently</p>
<ul>
<li><p><code>bigmemory</code>, <code>biganalytics</code>, <code>bigtabulate</code> , <code>synchronicity</code>, <code>bigalgebra</code>, <code>bigvideo</code> use C++ to store matrices, but also support one class type</p></li>
<li><p>For multiple class types, use <code>ff</code> package</p></li>
</ul>
</li>
<li>
<p>Very Large datasets use</p>
<ul>
<li>
<code>RHaddop</code> package</li>
<li><code>HadoopStreaming</code></li>
<li><code>Rhipe</code></li>
</ul>
</li>
</ul>
<div id="medium-size" class="section level3" number="2.4.1">
<h3>
<span class="header-section-number">2.4.1</span> Medium size<a class="anchor" aria-label="anchor" href="#medium-size"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/gesistsa/rio">"rio"</a></span><span class="op">)</span></span></code></pre></div>
<p>To import multiple files in a directory</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import_list.html">import_list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html">dir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>, which <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>To export a single data file</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"data.csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span><span class="va">data</span>,<span class="st">"data.dta"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span><span class="va">data</span>,<span class="st">"data.txt"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span><span class="va">data</span>,<span class="st">"data_cyl.rds"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span><span class="va">data</span>,<span class="st">"data.rdata"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span><span class="va">data</span>,<span class="st">"data.R"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span><span class="va">data</span>,<span class="st">"data.csv.zip"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span><span class="va">data</span>,<span class="st">"list.json"</span><span class="op">)</span></span></code></pre></div>
<p>To export multiple data files</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>mtcars <span class="op">=</span> <span class="va">mtcars</span>, iris <span class="op">=</span> <span class="va">iris</span><span class="op">)</span>, <span class="st">"data_file_type"</span><span class="op">)</span> </span>
<span><span class="co"># where data_file_type should substituted with the extension listed above</span></span></code></pre></div>
<p>To convert between data file types</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># convert Stata to SPSS</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/convert.html">convert</a></span><span class="op">(</span><span class="st">"data.dta"</span>, <span class="st">"data.sav"</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="large-size" class="section level3" number="2.4.2">
<h3>
<span class="header-section-number">2.4.2</span> Large size<a class="anchor" aria-label="anchor" href="#large-size"><i class="fas fa-link"></i></a>
</h3>
<p>Use R on a cluster</p>
<ul>
<li>Amazon Web Service (AWS): $1/hr</li>
</ul>
<p>Import files as chunks</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file_in</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/connections.html">file</a></span><span class="op">(</span><span class="st">"in.csv"</span>,<span class="st">"r"</span><span class="op">)</span></span>
<span><span class="va">chunk_size</span> <span class="op">&lt;-</span> <span class="fl">100000</span> <span class="co"># choose the best size for you</span></span>
<span><span class="va">x</span>          <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html">readLines</a></span><span class="op">(</span><span class="va">file_in</span>, n<span class="op">=</span><span class="va">chunk_size</span><span class="op">)</span></span></code></pre></div>
<p><code>data.table</code> method</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com">data.table</a></span><span class="op">)</span></span>
<span><span class="va">mydata</span> <span class="op">=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html">fread</a></span><span class="op">(</span><span class="st">"in.csv"</span>, header <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><code>ff</code> package: this method does not allow you to pass connections</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/truecluster/ff">"ff"</a></span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">read.csv.ffdf</span><span class="op">(</span></span>
<span>    file <span class="op">=</span> <span class="st">"file.csv"</span>,</span>
<span>    nrow <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    header <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    VERBOSE <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    first.rows <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>    next.rows <span class="op">=</span> <span class="fl">50000</span>,</span>
<span>    colClasses <span class="op">=</span> <span class="cn">NA</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><code>bigmemory</code> package</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_data</span> <span class="op">&lt;-</span> <span class="fu">read.big.matrix</span><span class="op">(</span><span class="st">'in.csv'</span>, header <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><code>sqldf</code> package</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ggrothendieck/sqldf">sqldf</a></span><span class="op">)</span></span>
<span><span class="va">my_data</span> <span class="op">&lt;-</span> <span class="fu">read.csv.sql</span><span class="op">(</span><span class="st">'in.csv'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">iris2</span> <span class="op">&lt;-</span> <span class="fu">read.csv.sql</span><span class="op">(</span><span class="st">"iris.csv"</span>, </span>
<span>    sql <span class="op">=</span> <span class="st">"select * from file where Species = 'setosa' "</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://downloads.mariadb.org/connector-c/">RMySQL</a></span><span class="op">)</span></span></code></pre></div>
<p><code>RQLite</code> package</p>
<ul>
<li>
<a href="https://sqlite.org/download.html">Download SQLite</a>, pick “A bundle of command-line tools for managing SQLite database files” for Window 10</li>
<li>Unzip file, and open <code>sqlite3.exe.</code>
</li>
<li>Type in the prompt
<ul>
<li>
<code>sqlite&gt; .cd 'C:\Users\data'</code> specify path to your desired directory</li>
<li>
<code>sqlite&gt; .open database_name.db</code> to open a database</li>
<li>To import the CSV file into the database
<ul>
<li>
<code>sqlite&gt; .mode csv</code> specify to SQLite that the next file is .csv file</li>
<li>
<code>sqlite&gt; .import file_name.csv datbase_name</code> to import the csv file to the database</li>
</ul>
</li>
<li>
<code>sqlite&gt; .exit</code> After you’re done, exit the sqlite program</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dbi.r-dbi.org">DBI</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://rsqlite.r-dbi.org">"RSQLite"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"data_base.db"</span><span class="op">)</span></span>
<span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"data_table"</span><span class="op">)</span></span>
<span><span class="va">tbl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html">collect</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># to actually pull the data into the workspace</span></span>
<span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span></code></pre></div>
<p><code>arrow</code> package</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/apache/arrow/">"arrow"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/arrow/man/read_delim_arrow.html">read_csv_arrow</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><code>vroom</code> package</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://vroom.r-lib.org">vroom</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://vroom.r-lib.org/reference/spec.html">spec</a></span><span class="op">(</span><span class="fu"><a href="https://vroom.r-lib.org/reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">file_path</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">compressed</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://vroom.r-lib.org/reference/vroom_example.html">vroom_example</a></span><span class="op">(</span><span class="st">"mtcars.csv.zip"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://vroom.r-lib.org/reference/vroom.html">vroom</a></span><span class="op">(</span><span class="va">compressed</span><span class="op">)</span></span></code></pre></div>
<p><code>data.table</code> package</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html">fread</a></span><span class="op">(</span><span class="st">"sample.csv"</span><span class="op">)</span></span></code></pre></div>
<p>Comparisons regarding storage space</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="prerequisites.html#cb33-1" tabindex="-1"></a>test <span class="ot">=</span> ff<span class="sc">::</span><span class="fu">read.csv.ffdf</span>(<span class="at">file =</span> <span class="st">""</span>)</span>
<span id="cb33-2"><a href="prerequisites.html#cb33-2" tabindex="-1"></a><span class="fu">object.size</span>(test) <span class="co"># worst</span></span>
<span id="cb33-3"><a href="prerequisites.html#cb33-3" tabindex="-1"></a></span>
<span id="cb33-4"><a href="prerequisites.html#cb33-4" tabindex="-1"></a>test1 <span class="ot">=</span> data.table<span class="sc">::</span><span class="fu">fread</span>(<span class="at">file =</span> <span class="st">""</span>)</span>
<span id="cb33-5"><a href="prerequisites.html#cb33-5" tabindex="-1"></a><span class="fu">object.size</span>(test1) <span class="co"># best</span></span>
<span id="cb33-6"><a href="prerequisites.html#cb33-6" tabindex="-1"></a></span>
<span id="cb33-7"><a href="prerequisites.html#cb33-7" tabindex="-1"></a>test2 <span class="ot">=</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">""</span>)<span class="er">)</span></span>
<span id="cb33-8"><a href="prerequisites.html#cb33-8" tabindex="-1"></a><span class="fu">object.size</span>(test2) <span class="co"># 2nd</span></span>
<span id="cb33-9"><a href="prerequisites.html#cb33-9" tabindex="-1"></a></span>
<span id="cb33-10"><a href="prerequisites.html#cb33-10" tabindex="-1"></a>test3 <span class="ot">=</span> <span class="fu">vroom</span>(<span class="at">file =</span> <span class="st">""</span>)</span>
<span id="cb33-11"><a href="prerequisites.html#cb33-11" tabindex="-1"></a><span class="fu">object.size</span>(test3) <span class="co"># equal to read_csv</span></span></code></pre></div>
<p>To work with big data, you can convert it to <code>csv.gz</code> , but since typically, R would require you to load the whole data then export it. With data greater than 10 GB, we have to do it sequentially. Even though <code>read.csv</code> is much slower than <code><a href="https://readr.tidyverse.org/reference/read_delim.html">readr::read_csv</a></code> , we still have to use it because it can pass connection, and it allows you to loop sequentially. On the other, because currently <code><a href="https://readr.tidyverse.org/reference/read_delim.html">readr::read_csv</a></code> does not have the <code>skip</code> function, and even if we can use the skip, we still have to read and skip lines in previous loop.</p>
<p>For example, say you <code>read_csv(, n_max = 100, skip =0)</code> and then <code>read_csv(, n_max = 200, skip = 100)</code> you actually have to read again the first 100 rows. However, <code>read.csv</code> without specifying anything, will continue at the 100 mark.</p>
<p>Notice, sometimes you might have error looking like this</p>
<p>“Error in (function (con, what, n = 1L, size = NA_integer_, signed = TRUE, : can only read from a binary connection”</p>
<p>then you can change it instead of <code>r</code> in the connection into <code>rb</code> . Even though an author of the package suggested that <code>file</code> should be able to recognize the appropriate form, so far I did not prevail.</p>
</div>
</div>
<div id="data-manipulation" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> Data Manipulation<a class="anchor" aria-label="anchor" href="#data-manipulation"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org">lubridate</a></span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">23</span>, <span class="fl">4</span>, <span class="fl">45</span><span class="op">)</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"F"</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">n</span>, <span class="va">g</span><span class="op">)</span></span>
<span><span class="va">df</span></span>
<span><span class="co">#&gt;   n g</span></span>
<span><span class="co">#&gt; 1 1 M</span></span>
<span><span class="co">#&gt; 2 3 M</span></span>
<span><span class="co">#&gt; 3 5 F</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    3 obs. of  2 variables:</span></span>
<span><span class="co">#&gt;  $ n: num  1 3 5</span></span>
<span><span class="co">#&gt;  $ g: chr  "M" "M" "F"</span></span>
<span></span>
<span><span class="co">#Similarly</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span><span class="va">n</span>, <span class="va">g</span><span class="op">)</span></span>
<span><span class="va">df</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span><span class="co">#&gt;       n g    </span></span>
<span><span class="co">#&gt;   &lt;dbl&gt; &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1     1 M    </span></span>
<span><span class="co">#&gt; 2     3 M    </span></span>
<span><span class="co">#&gt; 3     5 F</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [3 × 2] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ n: num [1:3] 1 3 5</span></span>
<span><span class="co">#&gt;  $ g: chr [1:3] "M" "M" "F"</span></span>
<span></span>
<span><span class="co"># list form</span></span>
<span><span class="va">lst</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">n</span>, <span class="va">g</span>, <span class="va">df</span><span class="op">)</span></span>
<span><span class="va">lst</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1]  1  4 23  4 45</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] 1 3 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] "M" "M" "F"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span><span class="co">#&gt;       n g    </span></span>
<span><span class="co">#&gt;   &lt;dbl&gt; &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1     1 M    </span></span>
<span><span class="co">#&gt; 2     3 M    </span></span>
<span><span class="co">#&gt; 3     5 F</span></span>
<span></span>
<span><span class="co"># Or</span></span>
<span><span class="va">lst2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>num <span class="op">=</span> <span class="va">x</span>, size <span class="op">=</span> <span class="va">n</span>, sex <span class="op">=</span> <span class="va">g</span>, data <span class="op">=</span> <span class="va">df</span><span class="op">)</span></span>
<span><span class="va">lst2</span></span>
<span><span class="co">#&gt; $num</span></span>
<span><span class="co">#&gt; [1]  1  4 23  4 45</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $size</span></span>
<span><span class="co">#&gt; [1] 1 3 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $sex</span></span>
<span><span class="co">#&gt; [1] "M" "M" "F"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $data</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span><span class="co">#&gt;       n g    </span></span>
<span><span class="co">#&gt;   &lt;dbl&gt; &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1     1 M    </span></span>
<span><span class="co">#&gt; 2     3 M    </span></span>
<span><span class="co">#&gt; 3     5 F</span></span>
<span></span>
<span><span class="co"># Or</span></span>
<span><span class="va">lst3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span>,</span>
<span>             y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span>             z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">22</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">lst3</span></span>
<span><span class="co">#&gt; $x</span></span>
<span><span class="co">#&gt; [1] 1 3 5 7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $y</span></span>
<span><span class="co">#&gt; [1] 2 2 2 4 5 5 5 6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $z</span></span>
<span><span class="co">#&gt; [1] 22  3  3  3  5 10</span></span>
<span></span>
<span><span class="co"># find the means of x, y, z.</span></span>
<span></span>
<span><span class="co"># can do one at a time</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">lst3</span><span class="op">$</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">lst3</span><span class="op">$</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3.875</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">lst3</span><span class="op">$</span><span class="va">z</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 7.666667</span></span>
<span></span>
<span><span class="co"># list apply</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">lst3</span>, <span class="va">mean</span><span class="op">)</span></span>
<span><span class="co">#&gt; $x</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $y</span></span>
<span><span class="co">#&gt; [1] 3.875</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $z</span></span>
<span><span class="co">#&gt; [1] 7.666667</span></span>
<span></span>
<span><span class="co"># OR</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">lst3</span>, <span class="va">mean</span><span class="op">)</span></span>
<span><span class="co">#&gt;        x        y        z </span></span>
<span><span class="co">#&gt; 4.000000 3.875000 7.666667</span></span>
<span></span>
<span><span class="co"># Or, tidyverse function map() </span></span>
<span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="va">lst3</span>, <span class="va">mean</span><span class="op">)</span></span>
<span><span class="co">#&gt; $x</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $y</span></span>
<span><span class="co">#&gt; [1] 3.875</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $z</span></span>
<span><span class="co">#&gt; [1] 7.666667</span></span>
<span></span>
<span><span class="co"># The tidyverse requires a modified map function called map_dbl()</span></span>
<span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map_dbl</a></span><span class="op">(</span><span class="va">lst3</span>, <span class="va">mean</span><span class="op">)</span></span>
<span><span class="co">#&gt;        x        y        z </span></span>
<span><span class="co">#&gt; 4.000000 3.875000 7.666667</span></span>
<span></span>
<span></span>
<span><span class="co"># Binding </span></span>
<span><span class="va">dat01</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, y <span class="op">=</span> <span class="fl">5</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">dat01</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 2</span></span>
<span><span class="co">#&gt;       x     y</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1     1     5</span></span>
<span><span class="co">#&gt; 2     2     4</span></span>
<span><span class="co">#&gt; 3     3     3</span></span>
<span><span class="co">#&gt; 4     4     2</span></span>
<span><span class="co">#&gt; 5     5     1</span></span>
<span><span class="va">dat02</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">10</span><span class="op">:</span><span class="fl">16</span>, y <span class="op">=</span> <span class="va">x</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">dat02</span></span>
<span><span class="co">#&gt; # A tibble: 7 × 2</span></span>
<span><span class="co">#&gt;       x     y</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1    10   5  </span></span>
<span><span class="co">#&gt; 2    11   5.5</span></span>
<span><span class="co">#&gt; 3    12   6  </span></span>
<span><span class="co">#&gt; 4    13   6.5</span></span>
<span><span class="co">#&gt; 5    14   7  </span></span>
<span><span class="co">#&gt; 6    15   7.5</span></span>
<span><span class="co">#&gt; 7    16   8</span></span>
<span><span class="va">dat03</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="co"># 5 random numbers from interval (0,1)</span></span>
<span><span class="va">dat03</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 1</span></span>
<span><span class="co">#&gt;        z</span></span>
<span><span class="co">#&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 0.508 </span></span>
<span><span class="co">#&gt; 2 0.0889</span></span>
<span><span class="co">#&gt; 3 0.207 </span></span>
<span><span class="co">#&gt; 4 0.584 </span></span>
<span><span class="co">#&gt; 5 0.640</span></span>
<span></span>
<span><span class="co"># row binding</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html">bind_rows</a></span><span class="op">(</span><span class="va">dat01</span>, <span class="va">dat02</span>, <span class="va">dat01</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 17 × 2</span></span>
<span><span class="co">#&gt;        x     y</span></span>
<span><span class="co">#&gt;    &lt;int&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1     1   5  </span></span>
<span><span class="co">#&gt;  2     2   4  </span></span>
<span><span class="co">#&gt;  3     3   3  </span></span>
<span><span class="co">#&gt;  4     4   2  </span></span>
<span><span class="co">#&gt;  5     5   1  </span></span>
<span><span class="co">#&gt;  6    10   5  </span></span>
<span><span class="co">#&gt;  7    11   5.5</span></span>
<span><span class="co">#&gt;  8    12   6  </span></span>
<span><span class="co">#&gt;  9    13   6.5</span></span>
<span><span class="co">#&gt; 10    14   7  </span></span>
<span><span class="co">#&gt; 11    15   7.5</span></span>
<span><span class="co">#&gt; 12    16   8  </span></span>
<span><span class="co">#&gt; 13     1   5  </span></span>
<span><span class="co">#&gt; 14     2   4  </span></span>
<span><span class="co">#&gt; 15     3   3  </span></span>
<span><span class="co">#&gt; 16     4   2  </span></span>
<span><span class="co">#&gt; 17     5   1</span></span>
<span></span>
<span><span class="co"># use ".id" argument to create a new column </span></span>
<span><span class="co"># that contains an identifier for the original data.</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html">bind_rows</a></span><span class="op">(</span><span class="va">dat01</span>, <span class="va">dat02</span>, .id <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 12 × 3</span></span>
<span><span class="co">#&gt;    id        x     y</span></span>
<span><span class="co">#&gt;    &lt;chr&gt; &lt;int&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 1         1   5  </span></span>
<span><span class="co">#&gt;  2 1         2   4  </span></span>
<span><span class="co">#&gt;  3 1         3   3  </span></span>
<span><span class="co">#&gt;  4 1         4   2  </span></span>
<span><span class="co">#&gt;  5 1         5   1  </span></span>
<span><span class="co">#&gt;  6 2        10   5  </span></span>
<span><span class="co">#&gt;  7 2        11   5.5</span></span>
<span><span class="co">#&gt;  8 2        12   6  </span></span>
<span><span class="co">#&gt;  9 2        13   6.5</span></span>
<span><span class="co">#&gt; 10 2        14   7  </span></span>
<span><span class="co">#&gt; 11 2        15   7.5</span></span>
<span><span class="co">#&gt; 12 2        16   8</span></span>
<span></span>
<span><span class="co"># with name</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html">bind_rows</a></span><span class="op">(</span><span class="st">"dat01"</span> <span class="op">=</span> <span class="va">dat01</span>, <span class="st">"dat02"</span> <span class="op">=</span> <span class="va">dat02</span>, .id <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 12 × 3</span></span>
<span><span class="co">#&gt;    id        x     y</span></span>
<span><span class="co">#&gt;    &lt;chr&gt; &lt;int&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 dat01     1   5  </span></span>
<span><span class="co">#&gt;  2 dat01     2   4  </span></span>
<span><span class="co">#&gt;  3 dat01     3   3  </span></span>
<span><span class="co">#&gt;  4 dat01     4   2  </span></span>
<span><span class="co">#&gt;  5 dat01     5   1  </span></span>
<span><span class="co">#&gt;  6 dat02    10   5  </span></span>
<span><span class="co">#&gt;  7 dat02    11   5.5</span></span>
<span><span class="co">#&gt;  8 dat02    12   6  </span></span>
<span><span class="co">#&gt;  9 dat02    13   6.5</span></span>
<span><span class="co">#&gt; 10 dat02    14   7  </span></span>
<span><span class="co">#&gt; 11 dat02    15   7.5</span></span>
<span><span class="co">#&gt; 12 dat02    16   8</span></span>
<span></span>
<span><span class="co"># bind_rows() also works on lists of data frames</span></span>
<span><span class="va">list01</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"dat01"</span> <span class="op">=</span> <span class="va">dat01</span>, <span class="st">"dat02"</span> <span class="op">=</span> <span class="va">dat02</span><span class="op">)</span></span>
<span><span class="va">list01</span></span>
<span><span class="co">#&gt; $dat01</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 2</span></span>
<span><span class="co">#&gt;       x     y</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1     1     5</span></span>
<span><span class="co">#&gt; 2     2     4</span></span>
<span><span class="co">#&gt; 3     3     3</span></span>
<span><span class="co">#&gt; 4     4     2</span></span>
<span><span class="co">#&gt; 5     5     1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dat02</span></span>
<span><span class="co">#&gt; # A tibble: 7 × 2</span></span>
<span><span class="co">#&gt;       x     y</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1    10   5  </span></span>
<span><span class="co">#&gt; 2    11   5.5</span></span>
<span><span class="co">#&gt; 3    12   6  </span></span>
<span><span class="co">#&gt; 4    13   6.5</span></span>
<span><span class="co">#&gt; 5    14   7  </span></span>
<span><span class="co">#&gt; 6    15   7.5</span></span>
<span><span class="co">#&gt; 7    16   8</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html">bind_rows</a></span><span class="op">(</span><span class="va">list01</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 12 × 2</span></span>
<span><span class="co">#&gt;        x     y</span></span>
<span><span class="co">#&gt;    &lt;int&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1     1   5  </span></span>
<span><span class="co">#&gt;  2     2   4  </span></span>
<span><span class="co">#&gt;  3     3   3  </span></span>
<span><span class="co">#&gt;  4     4   2  </span></span>
<span><span class="co">#&gt;  5     5   1  </span></span>
<span><span class="co">#&gt;  6    10   5  </span></span>
<span><span class="co">#&gt;  7    11   5.5</span></span>
<span><span class="co">#&gt;  8    12   6  </span></span>
<span><span class="co">#&gt;  9    13   6.5</span></span>
<span><span class="co">#&gt; 10    14   7  </span></span>
<span><span class="co">#&gt; 11    15   7.5</span></span>
<span><span class="co">#&gt; 12    16   8</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html">bind_rows</a></span><span class="op">(</span><span class="va">list01</span>, .id <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 12 × 3</span></span>
<span><span class="co">#&gt;    source     x     y</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 dat01      1   5  </span></span>
<span><span class="co">#&gt;  2 dat01      2   4  </span></span>
<span><span class="co">#&gt;  3 dat01      3   3  </span></span>
<span><span class="co">#&gt;  4 dat01      4   2  </span></span>
<span><span class="co">#&gt;  5 dat01      5   1  </span></span>
<span><span class="co">#&gt;  6 dat02     10   5  </span></span>
<span><span class="co">#&gt;  7 dat02     11   5.5</span></span>
<span><span class="co">#&gt;  8 dat02     12   6  </span></span>
<span><span class="co">#&gt;  9 dat02     13   6.5</span></span>
<span><span class="co">#&gt; 10 dat02     14   7  </span></span>
<span><span class="co">#&gt; 11 dat02     15   7.5</span></span>
<span><span class="co">#&gt; 12 dat02     16   8</span></span>
<span></span>
<span><span class="co"># The extended example below demonstrates how this can be very handy.</span></span>
<span></span>
<span><span class="co"># column binding</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_cols.html">bind_cols</a></span><span class="op">(</span><span class="va">dat01</span>, <span class="va">dat03</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 3</span></span>
<span><span class="co">#&gt;       x     y      z</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1     1     5 0.508 </span></span>
<span><span class="co">#&gt; 2     2     4 0.0889</span></span>
<span><span class="co">#&gt; 3     3     3 0.207 </span></span>
<span><span class="co">#&gt; 4     4     2 0.584 </span></span>
<span><span class="co">#&gt; 5     5     1 0.640</span></span>
<span></span>
<span></span>
<span><span class="co"># Regular expressions -----------------------------------------------------</span></span>
<span><span class="va">names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Ford, MS"</span>, <span class="st">"Jones, PhD"</span>, <span class="st">"Martin, Phd"</span>, <span class="st">"Huck, MA, MLS"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># pattern: first comma and everything after it</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html">str_remove</a></span><span class="op">(</span><span class="va">names</span>, pattern <span class="op">=</span> <span class="st">", [[:print:]]+"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Ford"   "Jones"  "Martin" "Huck"</span></span>
<span></span>
<span><span class="co"># [[:print:]]+ = one or more printable characters</span></span>
<span></span>
<span></span>
<span><span class="co"># Reshaping ---------------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># Example of a wide data frame. Notice each person has multiple test scores</span></span>
<span><span class="co"># that span columns.</span></span>
<span><span class="va">wide</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>name<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Clay"</span>,<span class="st">"Garrett"</span>,<span class="st">"Addison"</span><span class="op">)</span>, </span>
<span>                   test1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">78</span>, <span class="fl">93</span>, <span class="fl">90</span><span class="op">)</span>, </span>
<span>                   test2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">87</span>, <span class="fl">91</span>, <span class="fl">97</span><span class="op">)</span>,</span>
<span>                   test3<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">88</span>, <span class="fl">99</span>, <span class="fl">91</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">wide</span></span>
<span><span class="co">#&gt;      name test1 test2 test3</span></span>
<span><span class="co">#&gt; 1    Clay    78    87    88</span></span>
<span><span class="co">#&gt; 2 Garrett    93    91    99</span></span>
<span><span class="co">#&gt; 3 Addison    90    97    91</span></span>
<span></span>
<span><span class="co"># Example of a long data frame. This is the same data as above, but in long</span></span>
<span><span class="co"># format. We have one row per person per test.</span></span>
<span><span class="va">long</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>name<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Clay"</span>,<span class="st">"Garrett"</span>,<span class="st">"Addison"</span><span class="op">)</span>,each<span class="op">=</span><span class="fl">3</span><span class="op">)</span>,</span>
<span>                   test<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>                   score<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">78</span>, <span class="fl">87</span>, <span class="fl">88</span>, <span class="fl">93</span>, <span class="fl">91</span>, <span class="fl">99</span>, <span class="fl">90</span>, <span class="fl">97</span>, <span class="fl">91</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">long</span></span>
<span><span class="co">#&gt;      name test score</span></span>
<span><span class="co">#&gt; 1    Clay    1    78</span></span>
<span><span class="co">#&gt; 2    Clay    2    87</span></span>
<span><span class="co">#&gt; 3    Clay    3    88</span></span>
<span><span class="co">#&gt; 4 Garrett    1    93</span></span>
<span><span class="co">#&gt; 5 Garrett    2    91</span></span>
<span><span class="co">#&gt; 6 Garrett    3    99</span></span>
<span><span class="co">#&gt; 7 Addison    1    90</span></span>
<span><span class="co">#&gt; 8 Addison    2    97</span></span>
<span><span class="co">#&gt; 9 Addison    3    91</span></span>
<span></span>
<span><span class="co"># mean score per student</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span><span class="op">(</span><span class="va">score</span> <span class="op">~</span> <span class="va">name</span>, data <span class="op">=</span> <span class="va">long</span>, <span class="va">mean</span><span class="op">)</span></span>
<span><span class="co">#&gt;      name    score</span></span>
<span><span class="co">#&gt; 1 Addison 92.66667</span></span>
<span><span class="co">#&gt; 2    Clay 84.33333</span></span>
<span><span class="co">#&gt; 3 Garrett 94.33333</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span><span class="op">(</span><span class="va">score</span> <span class="op">~</span> <span class="va">test</span>, data <span class="op">=</span> <span class="va">long</span>, <span class="va">mean</span><span class="op">)</span></span>
<span><span class="co">#&gt;   test    score</span></span>
<span><span class="co">#&gt; 1    1 87.00000</span></span>
<span><span class="co">#&gt; 2    2 91.66667</span></span>
<span><span class="co">#&gt; 3    3 92.66667</span></span>
<span></span>
<span><span class="co"># line plot of scores over test, grouped by name</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">long</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">score</span>, color <span class="op">=</span> <span class="va">name</span>, group <span class="op">=</span> <span class="va">name</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Test"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02.3-data-mani_files/figure-html/unnamed-chunk-17-1.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="co">#### reshape wide to long</span></span>
<span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span><span class="va">wide</span>, <span class="va">test1</span><span class="op">:</span><span class="va">test3</span>, names_to <span class="op">=</span> <span class="st">"test"</span>, values_to <span class="op">=</span> <span class="st">"score"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 3</span></span>
<span><span class="co">#&gt;   name    test  score</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Clay    test1    78</span></span>
<span><span class="co">#&gt; 2 Clay    test2    87</span></span>
<span><span class="co">#&gt; 3 Clay    test3    88</span></span>
<span><span class="co">#&gt; 4 Garrett test1    93</span></span>
<span><span class="co">#&gt; 5 Garrett test2    91</span></span>
<span><span class="co">#&gt; 6 Garrett test3    99</span></span>
<span><span class="co">#&gt; 7 Addison test1    90</span></span>
<span><span class="co">#&gt; 8 Addison test2    97</span></span>
<span><span class="co">#&gt; 9 Addison test3    91</span></span>
<span></span>
<span><span class="co"># Or</span></span>
<span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span><span class="va">wide</span>, <span class="op">-</span><span class="va">name</span>, names_to <span class="op">=</span> <span class="st">"test"</span>, values_to <span class="op">=</span> <span class="st">"score"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 3</span></span>
<span><span class="co">#&gt;   name    test  score</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Clay    test1    78</span></span>
<span><span class="co">#&gt; 2 Clay    test2    87</span></span>
<span><span class="co">#&gt; 3 Clay    test3    88</span></span>
<span><span class="co">#&gt; 4 Garrett test1    93</span></span>
<span><span class="co">#&gt; 5 Garrett test2    91</span></span>
<span><span class="co">#&gt; 6 Garrett test3    99</span></span>
<span><span class="co">#&gt; 7 Addison test1    90</span></span>
<span><span class="co">#&gt; 8 Addison test2    97</span></span>
<span><span class="co">#&gt; 9 Addison test3    91</span></span>
<span></span>
<span><span class="co"># drop "test" from the test column with names_prefix argument</span></span>
<span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span><span class="va">wide</span>, <span class="op">-</span><span class="va">name</span>, names_to <span class="op">=</span> <span class="st">"test"</span>, values_to <span class="op">=</span> <span class="st">"score"</span>, </span>
<span>             names_prefix <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 3</span></span>
<span><span class="co">#&gt;   name    test  score</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Clay    1        78</span></span>
<span><span class="co">#&gt; 2 Clay    2        87</span></span>
<span><span class="co">#&gt; 3 Clay    3        88</span></span>
<span><span class="co">#&gt; 4 Garrett 1        93</span></span>
<span><span class="co">#&gt; 5 Garrett 2        91</span></span>
<span><span class="co">#&gt; 6 Garrett 3        99</span></span>
<span><span class="co">#&gt; 7 Addison 1        90</span></span>
<span><span class="co">#&gt; 8 Addison 2        97</span></span>
<span><span class="co">#&gt; 9 Addison 3        91</span></span>
<span></span>
<span><span class="co">#### reshape long to wide </span></span>
<span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span><span class="va">long</span>, <span class="va">name</span>, names_from <span class="op">=</span> <span class="va">test</span>, values_from <span class="op">=</span> <span class="va">score</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 4</span></span>
<span><span class="co">#&gt;   name      `1`   `2`   `3`</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Clay       78    87    88</span></span>
<span><span class="co">#&gt; 2 Garrett    93    91    99</span></span>
<span><span class="co">#&gt; 3 Addison    90    97    91</span></span>
<span></span>
<span><span class="co"># using the names_prefix argument lets us prepend text to the column names.</span></span>
<span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span><span class="va">long</span>, <span class="va">name</span>, names_from <span class="op">=</span> <span class="va">test</span>, values_from <span class="op">=</span> <span class="va">score</span>,</span>
<span>            names_prefix <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 4</span></span>
<span><span class="co">#&gt;   name    test1 test2 test3</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Clay       78    87    88</span></span>
<span><span class="co">#&gt; 2 Garrett    93    91    99</span></span>
<span><span class="co">#&gt; 3 Addison    90    97    91</span></span></code></pre></div>
<p>The verbs of data manipulation</p>
<ul>
<li>
<code>select</code>: selecting (or not selecting) columns based on their names (eg: select columns Q1 through Q25)</li>
<li>
<code>slice</code>: selecting (or not selecting) rows based on their position (eg: select rows 1:10)</li>
<li>
<code>mutate</code>: add or derive new columns (or variables) based on existing columns (eg: create a new column that expresses measurement in cm based on existing measure in inches)</li>
<li>
<code>rename</code>: rename variables or change column names (eg: change “GraduationRate100” to “grad100”)</li>
<li>
<code>filter</code>: selecting rows based on a condition (eg: all rows where gender = Male)</li>
<li>
<code>arrange</code>: ordering rows based on variable(s) numeric or alphabetical order (eg: sort in descending order of Income)</li>
<li>
<code>sample</code>: take random samples of data (eg: sample 80% of data to create a “training” set)</li>
<li>
<code>summarize</code>: condense or aggregate multiple values into single summary values (eg: calculate median income by age group)</li>
<li>
<code>group_by</code>: convert a tbl into a grouped tbl so that operations are performed “by group”; allows us to summarize data or apply verbs to data by groups (eg, by gender or treatment)</li>
<li>the pipe: <code>%&gt;%</code>
<ul>
<li><p>Use Ctrl + Shift + M (Win) or Cmd + Shift + M (Mac) to enter in RStudio</p></li>
<li><p>The pipe takes the output of a function and “pipes” into the first argument of the next function.</p></li>
<li><p>new pipe is <code>|&gt;</code> It should be identical to the old one, except for certain special cases.</p></li>
</ul>
</li>
<li>
<code>:=</code> (Walrus operator): similar to <code>=</code> , but for cases where you want to use the <code>glue</code> package (i.e., dynamic changes in the variable name in the left-hand side)</li>
</ul>
<p>Writing function in R</p>
<p>Tunneling</p>
<p><code>{{</code> (called curly-curly) allows you to tunnel data-variables through arg-variables (i.e., function arguments)</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">get_mean</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">group_var</span>, <span class="va">var_to_mean</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="op">{</span><span class="op">{</span><span class="va">group_var</span><span class="op">}</span><span class="op">}</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="op">{</span><span class="op">{</span><span class="va">var_to_mean</span><span class="op">}</span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"mtcars"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    mpg cyl disp  hp drat    wt  qsec vs am gear carb</span></span>
<span><span class="co">#&gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4</span></span>
<span><span class="co">#&gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4</span></span>
<span><span class="co">#&gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1</span></span>
<span><span class="co">#&gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1</span></span>
<span><span class="co">#&gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2</span></span>
<span><span class="co">#&gt; Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</span></span>
<span></span>
<span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu">get_mean</span><span class="op">(</span>group_var <span class="op">=</span> <span class="va">cyl</span>, var_to_mean <span class="op">=</span> <span class="va">mpg</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span><span class="co">#&gt;     cyl  mean</span></span>
<span><span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1     4  26.7</span></span>
<span><span class="co">#&gt; 2     6  19.7</span></span>
<span><span class="co">#&gt; 3     8  15.1</span></span>
<span></span>
<span><span class="co"># to change the resulting variable name dynamically, </span></span>
<span><span class="co"># you can use the glue interpolation (i.e., `{{`) and Walrus operator (`:=`)</span></span>
<span><span class="va">get_mean</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">group_var</span>, <span class="va">var_to_mean</span>, <span class="va">prefix</span> <span class="op">=</span> <span class="st">"mean_of"</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="op">{</span><span class="op">{</span><span class="va">group_var</span><span class="op">}</span><span class="op">}</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span><span class="st">"{prefix}_{{var_to_mean}}"</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="op">{</span><span class="op">{</span><span class="va">var_to_mean</span><span class="op">}</span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu">get_mean</span><span class="op">(</span>group_var <span class="op">=</span> <span class="va">cyl</span>, var_to_mean <span class="op">=</span> <span class="va">mpg</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span><span class="co">#&gt;     cyl mean_of_mpg</span></span>
<span><span class="co">#&gt;   &lt;dbl&gt;       &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1     4        26.7</span></span>
<span><span class="co">#&gt; 2     6        19.7</span></span>
<span><span class="co">#&gt; 3     8        15.1</span></span></code></pre></div>

</div>
</div>



<div class="chapter-nav">
<div class="prev"><a href="introduction.html"><span class="header-section-number">1</span> Introduction</a></div>
<div class="next"><a href="descriptive-stat.html"><span class="header-section-number">3</span> Descriptive Statistics</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#prerequisites"><span class="header-section-number">2</span> Prerequisites</a></li>
<li>
<a class="nav-link" href="#matrix-theory"><span class="header-section-number">2.1</span> Matrix Theory</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#rank"><span class="header-section-number">2.1.1</span> Rank</a></li>
<li><a class="nav-link" href="#inverse"><span class="header-section-number">2.1.2</span> Inverse</a></li>
<li><a class="nav-link" href="#definiteness"><span class="header-section-number">2.1.3</span> Definiteness</a></li>
<li><a class="nav-link" href="#matrix-calculus"><span class="header-section-number">2.1.4</span> Matrix Calculus</a></li>
<li><a class="nav-link" href="#optimization"><span class="header-section-number">2.1.5</span> Optimization</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#probability-theory"><span class="header-section-number">2.2</span> Probability Theory</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#axiom-and-theorems-of-probability"><span class="header-section-number">2.2.1</span> Axiom and Theorems of Probability</a></li>
<li><a class="nav-link" href="#central-limit-theorem"><span class="header-section-number">2.2.2</span> Central Limit Theorem</a></li>
<li><a class="nav-link" href="#random-variable"><span class="header-section-number">2.2.3</span> Random variable</a></li>
<li><a class="nav-link" href="#moment-generating-function"><span class="header-section-number">2.2.4</span> Moment generating function</a></li>
<li><a class="nav-link" href="#moment"><span class="header-section-number">2.2.5</span> Moment</a></li>
<li><a class="nav-link" href="#distributions"><span class="header-section-number">2.2.6</span> Distributions</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#general-math"><span class="header-section-number">2.3</span> General Math</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#number-sets"><span class="header-section-number">2.3.1</span> Number Sets</a></li>
<li><a class="nav-link" href="#summation-notation-and-series"><span class="header-section-number">2.3.2</span> Summation Notation and Series</a></li>
<li><a class="nav-link" href="#taylor-expansion"><span class="header-section-number">2.3.3</span> Taylor Expansion</a></li>
<li><a class="nav-link" href="#law-of-large-numbers"><span class="header-section-number">2.3.4</span> Law of large numbers</a></li>
<li><a class="nav-link" href="#law-of-iterated-expectation"><span class="header-section-number">2.3.5</span> Law of Iterated Expectation</a></li>
<li><a class="nav-link" href="#convergence"><span class="header-section-number">2.3.6</span> Convergence</a></li>
<li><a class="nav-link" href="#sufficient-statistics"><span class="header-section-number">2.3.7</span> Sufficient Statistics</a></li>
<li><a class="nav-link" href="#parameter-transformations"><span class="header-section-number">2.3.8</span> Parameter transformations</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#data-importexport"><span class="header-section-number">2.4</span> Data Import/Export</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#medium-size"><span class="header-section-number">2.4.1</span> Medium size</a></li>
<li><a class="nav-link" href="#large-size"><span class="header-section-number">2.4.2</span> Large size</a></li>
</ul>
</li>
<li><a class="nav-link" href="#data-manipulation"><span class="header-section-number">2.5</span> Data Manipulation</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/mikenguyen13/data_analysis/blob/main/02.1-prerequisites.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/mikenguyen13/data_analysis/edit/main/02.1-prerequisites.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>
</div>
  

  

</div>
 <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>A Guide on Data Analysis</strong>" was written by Mike Nguyen. It was last built on 2024-09-11.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
