<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 28 Event Studies | A Guide on Data Analysis</title>
<meta name="author" content="Mike Nguyen">
<meta name="description" content="The earliest paper that used event study was (Dolley 1933) (Campbell et al. 1998) introduced this method, which based on the efficient markets theory by (Fama 1970) Review: (McWilliams and Siegel...">
<meta name="generator" content="bookdown 0.35 with bs4_book()">
<meta property="og:title" content="Chapter 28 Event Studies | A Guide on Data Analysis">
<meta property="og:type" content="book">
<meta property="og:url" content="https://bookdown.org/mike/data_analysis/event-studies.html">
<meta property="og:image" content="https://bookdown.org/mike/data_analysis//images/cover.jpg">
<meta property="og:description" content="The earliest paper that used event study was (Dolley 1933) (Campbell et al. 1998) introduced this method, which based on the efficient markets theory by (Fama 1970) Review: (McWilliams and Siegel...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 28 Event Studies | A Guide on Data Analysis">
<meta name="twitter:description" content="The earliest paper that used event study was (Dolley 1933) (Campbell et al. 1998) introduced this method, which based on the efficient markets theory by (Fama 1970) Review: (McWilliams and Siegel...">
<meta name="twitter:image" content="https://bookdown.org/mike/data_analysis//images/cover.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.6.1/transition.js"></script><script src="libs/bs3compat-0.6.1/tabs.js"></script><script src="libs/bs3compat-0.6.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){window.dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-DMNX2X65HQ');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">A Guide on Data Analysis</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="prerequisites.html"><span class="header-section-number">2</span> Prerequisites</a></li>
<li class="book-part">I. BASIC</li>
<li><a class="" href="descriptive-stat.html"><span class="header-section-number">3</span> Descriptive Statistics</a></li>
<li><a class="" href="basic-statistical-inference.html"><span class="header-section-number">4</span> Basic Statistical Inference</a></li>
<li class="book-part">II. REGRESSION</li>
<li><a class="" href="linear-regression.html"><span class="header-section-number">5</span> Linear Regression</a></li>
<li><a class="" href="non-linear-regression.html"><span class="header-section-number">6</span> Non-linear Regression</a></li>
<li><a class="" href="generalized-linear-models.html"><span class="header-section-number">7</span> Generalized Linear Models</a></li>
<li><a class="" href="linear-mixed-models.html"><span class="header-section-number">8</span> Linear Mixed Models</a></li>
<li><a class="" href="nonlinear-and-generalized-linear-mixed-models.html"><span class="header-section-number">9</span> Nonlinear and Generalized Linear Mixed Models</a></li>
<li class="book-part">III. RAMIFICATIONS</li>
<li><a class="" href="model-specification.html"><span class="header-section-number">10</span> Model Specification</a></li>
<li><a class="" href="imputation-missing-data.html"><span class="header-section-number">11</span> Imputation (Missing Data)</a></li>
<li><a class="" href="data.html"><span class="header-section-number">12</span> Data</a></li>
<li><a class="" href="variable-transformation.html"><span class="header-section-number">13</span> Variable Transformation</a></li>
<li><a class="" href="hypothesis-testing.html"><span class="header-section-number">14</span> Hypothesis Testing</a></li>
<li><a class="" href="marginal-effects.html"><span class="header-section-number">15</span> Marginal Effects</a></li>
<li><a class="" href="prediction-and-estimation.html"><span class="header-section-number">16</span> Prediction and Estimation</a></li>
<li><a class="" href="moderation.html"><span class="header-section-number">17</span> Moderation</a></li>
<li class="book-part">IV. CAUSAL INFERENCE</li>
<li><a class="" href="causal-inference.html"><span class="header-section-number">18</span> Causal Inference</a></li>
<li class="book-part">A. EXPERIMENTAL DESIGN</li>
<li><a class="" href="experimental-design.html"><span class="header-section-number">19</span> Experimental Design</a></li>
<li><a class="" href="sampling.html"><span class="header-section-number">20</span> Sampling</a></li>
<li><a class="" href="analysis-of-variance-anova.html"><span class="header-section-number">21</span> Analysis of Variance (ANOVA)</a></li>
<li><a class="" href="multivariate-methods.html"><span class="header-section-number">22</span> Multivariate Methods</a></li>
<li class="book-part">B. QUASI-EXPERIMENTAL DESIGN</li>
<li><a class="" href="quasi-experimental.html"><span class="header-section-number">23</span> Quasi-experimental</a></li>
<li><a class="" href="regression-discontinuity.html"><span class="header-section-number">24</span> Regression Discontinuity</a></li>
<li><a class="" href="synthetic-difference-in-differences.html"><span class="header-section-number">25</span> Synthetic Difference-in-Differences</a></li>
<li><a class="" href="difference-in-differences.html"><span class="header-section-number">26</span> Difference-in-differences</a></li>
<li><a class="" href="synthetic-control.html"><span class="header-section-number">27</span> Synthetic Control</a></li>
<li><a class="active" href="event-studies.html"><span class="header-section-number">28</span> Event Studies</a></li>
<li><a class="" href="matching-methods.html"><span class="header-section-number">29</span> Matching Methods</a></li>
<li><a class="" href="interrupted-time-series.html"><span class="header-section-number">30</span> Interrupted Time Series</a></li>
<li class="book-part">C. OTHER CONCERNS</li>
<li><a class="" href="endogeneity.html"><span class="header-section-number">31</span> Endogeneity</a></li>
<li><a class="" href="other-biases.html"><span class="header-section-number">32</span> Other Biases</a></li>
<li><a class="" href="controls.html"><span class="header-section-number">33</span> Controls</a></li>
<li class="book-part">V. MISCELLANEOUS</li>
<li><a class="" href="mediation.html"><span class="header-section-number">34</span> Mediation</a></li>
<li><a class="" href="directed-acyclic-graph.html"><span class="header-section-number">35</span> Directed Acyclic Graph</a></li>
<li><a class="" href="report.html"><span class="header-section-number">36</span> Report</a></li>
<li><a class="" href="exploratory-data-analysis.html"><span class="header-section-number">37</span> Exploratory Data Analysis</a></li>
<li><a class="" href="sensitivity-analysis-robustness-check.html"><span class="header-section-number">38</span> Sensitivity Analysis/ Robustness Check</a></li>
<li><a class="" href="replication-and-synthetic-data.html"><span class="header-section-number">39</span> Replication and Synthetic Data</a></li>
<li class="book-part">APPENDIX</li>
<li><a class="" href="appendix.html"><span class="header-section-number">A</span> Appendix</a></li>
<li><a class="" href="bookdown-cheat-sheet.html"><span class="header-section-number">B</span> Bookdown cheat sheet</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/mikenguyen13/data_analysis">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="event-studies" class="section level1" number="28">
<h1>
<span class="header-section-number">28</span> Event Studies<a class="anchor" aria-label="anchor" href="#event-studies"><i class="fas fa-link"></i></a>
</h1>
<p>The earliest paper that used event study was <span class="citation">(<a href="references.html#ref-dolley1933characteristics">Dolley 1933</a>)</span></p>
<p><span class="citation">(<a href="references.html#ref-campbell1998econometrics">Campbell et al. 1998</a>)</span> introduced this method, which based on the efficient markets theory by <span class="citation">(<a href="references.html#ref-fama1970efficient">Fama 1970</a>)</span></p>
<p>Review:</p>
<ul>
<li><p><span class="citation">(<a href="references.html#ref-mcwilliams1997event">McWilliams and Siegel 1997</a>)</span>: in management</p></li>
<li><p><span class="citation">(<a href="references.html#ref-sorescu2017">A. Sorescu, Warren, and Ertekin 2017</a>)</span>: in marketing</p></li>
</ul>
<p>Previous marketing studies:</p>
<ol style="list-style-type: decimal">
<li>Firm-initiated activities</li>
</ol>
<ul>
<li><p><span class="citation">(<a href="references.html#ref-horsky1987does">Horsky and Swyngedouw 1987</a>)</span>: name change</p></li>
<li><p><span class="citation">(<a href="references.html#ref-chaney1991impact">Chaney, Devinney, and Winer 1991</a>)</span> new product announcements</p></li>
<li><p><span class="citation">(<a href="references.html#ref-agrawal1995economic">Agrawal and Kamakura 1995</a>)</span>: celebrity endorsement</p></li>
<li><p><span class="citation">(<a href="references.html#ref-lane1995stock">Lane and Jacobson 1995</a>)</span>: brand extensions</p></li>
<li><p><span class="citation">(<a href="references.html#ref-houston2000buyer">Houston and Johnson 2000</a>)</span>: joint venture</p></li>
<li><p><span class="citation">(<a href="references.html#ref-geyskens2002market">Geyskens, Gielens, and Dekimpe 2002</a>)</span>: Internet channel (for newspapers)</p></li>
<li><p><span class="citation">(<a href="references.html#ref-cornwell2005relationship">Cornwell, Pruitt, and Clark 2005</a>)</span>: sponsorship announcements</p></li>
<li><p><span class="citation">(<a href="references.html#ref-elberse2007power">Elberse 2007</a>)</span>: casting announcements</p></li>
<li><p><span class="citation">(<a href="references.html#ref-sorescu2007some">A. B. Sorescu, Chandy, and Prabhu 2007</a>)</span>: M&amp;A</p></li>
<li><p><span class="citation">(<a href="references.html#ref-sood2009innovations">Sood and Tellis 2009</a>)</span>: innovation payoff</p></li>
<li><p><span class="citation">(<a href="references.html#ref-wiles2009worth">Wiles and Danielova 2009</a>)</span>: product placements in movies</p></li>
<li><p><span class="citation">(<a href="references.html#ref-joshi2009movie">Joshi and Hanssens 2009</a>)</span>: movie releases</p></li>
<li><p><span class="citation">(<a href="references.html#ref-wiles2010stock">Wiles et al. 2010</a>)</span>: Regulatory Reports of Deceptive Advertising</p></li>
<li><p><span class="citation">(<a href="references.html#ref-boyd2010chief">Boyd, Chandy, and Cunha Jr 2010</a>)</span>: new CMO appointments</p></li>
<li><p><span class="citation">(<a href="references.html#ref-karniouchina2011marketing">Karniouchina, Uslay, and Erenburg 2011</a>)</span>: product placement</p></li>
<li><p><span class="citation">(<a href="references.html#ref-wiles2012effect">Wiles, Morgan, and Rego 2012</a>)</span>: Brand Acquisition and Disposal</p></li>
<li><p><span class="citation">(<a href="references.html#ref-kalaignanam2013corporate">Kalaignanam and Bahadir 2013</a>)</span>: corporate brand name change</p></li>
<li><p><span class="citation">(<a href="references.html#ref-raassens2012market">Raassens, Wuyts, and Geyskens 2012</a>)</span>: new product development outsourcing</p></li>
<li><p><span class="citation">(<a href="references.html#ref-mazodier2013sponsorship">Mazodier and Rezaee 2013</a>)</span>: sports announcements</p></li>
<li><p><span class="citation">(<a href="references.html#ref-borah2014make">Borah and Tellis 2014</a>)</span>: make, buy or ally for innovations</p></li>
<li><p><span class="citation">(<a href="references.html#ref-homburg2014firm">Homburg, Vollmayr, and Hahn 2014</a>)</span>: channel expansions</p></li>
<li><p><span class="citation">(<a href="references.html#ref-fang2015timing">Fang, Lee, and Yang 2015</a>)</span>: Co-development agreements</p></li>
<li><p><span class="citation">(<a href="references.html#ref-wu2015sleeping">Wu et al. 2015</a>)</span>: horizontal collaboration in new product development</p></li>
<li><p><span class="citation">(<a href="references.html#ref-fama1969adjustment">Fama et al. 1969</a>)</span>: stock split</p></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Non-firm-initiated activities</li>
</ol>
<ul>
<li><p><span class="citation">(<a href="references.html#ref-sorescu2003">A. B. Sorescu, Chandy, and Prabhu 2003</a>)</span>: FDA approvals</p></li>
<li><p><span class="citation">(<a href="references.html#ref-pandey2005relationship">Pandey, Shanahan, and Hansen 2005</a>)</span>: diversity elite list</p></li>
<li><p><span class="citation">(<a href="references.html#ref-balasubramanian2005impact">Balasubramanian, Mathur, and Thakur 2005</a>)</span>: high-quality achievements</p></li>
<li><p><span class="citation">(<a href="references.html#ref-tellis2007">Tellis and Johnson 2007</a>)</span>: quality reviews by Walter Mossberg</p></li>
<li><p><span class="citation">(<a href="references.html#ref-fornell2006customer">Fornell et al. 2006</a>)</span>: customer satisfaction</p></li>
<li><p><span class="citation">(<a href="references.html#ref-gielens2008dancing">Gielens et al. 2008</a>)</span>: Walmart’s entry into the UK market</p></li>
<li><p><span class="citation">(<a href="references.html#ref-boyd2008market">Boyd and Spekman 2008</a>)</span>: indirect ties</p></li>
<li><p><span class="citation">(<a href="references.html#ref-rao2008fruits">R. S. Rao, Chandy, and Prabhu 2008</a>)</span>: FDA approvals</p></li>
<li><p><span class="citation">(<a href="references.html#ref-ittner2009commentary">Ittner, Larcker, and Taylor 2009</a>)</span>: customer satisfaction</p></li>
<li><p><span class="citation">(<a href="references.html#ref-tipton2009regulatory">Tipton, Bharadwaj, and Robertson 2009</a>)</span>: Deceptive advertising</p></li>
<li><p><span class="citation">(<a href="references.html#ref-chen2009does">Y. Chen, Ganesan, and Liu 2009</a>)</span>: product recalls</p></li>
<li><p><span class="citation">(<a href="references.html#ref-jacobson2009financial">Jacobson and Mizik 2009</a>)</span>: satisfaction score release</p></li>
<li><p><span class="citation">(<a href="references.html#ref-karniouchina2009impact">Karniouchina, Moore, and Cooney 2009</a>)</span>: Mad money with Jim Cramer</p></li>
<li><p><span class="citation">(<a href="references.html#ref-wiles2010stock">Wiles et al. 2010</a>)</span>: deceptive advertising</p></li>
<li><p><span class="citation">(<a href="references.html#ref-chen2012third">Y. Chen, Liu, and Zhang 2012</a>)</span>: third-party movie reviews</p></li>
<li><p><span class="citation">(<a href="references.html#ref-xiong2013asymmetric">Xiong and Bharadwaj 2013</a>)</span>: positive and negative news</p></li>
<li><p><span class="citation">(<a href="references.html#ref-gao2015should">Gao et al. 2015</a>)</span>: product recall</p></li>
<li><p><span class="citation">(<a href="references.html#ref-malhotra2011evaluating">Malhotra and Kubowicz Malhotra 2011</a>)</span>: data breach</p></li>
<li><p><span class="citation">(<a href="references.html#ref-bhagat1998shareholder">Bhagat, Bizjak, and Coles 1998</a>)</span>: litigation</p></li>
</ul>
<p>Potential avenues:</p>
<ul>
<li><p>Ad campaigns</p></li>
<li><p>Market entry</p></li>
<li><p>product failure/recalls</p></li>
<li><p>Patents</p></li>
</ul>
<p>Pros:</p>
<ul>
<li><p>Better than accounting based measures (e.g., profits) because managers can manipulate profits <span class="citation">(<a href="references.html#ref-benston1985validity">Benston 1985</a>)</span></p></li>
<li><p>Easy to do</p></li>
</ul>
<p>Fun fact:</p>
<ul>
<li>
<span class="citation">(<a href="references.html#ref-dubow2006measuring">Dubow and Monteiro 2006</a>)</span> came up with a way to gauge how ‘clean’ a market is. They based their measure on how much prices seemed to move in a way that suggested insider knowledge, before the release of important regulatory announcements that could affect the stock prices. Such price shifts might suggest that insider trading was occurring. Essentially, they were watching for any unusual price changes before the day of the announcement.</li>
</ul>
<p>Events can be</p>
<ul>
<li><p>Internal (e.g., stock repurchase)</p></li>
<li><p>External (e.g., macroeconomic variables)</p></li>
</ul>
<p><strong>Assumptions</strong>:</p>
<ol style="list-style-type: decimal">
<li>Efficient market theory</li>
<li>Shareholders are the most important group among stakeholders</li>
<li>The event sharply affects share price</li>
<li>Expected return is calculated appropriately</li>
</ol>
<p><strong>Steps</strong>:</p>
<ol style="list-style-type: decimal">
<li>Event Identification: (e.g., dividends, M&amp;A, stock buyback, laws or regulation, privatization vs. nationalization, celebrity endorsements, name changes, or brand extensions etc. To see the list of events in US and international, see WRDS <strong>S&amp;P Capital IQ Key Developments</strong>). Events must affect either cash flows or on the discount rate of firms <span class="citation">(<a href="references.html#ref-sorescu2017">A. Sorescu, Warren, and Ertekin 2017, 191</a>)</span>
<ol style="list-style-type: decimal">
<li>
<p>Estimation window: Normal return expected return (<span class="math inline">\(T_0 \to T_1\)</span>) (sometimes include days before to capture leakages).</p>
<ul>
<li>
<p>Recommendation by <span class="citation">(<a href="references.html#ref-johnston2007review">Johnston 2007</a>)</span> is to use 250 days before the event (and 45-day between the estimation window and the event window).</p>
<ul>
<li><p><span class="citation">(<a href="references.html#ref-wiles2012effect">Wiles, Morgan, and Rego 2012</a>)</span> used an 90-trading-day estimation window ending 6 days before the event (this is consistent with the finance literature).</p></li>
<li><p><span class="citation">(<a href="references.html#ref-gielens2008dancing">Gielens et al. 2008</a>)</span> 260 to 10 days before or 300 to 46 days before</p></li>
<li><p><span class="citation">(<a href="references.html#ref-tirunillai2012does">Tirunillai and Tellis 2012</a>)</span> estimation window of 255 days and ends 46 days before the event.</p></li>
</ul>
</li>
<li><p>Similarly, <span class="citation">(<a href="references.html#ref-mcwilliams1997event">McWilliams and Siegel 1997</a>)</span> and <span class="citation">(<a href="references.html#ref-fornell2006customer">Fornell et al. 2006</a>)</span> 255 days ending 46 days before the event date</p></li>
<li><p><span class="citation">(<a href="references.html#ref-sorescu2017">A. Sorescu, Warren, and Ertekin 2017, 194</a>)</span> suggest 100 days before the event date</p></li>
<li><p>Leakage: try to cover as broad news sources as possible (LexisNexis, Factiva, and RavenPack).</p></li>
</ul>
</li>
<li>
<p>Event window: contain the event date (<span class="math inline">\(T_1 \to T_2\)</span>) (have to argue for the event window and can’t do it empirically)</p>
<ul>
<li><p>One day: <span class="citation">(<a href="references.html#ref-balasubramanian2005impact">Balasubramanian, Mathur, and Thakur 2005</a>; <a href="references.html#ref-boyd2010chief">Boyd, Chandy, and Cunha Jr 2010</a>; <a href="references.html#ref-fornell2006customer">Fornell et al. 2006</a>)</span></p></li>
<li><p>Two days: <span class="citation">(<a href="references.html#ref-raassens2012market">Raassens, Wuyts, and Geyskens 2012</a>; <a href="references.html#ref-sood2009innovations">Sood and Tellis 2009</a>)</span></p></li>
<li><p>Up to 10 days: <span class="citation">(<a href="references.html#ref-cornwell2005relationship">Cornwell, Pruitt, and Clark 2005</a>; <a href="references.html#ref-kalaignanam2013corporate">Kalaignanam and Bahadir 2013</a>; <a href="references.html#ref-sorescu2007some">A. B. Sorescu, Chandy, and Prabhu 2007</a>)</span></p></li>
</ul>
</li>
<li><p>Post Event window: <span class="math inline">\(T_2 \to T_3\)</span></p></li>
</ol>
</li>
<li>Normal vs. Abnormal returns</li>
</ol>
<p><span class="math display">\[
\epsilon_{it}^* = \frac{P_{it} - E(P_{it})}{P_{it-1}} = R_{it} - E(R_{it}|X_t)
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(\epsilon_{it}^*\)</span> = abnormal return</p></li>
<li><p><span class="math inline">\(R_{it}\)</span> = realized (actual) return</p></li>
<li><p><span class="math inline">\(P\)</span> = dividend-adjusted price of the stock</p></li>
<li><p><span class="math inline">\(E(R_{it}|X_t)\)</span> normal expected return</p></li>
</ul>
<p>There are several model to calculate the expected return</p>
<p>A. <a href="event-studies.html#statistical-models">Statistical Models</a>: assumes jointly multivariate normal and iid over time (need distributional assumptions for valid finite-sample estimation) rather robust (hence, recommended)</p>
<ol style="list-style-type: decimal">
<li><a href="event-studies.html#constant-mean-return-model">Constant Mean Return Model</a></li>
<li><a href="event-studies.html#market-model">Market Model</a></li>
<li>Adjusted Market Return Model</li>
<li>Factor Model</li>
</ol>
<p>B. <a href="event-studies.html#economic-model">Economic Model</a> (strong assumption regarding investor behavior)</p>
<ol style="list-style-type: decimal">
<li><a href="event-studies.html#capital-asset-pricing-model-capm">Capital Asset Pricing Model (CAPM)</a></li>
<li><a href="event-studies.html#arbitrage-pricing-theory-apt">Arbitrage Pricing Theory (APT)</a></li>
</ol>
<div id="other-issues" class="section level2" number="28.1">
<h2>
<span class="header-section-number">28.1</span> Other Issues<a class="anchor" aria-label="anchor" href="#other-issues"><i class="fas fa-link"></i></a>
</h2>
<div id="event-studies-in-marketing" class="section level3" number="28.1.1">
<h3>
<span class="header-section-number">28.1.1</span> Event Studies in marketing<a class="anchor" aria-label="anchor" href="#event-studies-in-marketing"><i class="fas fa-link"></i></a>
</h3>
<p><span class="citation">(<a href="references.html#ref-skiera2017should">Skiera, Bayer, and Schöler 2017</a>)</span> What should be the dependent variable in marketing-related event studies?</p>
<ul>
<li>
<p>Based on valuation theory, Shareholder value = the value of the operating business + non-operating asset - debt <span class="citation">(<a href="references.html#ref-schulze2012linking">Schulze, Skiera, and Wiesel 2012</a>)</span></p>
<ul>
<li>Many marketing events only affect the operating business value, but not non-operating assets and debt</li>
</ul>
</li>
<li>
<p>Ignoring the differences in firm-specific leverage effects has dual effects:</p>
<ul>
<li><p>inflates the impact of observation pertaining to firms with large debt</p></li>
<li><p>deflates those pertaining to firms with large non-operating asset.</p></li>
</ul>
</li>
<li><p>It’s recommended that marketing papers should report both <span class="math inline">\(CAR^{OB}\)</span> and <span class="math inline">\(CAR^{SHV}\)</span> and argue for whichever one more appropriate.</p></li>
<li><p>Up until this paper, only two previous event studies control for financial structure: <span class="citation">(<a href="references.html#ref-gielens2008dancing">Gielens et al. 2008</a>)</span> <span class="citation">(<a href="references.html#ref-chaney1991impact">Chaney, Devinney, and Winer 1991</a>)</span></p></li>
</ul>
<p>Definitions:</p>
<ul>
<li>
<p>Cumulative abnormal percentage return on shareholder value (<span class="math inline">\(CAR^{SHV}\)</span>)</p>
<ul>
<li>Shareholder value refers to a firm’s market capitalization = share price x # of shares.</li>
</ul>
</li>
<li>
<p>Cumulative abnormal percentage return on the value of the operating business (<span class="math inline">\(CAR^{OB}\)</span>)</p>
<ul>
<li><p><span class="math inline">\(CAR^{OB} = CAR^{SHV}/\text{leverage effect}_{before}\)</span></p></li>
<li><p>Leverage effect = Operating business value / Shareholder value (LE describes how a 1% change in operating business translates into a percentage change in shareholder value).</p></li>
<li><p>Value of operating business = shareholder value - non-operating assets + debt</p></li>
<li>
<p>Leverage effect <span class="math inline">\(\neq\)</span> leverage ratio, where leverage ratio is debt / firm size</p>
<ul>
<li><p>debt = long-term + short-term debt; long-term debt</p></li>
<li><p>firm size = book value of equity; market cap; total assets; debt + equity</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Operating assets are those used by firm in their core business operations (e..g, property, plant, equipment, natural resources, intangible asset)</p></li>
<li><p>Non–operating assets (redundant assets), do not play a role in a firm’s operations, but still generate some form of return (e.g., excess cash , marketable securities - commercial papers, market instruments)</p></li>
</ul>
<p>Marketing events usually influence the value of a firm’s operating assets (more specifically intangible assets). Then, changes in the value of the operating business can impact shareholder value.</p>
<ul>
<li>
<p>Three rare instances where marketing events can affect non-operating assets and debt</p>
<ul>
<li><p><span class="citation">(<a href="references.html#ref-hall2004determinants">Hall, Hutchinson, and Michaelas 2004</a>)</span>: excess pre-orderings can influence short-term debt</p></li>
<li><p><span class="citation">(<a href="references.html#ref-berger1997managerial">Berger, Ofek, and Yermack 1997</a>)</span> Firing CMO increase debt as the manager’s tenure is negatively associated with the firm’s debt</p></li>
<li><p><span class="citation">(<a href="references.html#ref-bhaduri2002determinants">Bhaduri 2002</a>)</span> production of unique products.</p></li>
</ul>
</li>
</ul>
<p>A marketing-related event can either influence</p>
<ul>
<li><p>value components of a firm’s value (= firm’s operating business, non-operating assets and its debt)</p></li>
<li><p>only the operating business.</p></li>
</ul>
<p>Replication of the leverage effect</p>
<p><span class="math display">\[
\begin{aligned}
\text{leverage effect} &amp;= \frac{\text{operating business}}{\text{shareholder value}} \\
&amp;= \frac{\text{(shareholder value - non-operating assets + debt)}}{\text{shareholder value}} \\
&amp;= \frac{prcc_f \times csho - ivst + dd1 + dltt + pstk}{prcc_f \times csho}
\end{aligned}
\]</span></p>
<p>Compustat Data Item</p>
<div class="inline-table"><table style="width:65%;" class="table table-sm">
<colgroup>
<col width="19%">
<col width="45%">
</colgroup>
<thead><tr class="header">
<th>Label</th>
<th>Variable</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>prcc_f</code></td>
<td>Share price</td>
</tr>
<tr class="even">
<td><code>csho</code></td>
<td>Common shares outstanding</td>
</tr>
<tr class="odd">
<td><code>ivst</code></td>
<td>
<p>short-term investments</p>
<p>(Non-operating assets)</p>
</td>
</tr>
<tr class="even">
<td><code>dd1</code></td>
<td>long-term debt due in one year</td>
</tr>
<tr class="odd">
<td><code>dltt</code></td>
<td>long-term debt</td>
</tr>
<tr class="even">
<td><code>pstk</code></td>
<td>preferred stock</td>
</tr>
</tbody>
</table></div>
<p>Since WRDS no longer maintains the S&amp;P 500 list as of the time of this writing, I can’t replicate the list used in <span class="citation">(<a href="references.html#ref-skiera2017should">Skiera, Bayer, and Schöler 2017</a>)</span> paper.</p>
<div class="sourceCode" id="cb531"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="va">df_leverage_effect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"data/leverage_effect.csv.gz"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    </span>
<span>    <span class="co"># get active firms only</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">costat</span> <span class="op">==</span> <span class="st">"A"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    </span>
<span>    <span class="co"># drop missing values</span></span>
<span>    <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    </span>
<span>    <span class="co"># create the leverage effect variable</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>le <span class="op">=</span> <span class="op">(</span><span class="va">prcc_f</span> <span class="op">*</span> <span class="va">csho</span> <span class="op">-</span> <span class="va">ivst</span> <span class="op">+</span> <span class="va">dd1</span> <span class="op">+</span> <span class="va">dltt</span> <span class="op">+</span> <span class="va">pstk</span><span class="op">)</span><span class="op">/</span> <span class="op">(</span><span class="va">prcc_f</span> <span class="op">*</span> <span class="va">csho</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    </span>
<span>    <span class="co"># get shareholder value</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>shv <span class="op">=</span> <span class="va">prcc_f</span> <span class="op">*</span> <span class="va">csho</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    </span>
<span>    <span class="co"># remove Infinity value for leverage effect (i.e., shareholder value = 0)</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter_all.html">filter_all</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/all_vars.html">all_vars</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.infinite</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    </span>
<span>    <span class="co"># positive values only </span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter_all.html">filter_all</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/all_vars.html">all_vars</a></span><span class="op">(</span><span class="va">.</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    </span>
<span>    <span class="co"># get the within coefficient of variation</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">gvkey</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>within_var_mean_le <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/mean.html">mean</a></span><span class="op">(</span><span class="va">le</span><span class="op">)</span>,</span>
<span>           within_var_sd_le <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">le</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># get the mean and standard deviation</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/mean.html">mean</a></span><span class="op">(</span><span class="va">df_leverage_effect</span><span class="op">$</span><span class="va">le</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 150.1087</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">df_leverage_effect</span><span class="op">$</span><span class="va">le</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 183629.6</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">df_leverage_effect</span><span class="op">$</span><span class="va">le</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="28-event-study_files/figure-html/unnamed-chunk-1-1.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb532"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># coefficient of variation </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">df_leverage_effect</span><span class="op">$</span><span class="va">le</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/mean.html">mean</a></span><span class="op">(</span><span class="va">df_leverage_effect</span><span class="op">$</span><span class="va">le</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span><span class="co">#&gt; [1] 2749.084</span></span>
<span></span>
<span><span class="co"># Within-firm variation (similar to fig 3a)</span></span>
<span><span class="va">df_leverage_effect</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">gvkey</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">within_var_mean_le</span>, <span class="va">within_var_sd_le</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>cv <span class="op">=</span> <span class="va">within_var_sd_le</span><span class="op">/</span> <span class="va">within_var_mean_le</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">cv</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="28-event-study_files/figure-html/unnamed-chunk-1-2.png" width="90%" style="display: block; margin: auto;"></div>
</div>
<div id="economic-significance" class="section level3" number="28.1.2">
<h3>
<span class="header-section-number">28.1.2</span> Economic significance<a class="anchor" aria-label="anchor" href="#economic-significance"><i class="fas fa-link"></i></a>
</h3>
<p>Total wealth gain (loss) from the event</p>
<p><span class="math display">\[
\Delta W_t = CAR_t \times MKTVAL_0
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(\Delta W_t\)</span> = gain (loss)</p></li>
<li><p><span class="math inline">\(CAR_t\)</span> = cumulative residuals to date <span class="math inline">\(t\)</span></p></li>
<li><p><span class="math inline">\(MKTVAL_0\)</span> market value of the firm before the event window</p></li>
</ul>
</div>
<div id="statistical-power" class="section level3" number="28.1.3">
<h3>
<span class="header-section-number">28.1.3</span> Statistical Power<a class="anchor" aria-label="anchor" href="#statistical-power"><i class="fas fa-link"></i></a>
</h3>
<p>increases with</p>
<ul>
<li><p>more firms</p></li>
<li><p>less days in the event window (avoiding potential contamination from confounds)</p></li>
</ul>
</div>
</div>
<div id="testing" class="section level2" number="28.2">
<h2>
<span class="header-section-number">28.2</span> Testing<a class="anchor" aria-label="anchor" href="#testing"><i class="fas fa-link"></i></a>
</h2>
<div id="parametric-test" class="section level3" number="28.2.1">
<h3>
<span class="header-section-number">28.2.1</span> Parametric Test<a class="anchor" aria-label="anchor" href="#parametric-test"><i class="fas fa-link"></i></a>
</h3>
<p><span class="citation">(<a href="references.html#ref-brown1985using">S. J. Brown and Warner 1985</a>)</span> provide evidence that even in the presence of non-normality, the parametric tests still perform well. Since the proportion of positive and negative abnormal returns tends to be equal in the sample (of at least 5 securities). The excess returns will coverage to normality as the sample size increases. Hence, parametric test is advocated than non-parametric one.</p>
<p>Low power to detect significance <span class="citation">(<a href="references.html#ref-kothari1997measuring">Kothari and Warner 1997</a>)</span></p>
<ul>
<li>Power = f(sample, size, the actual size of abnormal returns, the variance of abnormal returns across firms)</li>
</ul>
<div id="t-test" class="section level4" number="28.2.1.1">
<h4>
<span class="header-section-number">28.2.1.1</span> T-test<a class="anchor" aria-label="anchor" href="#t-test"><i class="fas fa-link"></i></a>
</h4>
<p>Applying CLT</p>
<p><span class="math display">\[
\begin{aligned}
t_{CAR} &amp;= \frac{\bar{CAR_{it}}}{\sigma (CAR_{it})/\sqrt{n}} \\
t_{BHAR} &amp;= \frac{\bar{BHAR_{it}}}{\sigma (BHAR_{it})/\sqrt{n}}
\end{aligned}
\]</span></p>
<p>Assume</p>
<ul>
<li><p>Abnormal returns are normally distributed</p></li>
<li><p>Var(abnormal returns) are equal across firms</p></li>
<li><p>No cross-correlation in abnormal returns.</p></li>
</ul>
<p>Hence, it will be misspecified if you suspected</p>
<ul>
<li><p>Heteroskedasticity</p></li>
<li><p>Cross-sectional dependence</p></li>
<li><p>Technically, abnormal returns could follow non-normal distribution (but because of the design of abnormal returns calculation, it typically forces the distribution to be normal)</p></li>
</ul>
<p>To address these concerns, <a href="event-studies.html#patell-standardized-residual-psr">Patell Standardized Residual (PSR)</a> can sometimes help.</p>
</div>
<div id="patell-standardized-residual-psr" class="section level4" number="28.2.1.2">
<h4>
<span class="header-section-number">28.2.1.2</span> Patell Standardized Residual (PSR)<a class="anchor" aria-label="anchor" href="#patell-standardized-residual-psr"><i class="fas fa-link"></i></a>
</h4>
<p><span class="citation">(<a href="references.html#ref-patell1976corporate">Patell 1976</a>)</span></p>
<ul>
<li>Since market model uses observations outside the event window, abnormal returns contain prediction errors on top of the true residuals , and should be standardized:</li>
</ul>
<p><span class="math display">\[
AR_{it} = \frac{\hat{u}_{it}}{s_i \sqrt{C_{it}}}
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(\hat{u}_{it}\)</span> = estimated residual</p></li>
<li><p><span class="math inline">\(s_i\)</span> = standard deviation estimate of residuals (from the estimation period)</p></li>
<li><p><span class="math inline">\(C_{it}\)</span> = a correction to account for the prediction’s increased variation outside of the estimation period <span class="citation">(<a href="references.html#ref-strong1992">Strong 1992</a>)</span></p></li>
</ul>
<p><span class="math display">\[
C_{it} = 1 + \frac{1}{T} + \frac{(R_{mt} - \bar{R}_m)^2}{\sum_t (R_{mt} - \bar{R}_m)^2}
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(T\)</span> = number of observations (from estimation period)</p></li>
<li><p><span class="math inline">\(R_{mt}\)</span> = average rate of return of all stocks trading the the stock market at time <span class="math inline">\(t\)</span></p></li>
<li><p><span class="math inline">\(\bar{R}_m = \frac{1}{T} \sum_{t=1}^T R_{mt}\)</span></p></li>
</ul>
</div>
</div>
<div id="non-parametric-test" class="section level3" number="28.2.2">
<h3>
<span class="header-section-number">28.2.2</span> Non-parametric Test<a class="anchor" aria-label="anchor" href="#non-parametric-test"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p>No assumptions about return distribution</p></li>
<li>
<p>Sign Test (assumes symmetry in returns)</p>
<ul>
<li><code><a href="https://rdrr.io/r/stats/binom.test.html">binom.test()</a></code></li>
</ul>
</li>
<li>
<p>Wilcoxon Signed-Rank Test (allows for non-symmetry in returns)</p>
<ul>
<li>Use <code>wilcox.test(sample)</code>
</li>
</ul>
</li>
<li><p>Gen Sign Test</p></li>
<li><p>Corrado Rank Test</p></li>
</ul>
</div>
</div>
<div id="sample" class="section level2" number="28.3">
<h2>
<span class="header-section-number">28.3</span> Sample<a class="anchor" aria-label="anchor" href="#sample"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<p>Sample can be relative small</p>
<ul>
<li><p><span class="citation">(<a href="references.html#ref-wiles2012effect">Wiles, Morgan, and Rego 2012</a>)</span> 572 acquisition announcements, 308 disposal announcements</p></li>
<li><p>Can range from 71 <span class="citation">(<a href="references.html#ref-markovitch2008findings">Markovitch and Golder 2008</a>)</span> to 3552 <span class="citation">(<a href="references.html#ref-borah2014make">Borah and Tellis 2014</a>)</span></p></li>
</ul>
</li>
</ul>
<div id="confounders" class="section level3" number="28.3.1">
<h3>
<span class="header-section-number">28.3.1</span> Confounders<a class="anchor" aria-label="anchor" href="#confounders"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Avoid confounding events: earnings announcements, key executive changes, unexpected stock buybacks, changes in dividends within the two-trading day window surrounding the event, mergers and acquisitions, spin-offers, stock splits, management changes, joint ventures, unexpected dividend, IPO, debt defaults, dividend cancellations <span class="citation">(<a href="references.html#ref-mcwilliams1997event">McWilliams and Siegel 1997</a>)</span>
</li>
</ul>
<p>According to <span class="citation">(<a href="references.html#ref-fornell2006customer">Fornell et al. 2006</a>)</span>, need to control:</p>
<ul>
<li><p>one-day event period = day when Wall Street Journal publish ACSI announcement.</p></li>
<li>
<p>5 days before and after event to rule out other news (PR Newswires, Dow Jones, Business Wires)</p>
<ul>
<li><p>M&amp;A, Spin-offs, stock splits</p></li>
<li><p>CEO or CFO changes,</p></li>
<li><p>Layoffs, restructurings, earnings announcements, lawsuits</p></li>
<li><p>Capital IQ - Key Developments: covers almost all important events so you don’t have to search on news.</p></li>
</ul>
</li>
</ul>
<p><span class="citation">(<a href="references.html#ref-sorescu2017">A. Sorescu, Warren, and Ertekin 2017</a>)</span> examine confounding events in the short-term windows:</p>
<ul>
<li><p>From RavenPack, 3982 US publicly traded firms, with all the press releases (2000-2013)</p></li>
<li><p>3-day window around event dates</p></li>
<li><p>The difference between a sample with full observations and a sample without confounded events is negligible (non-significant).</p></li>
<li>
<p>Conclusion: <strong>excluding confounded observations may be unnecessary for short-term event studies.</strong></p>
<ul>
<li><p>Biases can stem from researchers pick and choose events to exclude</p></li>
<li><p>As time progresses, more and more events you need to exclude which can be infeasible.</p></li>
</ul>
</li>
</ul>
<p>To further illustrate this point, let’s do a quick simulation exercise</p>
<p>In this example, we will explore three types of events:</p>
<ol style="list-style-type: decimal">
<li><p>Focal events</p></li>
<li><p>Correlated events (i.e., events correlated with the focal events; the presence of correlated events can follow the presence of the focal event)</p></li>
<li><p>Uncorrelated events (i.e., events with dates that might randomly coincide with the focal events, but are not correlated with them).</p></li>
</ol>
<p>We have the ability to control the strength of correlation between focal and correlated events in this study, as well as the number of unrelated events we wish to examine.</p>
<p>Let’s examine the implications of including and excluding correlated and uncorrelated events on the estimates of our focal events.</p>
<div class="sourceCode" id="cb533"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load required libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Parameters</span></span>
<span><span class="va">n</span>                  <span class="op">&lt;-</span> <span class="fl">100000</span>         <span class="co"># Number of observations</span></span>
<span><span class="va">n_focal</span>            <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">n</span> <span class="op">*</span> <span class="fl">0.2</span><span class="op">)</span> <span class="co"># Number of focal events</span></span>
<span><span class="va">overlap_correlated</span> <span class="op">&lt;-</span> <span class="fl">0.5</span>            <span class="co"># Overlapping percentage between focal and correlated events</span></span>
<span></span>
<span><span class="co"># Function to compute mean and confidence interval</span></span>
<span><span class="va">mean_ci</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span>    <span class="va">ci</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/TDist.html">qt</a></span><span class="op">(</span><span class="fl">0.975</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="co"># 95% confidence interval</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">m</span>, lower <span class="op">=</span> <span class="va">m</span> <span class="op">-</span> <span class="va">ci</span>, upper <span class="op">=</span> <span class="va">m</span> <span class="op">+</span> <span class="va">ci</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Simulate data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>    date       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.Date.html">seq.Date</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html">as.Date</a></span><span class="op">(</span><span class="st">"2010-01-01"</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"day"</span>, length.out <span class="op">=</span> <span class="va">n</span><span class="op">)</span>, <span class="co"># Date sequence</span></span>
<span>    focal      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">n</span><span class="op">)</span>,</span>
<span>    correlated <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">n</span><span class="op">)</span>,</span>
<span>    ab_ret     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Define focal events</span></span>
<span><span class="va">focal_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">n</span>, <span class="va">n_focal</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">focal</span><span class="op">[</span><span class="va">focal_idx</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span></span>
<span><span class="va">true_effect</span> <span class="op">&lt;-</span> <span class="fl">0.25</span></span>
<span></span>
<span><span class="co"># Adjust the ab_ret for the focal events to have a mean of true_effect</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">focal_idx</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">focal_idx</span><span class="op">]</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/mean.html">mean</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">focal_idx</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> <span class="va">true_effect</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co"># Determine the number of correlated events that overlap with focal and those that don't</span></span>
<span><span class="va">n_correlated_overlap</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">focal_idx</span><span class="op">)</span> <span class="op">*</span> <span class="va">overlap_correlated</span><span class="op">)</span></span>
<span><span class="va">n_correlated_non_overlap</span> <span class="op">&lt;-</span> <span class="va">n_correlated_overlap</span></span>
<span></span>
<span><span class="co"># Sample the overlapping correlated events from the focal indices</span></span>
<span><span class="va">correlated_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">focal_idx</span>, size <span class="op">=</span> <span class="va">n_correlated_overlap</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the remaining indices that are not part of focal</span></span>
<span><span class="va">remaining_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://generics.r-lib.org/reference/setops.html">setdiff</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">n</span>, <span class="va">focal_idx</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check to ensure that we're not attempting to sample more than the available remaining indices</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">remaining_idx</span><span class="op">)</span> <span class="op">&lt;</span> <span class="va">n_correlated_non_overlap</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"Not enough remaining indices for non-overlapping correlated events"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Sample the non-overlapping correlated events from the remaining indices</span></span>
<span><span class="va">correlated_non_focal_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">remaining_idx</span>, size <span class="op">=</span> <span class="va">n_correlated_non_overlap</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Combine the two to get all correlated indices</span></span>
<span><span class="va">all_correlated_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">correlated_idx</span>, <span class="va">correlated_non_focal_idx</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set the correlated events in the data</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">correlated</span><span class="op">[</span><span class="va">all_correlated_idx</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span></span>
<span></span>
<span><span class="co"># Inflate the effect for correlated events to have a mean of </span></span>
<span><span class="va">correlated_non_focal_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://generics.r-lib.org/reference/setops.html">setdiff</a></span><span class="op">(</span><span class="va">all_correlated_idx</span>, <span class="va">focal_idx</span><span class="op">)</span> <span class="co"># Fixing the selection of non-focal correlated events</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">correlated_non_focal_idx</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">correlated_non_focal_idx</span><span class="op">]</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/mean.html">mean</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">correlated_non_focal_idx</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span></span>
<span></span>
<span></span>
<span><span class="co"># Define the numbers of uncorrelated events for each scenario</span></span>
<span><span class="va">num_uncorrelated</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">40</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define uncorrelated events</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">num</span> <span class="kw">in</span> <span class="va">num_uncorrelated</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">num</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"uncorrelated_"</span>, <span class="va">i</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span>        <span class="va">uncorrelated_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">n</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">n</span> <span class="op">*</span> <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">data</span><span class="op">[</span><span class="va">uncorrelated_idx</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"uncorrelated_"</span>, <span class="va">i</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="co"># Define uncorrelated columns and scenarios</span></span>
<span><span class="va">unc_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"uncorrelated_"</span>, <span class="fl">1</span><span class="op">:</span><span class="va">num_uncorrelated</span><span class="op">)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>    Scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Include Correlated"</span>, <span class="st">"Correlated Effects"</span>, <span class="st">"Exclude Correlated"</span>, <span class="st">"Exclude Correlated and All Uncorrelated"</span><span class="op">)</span>,</span>
<span>    MeanEffect <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>        <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">mean</span>,</span>
<span>        <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">|</span> <span class="va">data</span><span class="op">$</span><span class="va">correlated</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">mean</span>,</span>
<span>        <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">correlated</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">mean</span>,</span>
<span>        <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">correlated</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"uncorrelated_"</span>, <span class="fl">1</span><span class="op">:</span><span class="va">num_uncorrelated</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">mean</span></span>
<span>    <span class="op">)</span>,</span>
<span>    LowerCI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>        <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">lower</span>,</span>
<span>        <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">|</span> <span class="va">data</span><span class="op">$</span><span class="va">correlated</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">lower</span>,</span>
<span>        <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">correlated</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">lower</span>,</span>
<span>        <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">correlated</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"uncorrelated_"</span>, <span class="fl">1</span><span class="op">:</span><span class="va">num_uncorrelated</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">lower</span></span>
<span>    <span class="op">)</span>,</span>
<span>    UpperCI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>        <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">upper</span>,</span>
<span>        <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">|</span> <span class="va">data</span><span class="op">$</span><span class="va">correlated</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">upper</span>,</span>
<span>        <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">correlated</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">upper</span>,</span>
<span>        <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">correlated</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"uncorrelated_"</span>, <span class="fl">1</span><span class="op">:</span><span class="va">num_uncorrelated</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">upper</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add the scenarios for excluding 5, 10, 20, and 50 uncorrelated</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">num</span> <span class="kw">in</span> <span class="va">num_uncorrelated</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">unc_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"uncorrelated_"</span>, <span class="fl">1</span><span class="op">:</span><span class="va">num</span><span class="op">)</span></span>
<span>    <span class="va">results</span> <span class="op">&lt;-</span> <span class="va">results</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>        <span class="fu"><a href="https://tibble.tidyverse.org/reference/add_row.html">add_row</a></span><span class="op">(</span></span>
<span>            Scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/paste.html">paste</a></span><span class="op">(</span><span class="st">"Exclude"</span>, <span class="va">num</span>, <span class="st">"Uncorrelated"</span><span class="op">)</span>,</span>
<span>            MeanEffect <span class="op">=</span> <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">correlated</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>, <span class="va">unc_cols</span><span class="op">]</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">mean</span>,</span>
<span>            LowerCI <span class="op">=</span> <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">correlated</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>, <span class="va">unc_cols</span><span class="op">]</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">lower</span>,</span>
<span>            UpperCI <span class="op">=</span> <span class="fu">mean_ci</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ab_ret</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">focal</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">correlated</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>, <span class="va">unc_cols</span><span class="op">]</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">upper</span></span>
<span>        <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">results</span>,</span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span></span>
<span>           x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">Scenario</span>, levels <span class="op">=</span> <span class="va">Scenario</span><span class="op">)</span>,</span>
<span>           y <span class="op">=</span> <span class="va">MeanEffect</span>,</span>
<span>           ymin <span class="op">=</span> <span class="va">LowerCI</span>,</span>
<span>           ymax <span class="op">=</span> <span class="va">UpperCI</span></span>
<span>       <span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html">geom_pointrange</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Mean Effect"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Scenario"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Mean Effect of Focal Events under Different Scenarios"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="va">true_effect</span>,</span>
<span>               linetype <span class="op">=</span> <span class="st">"dashed"</span>,</span>
<span>               color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="28-event-study_files/figure-html/unnamed-chunk-2-1.png" width="90%" style="display: block; margin: auto;"></div>
<p>As depicted in the plot, the inclusion of correlated events demonstrates minimal impact on the estimation of our focal events. Conversely, excluding these correlated events can diminish our statistical power. This is true in cases of pronounced correlation.</p>
<p>However, the consequences of excluding unrelated events are notably more significant. It becomes evident that by omitting around 40 unrelated events from our study, we lose the ability to accurately identify the true effects of the focal events. In reality and within research, we often rely on the Key Developments database, excluding over 150 events, a practice that can substantially impair our capacity to ascertain the authentic impact of the focal events.</p>
<p>This little experiment really drives home the point – you better have a darn good reason to exclude an event from your study (make it super convincing)!</p>
</div>
</div>
<div id="biases" class="section level2" number="28.4">
<h2>
<span class="header-section-number">28.4</span> Biases<a class="anchor" aria-label="anchor" href="#biases"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>Different closing time obscure estimation of the abnormal returns, check <span class="citation">(<a href="references.html#ref-campbell1998econometrics">Campbell et al. 1998</a>)</span></p></li>
<li><p>Upward bias in aggregating CAR + transaction prices (bid and ask)</p></li>
<li><p>Cross-sectional dependence in the returns bias the standard deviation estimates downward, which inflates the test statistics when events share common dates <span class="citation">(<a href="references.html#ref-mackinlay1997event">MacKinlay 1997</a>)</span>. Hence, <span class="citation">(<a href="references.html#ref-jaffe1974special">Jaffe 1974</a>)</span> <a href="event-studies.html#calendar-time-portfolio-abnormal-returns-ctars">Calendar-time Portfolio Abnormal Returns (CTARs)</a> should be used to correct for this bias.</p></li>
<li><p><span class="citation">(<a href="references.html#ref-wiles2012effect">Wiles, Morgan, and Rego 2012</a>)</span>: For events confined to relatively few industries, cross-sectional dependence in the returns can bias the SD estimate downward, inflating the associated test statistics” (p. 47). To control for potential cross-sectional correlation in the abnormal returns, you can use time-series standard deviation test statistic <span class="citation">(<a href="references.html#ref-brown1980measuring">S. J. Brown and Warner 1980</a>)</span></p></li>
<li>
<p>Sample selection bias (self-selection of firms into the event treatment) similar to omitted variable bias where the omitted variable is the private info that leads a firm to take the action.</p>
<ul>
<li><p>See <a href="endogeneity.html#endogenous-sample-selection">Endogenous Sample Selection</a> for more methods to correct this bias.</p></li>
<li>
<p>Use Heckman model <span class="citation">(<a href="references.html#ref-acharya1993value">Acharya 1993</a>)</span></p>
<ul>
<li><p>But hard to find an instrument that meets the exclusion requirements (and strong, because weak instruments can lead to multicollinearity in the second equation)</p></li>
<li><p>Can estimate the private information unknown to investors (which is Mills ratio <span class="math inline">\(\lambda\)</span> itself). Testing <span class="math inline">\(\lambda\)</span> significance is to see whether private info can explain outcomes (e.g., magnitude of the CARs to the announcement).</p></li>
<li><p>Examples: <span class="citation">(<a href="references.html#ref-chen2009does">Y. Chen, Ganesan, and Liu 2009</a>)</span> <span class="citation">(<a href="references.html#ref-wiles2012effect">Wiles, Morgan, and Rego 2012</a>)</span> <span class="citation">(<a href="references.html#ref-fang2015timing">Fang, Lee, and Yang 2015</a>)</span></p></li>
</ul>
</li>
<li>
<p>Counterfactual observations</p>
<ul>
<li>
<p>Propensity score matching:</p>
<ul>
<li><p>Finance: <span class="citation">Doan and Iskandar-Datta (<a href="references.html#ref-doan2021does">2021</a>)</span> <span class="citation">(<a href="references.html#ref-masulis2011venture">Masulis and Nahata 2011</a>)</span></p></li>
<li><p>Marketing: <span class="citation">(<a href="references.html#ref-warren2017how">Warren and Sorescu 2017</a>)</span> <span class="citation">(<a href="references.html#ref-borah2014make">Borah and Tellis 2014</a>)</span> <span class="citation">(<a href="references.html#ref-cao2013wedded">Cao and Sorescu 2013</a>)</span></p></li>
</ul>
</li>
<li><p>Switching regression: comparison between 2 specific outcomes (also account for selection on unobservables - using instruments) <span class="citation">(<a href="references.html#ref-cao2013wedded">Cao and Sorescu 2013</a>)</span></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div id="long-run-event-studies" class="section level2" number="28.5">
<h2>
<span class="header-section-number">28.5</span> Long-run event studies<a class="anchor" aria-label="anchor" href="#long-run-event-studies"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>Usually make an assumption that the distribution of the abnormal returns to these events has a mean of 0 <span class="citation">(<a href="references.html#ref-sorescu2017">A. Sorescu, Warren, and Ertekin 2017, 192</a>)</span>. And <span class="citation">(<a href="references.html#ref-sorescu2017">A. Sorescu, Warren, and Ertekin 2017</a>)</span> provide evidence that for all events they examine the results from samples with and without confounding events do not differ.</p></li>
<li><p>Long-horizon event studies face challenges due to systematic errors over time and sensitivity to model choice.</p></li>
<li>
<p>Two main approaches are used to measure long-term abnormal stock returns</p>
<ul>
<li><p><a href="event-studies.html#buy-and-hold-abnormal-returns-bhar">Buy and Hold Abnormal Returns (BHAR)</a></p></li>
<li><p><a href="event-studies.html#long-term-cumulative-abnormal-returns-lcars">Long-term Cumulative Abnormal Returns (LCARs)</a></p></li>
<li><p><a href="event-studies.html#calendar-time-portfolio-abnormal-returns-ctars">Calendar-time Portfolio Abnormal Returns (CTARs)</a> (Jensen’s Alpha): manages cross-sectional dependence better and is less sensitive to (asset pricing) model misspecification</p></li>
</ul>
</li>
<li>
<p>Two types:</p>
<ul>
<li><p>Unexpected changes in firm specific variables (typically not announced, may not be immediately visible to all investors, impact on firm value is not straightforward): customer satisfaction scores effect on firm value <span class="citation">(<a href="references.html#ref-jacobson2009financial">Jacobson and Mizik 2009</a>)</span> or unexpected changes in marketing expenditures <span class="citation">(<a href="references.html#ref-kim2011stock">M. Kim and McAlister 2011</a>)</span> to determine mispricing.</p></li>
<li><p>Complex consequences (investors take time to learn and incorporate info): acquisition depends on integration <span class="citation">(<a href="references.html#ref-sorescu2007some">A. B. Sorescu, Chandy, and Prabhu 2007</a>)</span></p></li>
</ul>
</li>
<li><p>12 - 60 months event window: <span class="citation">(<a href="references.html#ref-loughran1995new">Loughran and Ritter 1995</a>)</span> <span class="citation">(<a href="references.html#ref-brav1997myth">Brav and Gompers 1997</a>)</span></p></li>
<li><p>Example: <span class="citation">(<a href="references.html#ref-dutta2018robust">Dutta et al. 2018</a>)</span></p></li>
</ul>
<div class="sourceCode" id="cb534"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/skoestlmeier/crseEventStudy">crseEventStudy</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># example by the package's author</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">demo_returns</span><span class="op">)</span></span>
<span><span class="va">SAR</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/crseEventStudy/man/sar.html">sar</a></span><span class="op">(</span>event <span class="op">=</span> <span class="va">demo_returns</span><span class="op">$</span><span class="va">EON</span>,</span>
<span>        control <span class="op">=</span> <span class="va">demo_returns</span><span class="op">$</span><span class="va">RWE</span>,</span>
<span>        logret <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/mean.html">mean</a></span><span class="op">(</span><span class="va">SAR</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.006870196</span></span></code></pre></div>
<div id="buy-and-hold-abnormal-returns-bhar" class="section level3" number="28.5.1">
<h3>
<span class="header-section-number">28.5.1</span> Buy and Hold Abnormal Returns (BHAR)<a class="anchor" aria-label="anchor" href="#buy-and-hold-abnormal-returns-bhar"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Classic references: <span class="citation">(<a href="references.html#ref-loughran1995new">Loughran and Ritter 1995</a>)</span> <span class="citation">(<a href="references.html#ref-barber1997firm">Barber and Lyon 1997</a>)</span> <span class="citation">(<a href="references.html#ref-lyon1999improved">Lyon, Barber, and Tsai 1999</a>)</span>
</li>
</ul>
<p>Use a portfolio of stocks that are close matches of the current firm over the same period as benchmark, and see the difference between the firm return and that of the portfolio.</p>
<ul>
<li>More technical note is that it measures returns from buying stocks in event-experiencing firms and shorting stocks in similar non-event firms within the same time.</li>
<li>Because of high cross-sectional correlations, BHARs’ t-stat can be inflated, but its rank order is not affected <span class="citation">(<a href="references.html#ref-markovitch2008findings">Markovitch and Golder 2008</a>; <a href="references.html#ref-sorescu2007some">A. B. Sorescu, Chandy, and Prabhu 2007</a>)</span>
</li>
</ul>
<p>To construct the portfolio, use similar</p>
<ul>
<li>size</li>
<li>book-to-market</li>
<li>momentum</li>
</ul>
<p>Matching Procedure <span class="citation">(<a href="references.html#ref-barber1997firm">Barber and Lyon 1997</a>)</span>:</p>
<ol style="list-style-type: decimal">
<li><p>Each year from July to June, all common stocks in the CRSP database are categorized into ten groups (deciles) based on their market capitalization from the previous June.</p></li>
<li><p>Within these deciles, firms are further sorted into five groups (quintiles) based on their book-to-market ratios as of December of the previous year or earlier, considering possible delays in financial statement reporting.</p></li>
<li><p>Benchmark portfolios are designed to exclude firms with specific events but include all firms that can be classified into the characteristic-based portfolios.</p></li>
</ol>
<p>Similarly, <span class="citation">Wiles et al. (<a href="references.html#ref-wiles2010stock">2010</a>)</span> uses the following matching procedure:</p>
<ol style="list-style-type: decimal">
<li>All firms in the same two-digit SIC code with market values of 50% to 150% of the focal firms are selected</li>
<li>From this list, the 10 firms with the most comparable book-to-market ratios are chosen to serve as the matched portfolio (the matched portfolio can have less than 10 firms).</li>
</ol>
<p>Calculations:</p>
<p><span class="math display">\[
AR_{it} = R_{it} - E(R_{it}|X_t)
\]</span></p>
<p>Cumulative Abnormal Return (CAR):</p>
<p><span class="math display">\[
CAR_{it} = \sum_{t=1}^T (R_{it} - E(R_{it}))
\]</span></p>
<p>Buy-and-Hold Abnormal Return (BHAR)</p>
<p><span class="math display">\[
BHAR_{t = 1}^T = \Pi_{t=1}^T(1 + R_{it}) - \Pi_{t = 1}^T (1 + E(R_{it}))
\]</span></p>
<p>where as CAR is the arithmetic sum, BHAR is the geometric sum.</p>
<ul>
<li>In short-term event studies, differences between CAR and BHAR are often minimal. However, in long-term studies, this difference could significantly skew results. <span class="citation">(<a href="references.html#ref-barber1997firm">Barber and Lyon 1997</a>)</span> shows that while BHAR is usually slightly lower than annual CAR, but it dramatically surpasses CAR when annual BHAR exceeds 28%.</li>
</ul>
<p>To calculate the long-run return (<span class="math inline">\(\Pi_{t=1}^T (1 + E(R_{it}))\)</span>) of the benchmark portfolio, we can:</p>
<ol style="list-style-type: decimal">
<li>
<strong>With annual rebalance</strong>: In each period, each portfolio is re-balanced and then compound mean stock returns in a portfolio over a given period:</li>
</ol>
<p><span class="math display">\[
\Pi_{t = 1}^T (1 + E(R_{it})) = \Pi_{t}^T (1 + \sum_{i = s}^{n_t}w_{it} R_{it})
\]</span></p>
<p>where <span class="math inline">\(n_t\)</span> is the number of firms in period <span class="math inline">\(t\)</span>, and <span class="math inline">\(w_{it}\)</span> is (1) <span class="math inline">\(1/n_t\)</span> or (2) value-weight of firm <span class="math inline">\(i\)</span> in period <span class="math inline">\(t\)</span>.</p>
<p>To avoid favoring recent events, in cross-sectional event studies, researchers usually treat all events equally when studying their impact on the stock market over time. This approach helps identify any abnormal changes in stock prices, especially when dealing with a series of unplanned events.</p>
<p>Potential problems:</p>
<ul>
<li>
<p>Solution first: Form benchmark portfolios that will never change constituent firms <span class="citation">(<a href="references.html#ref-mitchell2000managerial">Mitchell and Stafford 2000</a>)</span>, because of these problems:</p>
<ul>
<li><p>Newly public companies often perform worse than a balanced market index <span class="citation">(<a href="references.html#ref-ritter1991long">Ritter 1991</a>)</span>, and this, over time, might distort long-term return expectations due to the inclusion of these new companies (a phenomenon called “new listing bias” identified by <span class="citation">Barber and Lyon (<a href="references.html#ref-barber1997firm">1997</a>)</span>).</p></li>
<li><p>Regularly rebalancing an equal-weight portfolio can lead to overestimated long-term returns and potentially skew buy-and-hold abnormal returns (BHARs) negatively due to constant selling of winning stocks and buying of underperformers (i.e., “rebalancing bias” <span class="citation">(<a href="references.html#ref-barber1997firm">Barber and Lyon 1997</a>)</span>).</p></li>
<li><p>Value-weight portfolios, which favor larger market cap stocks, can be viewed as an active investment strategy that keeps buying winning stocks and selling underperformers. Over time, this approach tends to positively distort BHARs.</p></li>
</ul>
</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>
<strong>Without annual rebalance</strong>: Compounding the returns of the securities comprising the portfolio, followed by calculating the average across all securities</li>
</ol>
<p><span class="math display">\[
\Pi_{t = s}^{T} (1 + E(R_{it})) = \sum_{i=s}^{n_t} (w_{is} \Pi_{t=1}^T (1 + R_{it}))
\]</span></p>
<p>where <span class="math inline">\(t\)</span> is the investment period, <span class="math inline">\(R_{it}\)</span> is the return on security <span class="math inline">\(i\)</span>, <span class="math inline">\(n_i\)</span> is the number of securities, <span class="math inline">\(w_{it}\)</span> is either <span class="math inline">\(1/n_s\)</span> or value-weight factor of security <span class="math inline">\(i\)</span> at initial period <span class="math inline">\(s\)</span>. This portfolio’s profits come from a simple investment where all the included stocks are given equal importance, or weighted according to their market value, as they were in a specific past period (period s). This means that it doesn’t consider any stocks that were listed after this period, nor does it adjust the portfolio each month. However, one problem with this method is that the value assigned to each stock, based on its market size, needs to be corrected. This is to make sure that recent stocks don’t end up having too much influence.</p>
<p>Fortunately, on <a href="https://wrds-www.wharton.upenn.edu/pages/get-data/event-study-wrds/long-run-event-study-upload-you-own-events/">WRDS</a>, it will give you all types of BHAR (2x2) (equal-weighted vs. value-weighted and with annual rebalance and without annual rebalance)</p>
<ul>
<li>“MINWIN” is the smallest number of months a company trades after an event to be included in the study.</li>
</ul>
<!-- --><ul>
<li>
<p>“MAXWIN” is the most months that the study considers in its calculations.</p>
<ul>
<li>Companies aren’t excluded if they have less than MAXWIN months, unless they also have fewer than MINWIN months.</li>
</ul>
</li>
<li>
<p>The term “MONTH” signifies chosen months (typically 12, 24, or 36) used to work out BHAR.</p>
<ul>
<li>If monthly returns are missing during the set period, matching portfolio returns fill in the gaps.</li>
</ul>
</li>
</ul>
</div>
<div id="long-term-cumulative-abnormal-returns-lcars" class="section level3" number="28.5.2">
<h3>
<span class="header-section-number">28.5.2</span> Long-term Cumulative Abnormal Returns (LCARs)<a class="anchor" aria-label="anchor" href="#long-term-cumulative-abnormal-returns-lcars"><i class="fas fa-link"></i></a>
</h3>
<p>Formula for LCARs during the <span class="math inline">\((1,T)\)</span> postevent horizon <span class="citation">(<a href="references.html#ref-sorescu2007some">A. B. Sorescu, Chandy, and Prabhu 2007</a>)</span></p>
<p><span class="math display">\[
LCAR_{pT} = \sum_{t = 1}^{t = T} (R_{it} - R_{pt})
\]</span></p>
<p>where <span class="math inline">\(R_{it}\)</span> is the rate of return of stock <span class="math inline">\(i\)</span> in month <span class="math inline">\(t\)</span></p>
<p><span class="math inline">\(R_{pt}\)</span> is the rate of return on the counterfactual portfolio in month <span class="math inline">\(t\)</span></p>
</div>
<div id="calendar-time-portfolio-abnormal-returns-ctars" class="section level3" number="28.5.3" data-link="Portfolio method">
<h3>
<span class="header-section-number">28.5.3</span> Calendar-time Portfolio Abnormal Returns (CTARs)<a class="anchor" aria-label="anchor" href="#calendar-time-portfolio-abnormal-returns-ctars"><i class="fas fa-link"></i></a>
</h3>
<p>This section follows strictly the procedure in <span class="citation">(<a href="references.html#ref-wiles2010stock">Wiles et al. 2010</a>)</span></p>
<p>A portfolio for every day in calendar time (including all securities which experience an event that time).</p>
<p>For each portfolio, the securities and their returns are equally weighted</p>
<ol style="list-style-type: decimal">
<li>For all portfolios, the average abnormal return are calculated as</li>
</ol>
<p><span class="math display">\[
AAR_{Pt} = \frac{\sum_{i=1}^S AR_i}{S}
\]</span></p>
<p>where</p>
<ul>
<li>
<span class="math inline">\(S\)</span> is the number of securities in portfolio <span class="math inline">\(P\)</span>
</li>
<li>
<span class="math inline">\(AR_i\)</span> is the abnormal return for the stock <span class="math inline">\(i\)</span> in the portfolio</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>For every portfolio <span class="math inline">\(P\)</span>, a time series estimate of <span class="math inline">\(\sigma(AAR_{Pt})\)</span> is calculated for the preceding <span class="math inline">\(k\)</span> days, assuming that the <span class="math inline">\(AAR_{Pt}\)</span> are independent over time.</li>
<li>Each portfolio’s average abnormal return is standardized</li>
</ol>
<p><span class="math display">\[
SAAR_{Pt} = \frac{AAR_{Pt}}{SD(AAR_{Pt})}
\]</span></p>
<ol start="4" style="list-style-type: decimal">
<li>Average standardized residual across all portfolio’s in calendar time</li>
</ol>
<p><span class="math display">\[
ASAAR = \frac{1}{n}\sum_{i=1}^{255} SAAR_{Pt} \times D_t
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(D_t = 1\)</span> when there is at least one security in portfolio <span class="math inline">\(t\)</span></p></li>
<li><p><span class="math inline">\(D_t = 0\)</span> when there are no security in portfolio <span class="math inline">\(t\)</span></p></li>
<li><p><span class="math inline">\(n\)</span> is the number of days in which the portfolio have at least one security <span class="math inline">\(n = \sum_{i = 1}^{255}D_t\)</span></p></li>
</ul>
<ol start="5" style="list-style-type: decimal">
<li>The cumulative average standardized average abnormal returns is</li>
</ol>
<p><span class="math display">\[
CASSAR_{S_1, S_2} = \sum_{i=S_1}^{S_2} ASAAR
\]</span></p>
<p>If the ASAAR are independent over time, then standard deviation for the above estimate is <span class="math inline">\(\sqrt{S_2 - S_1 + 1}\)</span></p>
<p>then, the test statistics is</p>
<p><span class="math display">\[
t = \frac{CASAAR_{S_1,S_2}}{\sqrt{S_2 - S_1 + 1}}
\]</span></p>
<p>Limitations</p>
<ul>
<li>
<p>Cannot examine individual stock difference, can only see the difference at the portfolio level.</p>
<ul>
<li>One can construct multiple portfolios (based on the metrics of interest) so that firms in the same portfolio shares that same characteristics. Then, one can compare the intercepts in each portfolio.</li>
</ul>
</li>
<li><p>Low power <span class="citation">(<a href="references.html#ref-loughran2000uniformly">Loughran and Ritter 2000</a>)</span>, type II error is likely.</p></li>
</ul>
</div>
</div>
<div id="aggregation" class="section level2" number="28.6">
<h2>
<span class="header-section-number">28.6</span> Aggregation<a class="anchor" aria-label="anchor" href="#aggregation"><i class="fas fa-link"></i></a>
</h2>
<div id="over-time" class="section level3" number="28.6.1">
<h3>
<span class="header-section-number">28.6.1</span> Over Time<a class="anchor" aria-label="anchor" href="#over-time"><i class="fas fa-link"></i></a>
</h3>
<p>We calculate the cumulative abnormal (CAR) for the event windows</p>
<p><span class="math inline">\(H_0\)</span>: Standardized cumulative abnormal return for stock <span class="math inline">\(i\)</span> is 0 (no effect of events on stock performance)</p>
<p><span class="math inline">\(H_1\)</span>: SCAR is not 0 (there is an effect of events on stock performance)</p>
</div>
<div id="across-firms-over-time" class="section level3" number="28.6.2">
<h3>
<span class="header-section-number">28.6.2</span> Across Firms + Over Time<a class="anchor" aria-label="anchor" href="#across-firms-over-time"><i class="fas fa-link"></i></a>
</h3>
<p>Additional assumptions: Abnormal returns of different socks are uncorrelated (rather strong), but it’s very valid if event windows for different stocks do not overlap. If the windows for different overlap, follow <span class="citation">(<a href="references.html#ref-bernard1987cross">Bernard 1987</a>)</span> and <span class="citation">Schipper and Smith (<a href="references.html#ref-schipper1983effects">1983</a>)</span></p>
<p><span class="math inline">\(H_0\)</span>: The mean of the abnormal returns across all firms is 0 (no effect)</p>
<p><span class="math inline">\(H_1\)</span>: The mean of the abnormal returns across all firms is different form 0 (there is an effect)</p>
<p>Parametric (empirically either one works fine) (assume abnormal returns is normally distributed) :</p>
<ol style="list-style-type: decimal">
<li>Aggregate the CAR of all stocks (Use this if the true abnormal variance is greater for stocks with higher variance)</li>
<li>Aggregate the SCAR of all stocks (Use this if the true abnormal return is constant across all stocks)</li>
</ol>
<p>Non-parametric (no parametric assumptions):</p>
<ol style="list-style-type: decimal">
<li>Sign test:
<ul>
<li><p>Assume both the abnormal returns and CAR to be independent across stocks</p></li>
<li><p>Assume 50% with positive abnormal returns and 50% with negative abnormal return</p></li>
<li><p>The null will be that there is a positive abnormal return correlated with the event (if you want the alternative to be there is a negative relationship)</p></li>
<li><p>With skewed distribution (likely in daily stock data), the size test is not trustworthy. Hence, rank test might be better</p></li>
</ul>
</li>
<li>Rank test
<ul>
<li>Null: there is no abnormal return during the event window</li>
</ul>
</li>
</ol>
</div>
</div>
<div id="heterogeneity-in-the-event-effect" class="section level2" number="28.7">
<h2>
<span class="header-section-number">28.7</span> Heterogeneity in the event effect<a class="anchor" aria-label="anchor" href="#heterogeneity-in-the-event-effect"><i class="fas fa-link"></i></a>
</h2>
<p><span class="math display">\[
y = X \theta + \eta
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(y\)</span> = CAR</p></li>
<li><p><span class="math inline">\(X\)</span> = Characteristics that lead to heterogeneity in the event effect (i.e., abnormal returns) (e.g., firm or event specific)</p></li>
<li><p><span class="math inline">\(\eta\)</span> = error term</p></li>
</ul>
<p>Note:</p>
<ul>
<li>In cases with selection bias (firm characteristics and investor anticipation of the event: larger firms might enjoy great positive effect of an event, and investors endogenously anticipate this effect and overvalue the stock), we have to use the White’s <span class="math inline">\(t\)</span>-statistics to have the lower bounds of the true significance of the estimates.</li>
<li>This technique should be employed even if the average CAR is not significantly different from 0, especially when the CAR variance is high <span class="citation">(<a href="references.html#ref-boyd2010chief">Boyd, Chandy, and Cunha Jr 2010</a>)</span>
</li>
</ul>
<div id="common-variables-in-marketing" class="section level3" number="28.7.1">
<h3>
<span class="header-section-number">28.7.1</span> Common variables in marketing<a class="anchor" aria-label="anchor" href="#common-variables-in-marketing"><i class="fas fa-link"></i></a>
</h3>
<p><span class="citation">(<a href="references.html#ref-sorescu2017">A. Sorescu, Warren, and Ertekin 2017</a>)</span> Table 4</p>
<ul>
<li><p>Firm size is negatively correlated with abnormal return in finance <span class="citation">(<a href="references.html#ref-sorescu2017">A. Sorescu, Warren, and Ertekin 2017</a>)</span>, but mixed results in marketing.</p></li>
<li><p># of event occurrences</p></li>
<li><p>R&amp;D expenditure</p></li>
<li><p>Advertising expense</p></li>
<li><p>Marketing investment (SG&amp;A)</p></li>
<li><p>Industry concentration (HHI, # of competitors)</p></li>
<li><p>Financial leverage</p></li>
<li><p>Market share</p></li>
<li><p>Market size (total sales volume within the firm’s SIC code)</p></li>
<li><p>marketing capability</p></li>
<li><p>Book to market value</p></li>
<li><p>ROA</p></li>
<li><p>Free cash flow</p></li>
<li><p>Sales growth</p></li>
<li><p>Firm age</p></li>
</ul>
</div>
</div>
<div id="expected-return-calculation" class="section level2" number="28.8">
<h2>
<span class="header-section-number">28.8</span> Expected Return Calculation<a class="anchor" aria-label="anchor" href="#expected-return-calculation"><i class="fas fa-link"></i></a>
</h2>
<div id="statistical-models" class="section level3" number="28.8.1">
<h3>
<span class="header-section-number">28.8.1</span> Statistical Models<a class="anchor" aria-label="anchor" href="#statistical-models"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p>based on statistical assumptions about the behavior of returns (e..g, multivariate normality)</p></li>
<li><p>we only need to assume stable distributions <span class="citation">(<a href="references.html#ref-owen1983class">Owen and Rabinovitch 1983</a>)</span></p></li>
</ul>
<div id="constant-mean-return-model" class="section level4" number="28.8.1.1">
<h4>
<span class="header-section-number">28.8.1.1</span> Constant Mean Return Model<a class="anchor" aria-label="anchor" href="#constant-mean-return-model"><i class="fas fa-link"></i></a>
</h4>
<p>The expected normal return is the mean of the real returns</p>
<p><span class="math display">\[
Ra_{it} = R_{it} - \bar{R}_i
\]</span></p>
<p>Assumption:</p>
<ul>
<li>returns revert to its mean (very questionable)</li>
</ul>
<p>The basic mean returns model generally delivers similar findings to more complex models since the variance of abnormal returns is not decreased considerably <span class="citation">(<a href="references.html#ref-brown1985using">S. J. Brown and Warner 1985</a>)</span></p>
</div>
<div id="market-model" class="section level4" number="28.8.1.2">
<h4>
<span class="header-section-number">28.8.1.2</span> Market Model<a class="anchor" aria-label="anchor" href="#market-model"><i class="fas fa-link"></i></a>
</h4>
<p><span class="math display">\[
R_{it} = \alpha_i + \beta R_{mt} + \epsilon_{it}
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(R_{it}\)</span> = stock return <span class="math inline">\(i\)</span> in period <span class="math inline">\(t\)</span></p></li>
<li><p><span class="math inline">\(R_{mt}\)</span> = market return</p></li>
<li><p><span class="math inline">\(\epsilon_{it}\)</span> = zero mean (<span class="math inline">\(E(e_{it}) = 0\)</span>) error term with its own variance <span class="math inline">\(\sigma^2\)</span></p></li>
</ul>
<p>Notes:</p>
<ul>
<li><p>People typically use S&amp;P 500, CRSP value-weighed or equal-weighted index as the market portfolio.</p></li>
<li><p>When <span class="math inline">\(\beta =0\)</span>, the <a href="event-studies.html#market-model">Market Model</a> is the <a href="event-studies.html#constant-mean-return-model">Constant Mean Return Model</a></p></li>
<li><p>better fit of the market-model, the less variance in abnormal return, and the more easy to detect the event’s effect</p></li>
<li><p>recommend generalized method of moments to be robust against auto-correlation and heteroskedasticity</p></li>
</ul>
</div>
<div id="fama-french-model" class="section level4" number="28.8.1.3">
<h4>
<span class="header-section-number">28.8.1.3</span> Fama-French Model<a class="anchor" aria-label="anchor" href="#fama-french-model"><i class="fas fa-link"></i></a>
</h4>
<p>Please note that there is a difference between between just taking the return versus taking the excess return as the dependent variable.</p>
<p>The correct way is to use the excess return for firm and for market <span class="citation">(<a href="references.html#ref-fama2010luck">Fama and French 2010, 1917</a>)</span>.</p>
<ul>
<li>
<span class="math inline">\(\alpha_i\)</span> “is the average return left unexplained by the benchmark model” (i.e., abnormal return)</li>
</ul>
<div id="ff3" class="section level5" number="28.8.1.3.1">
<h5>
<span class="header-section-number">28.8.1.3.1</span> FF3<a class="anchor" aria-label="anchor" href="#ff3"><i class="fas fa-link"></i></a>
</h5>
<p><span class="citation">(<a href="references.html#ref-fama1993common">Fama and French 1993</a>)</span></p>
<p><span class="math display">\[
\begin{aligned}
E(R_{it}|X_t) - r_{ft} = \alpha_i &amp;+ \beta_{1i} (E(R_{mt}|X_t )- r_{ft}) \\
&amp;+ b_{2i} SML_t + b_{3i} HML_t
\end{aligned}
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(r_{ft}\)</span> risk-free rate (e.g., 3-month Treasury bill)</p></li>
<li><p><span class="math inline">\(R_{mt}\)</span> is the market-rate (e.g., S&amp;P 500)</p></li>
<li><p>SML: returns on small (size) portfolio minus returns on big portfolio</p></li>
<li><p>HML: returns on high (B/M) portfolio minus returns on low portfolio.</p></li>
</ul>
</div>
<div id="ff4" class="section level5" number="28.8.1.3.2">
<h5>
<span class="header-section-number">28.8.1.3.2</span> FF4<a class="anchor" aria-label="anchor" href="#ff4"><i class="fas fa-link"></i></a>
</h5>
<p><span class="citation">(<a href="references.html#ref-sorescu2017">A. Sorescu, Warren, and Ertekin 2017, 195</a>)</span> suggest the use of <a href="event-studies.html#market-model">Market Model</a> in marketing for short-term window and <a href="event-studies.html#fama-french-model">Fama-French Model</a> for the long-term window (the statistical properties of this model have not been examined the the daily setting).</p>
<p><span class="citation">(<a href="references.html#ref-carhart1997persistence">Carhart 1997</a>)</span></p>
<p><span class="math display">\[
\begin{aligned}
E(R_{it}|X_t) - r_{ft} = \alpha_i &amp;+ \beta_{1i} (E(R_{mt}|X_t )- r_{ft}) \\
&amp;+ b_{2i} SML_t + b_{3i} HML_t + b_{4i} UMD_t
\end{aligned}
\]</span></p>
<p>where</p>
<ul>
<li>
<span class="math inline">\(UMD_t\)</span> is the momentum factor (difference between high and low prior return stock portfolios) in day <span class="math inline">\(t\)</span>.</li>
</ul>
</div>
</div>
</div>
<div id="economic-model" class="section level3" number="28.8.2">
<h3>
<span class="header-section-number">28.8.2</span> Economic Model<a class="anchor" aria-label="anchor" href="#economic-model"><i class="fas fa-link"></i></a>
</h3>
<p>The only difference between CAPM and APT is that APT has multiple factors (including factors beyond the focal company)</p>
<p>Economic models put limits on a statistical model that come from assumed behavior that is derived from theory.</p>
<div id="capital-asset-pricing-model-capm" class="section level4" number="28.8.2.1">
<h4>
<span class="header-section-number">28.8.2.1</span> Capital Asset Pricing Model (CAPM)<a class="anchor" aria-label="anchor" href="#capital-asset-pricing-model-capm"><i class="fas fa-link"></i></a>
</h4>
<p><span class="math display">\[
E(R_i) = R_f + \beta_i (E(R_m) - R_f)
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(E(R_i)\)</span> = expected firm return</p></li>
<li><p><span class="math inline">\(R_f\)</span> = risk free rate</p></li>
<li><p><span class="math inline">\(E(R_m - R_f)\)</span> = market risk premium</p></li>
<li><p><span class="math inline">\(\beta_i\)</span> = firm sensitivity</p></li>
</ul>
</div>
<div id="arbitrage-pricing-theory-apt" class="section level4" number="28.8.2.2">
<h4>
<span class="header-section-number">28.8.2.2</span> Arbitrage Pricing Theory (APT)<a class="anchor" aria-label="anchor" href="#arbitrage-pricing-theory-apt"><i class="fas fa-link"></i></a>
</h4>
<p><span class="math display">\[
R = R_f + \Lambda f + \epsilon
\]</span></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(\epsilon \sim N(0, \Psi)\)</span></p></li>
<li><p><span class="math inline">\(\Lambda\)</span> = factor loadings</p></li>
<li>
<p><span class="math inline">\(f \sim N(\mu, \Omega)\)</span> = general factor model</p>
<ul>
<li><p><span class="math inline">\(\mu\)</span> = expected risk premium vector</p></li>
<li><p><span class="math inline">\(\Omega\)</span> = factor covariance matrix</p></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div id="application-14" class="section level2" number="28.9">
<h2>
<span class="header-section-number">28.9</span> Application<a class="anchor" aria-label="anchor" href="#application-14"><i class="fas fa-link"></i></a>
</h2>
<p>Packages:</p>
<ul>
<li><p><code>eventstudies</code></p></li>
<li><p><code>erer</code></p></li>
<li><p><code>EventStudy</code></p></li>
<li><p><code>AbnormalReturns</code></p></li>
<li><p><a href="https://www.eventstudytools.com/">Event Study Tools</a></p></li>
<li><p><a href="https://irudnyts.github.io/estudy2/">estudy2</a></p></li>
<li><p><code>PerformanceAnalytics</code></p></li>
</ul>
<p>In practice, people usually sort portfolio because they are not sure whether the FF model is specified correctly.</p>
<p>Steps:</p>
<ol style="list-style-type: decimal">
<li>Sort all returns in CRSP into 10 deciles based on size.</li>
<li>In each decile, sort returns into 10 decides based on BM</li>
<li>Get the average return of the 100 portfolios for each period (i.e., expected returns of stocks given decile - characteristics)</li>
<li>For each stock in the event study: Compare the return of the stock to the corresponding portfolio based on size and BM.</li>
</ol>
<p>Notes:</p>
<ul>
<li><p>Sorting produces outcomes that are often more conservative (e.g., FF abnormal returns can be greater than those that used sorting).</p></li>
<li><p>If the results change when we do B/M first then size or vice versa, then the results are not robust (this extends to more than just two characteristics - e.g., momentum).</p></li>
</ul>
<p>Examples:</p>
<p>Forestry:</p>
<ul>
<li><p><span class="citation">(<a href="references.html#ref-mei2008">Mei and Sun 2008</a>)</span> M&amp;A on financial performance (forest product)</p></li>
<li><p><span class="citation">(<a href="references.html#ref-sun2011effects">C. Sun and Liao 2011</a>)</span> litigation on firm values</p></li>
</ul>
<div class="sourceCode" id="cb535"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">erer</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># example by the package's author</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">daEsa</span><span class="op">)</span></span>
<span><span class="va">hh</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/erer/man/evReturn.html">evReturn</a></span><span class="op">(</span></span>
<span>    y <span class="op">=</span> <span class="va">daEsa</span>,       <span class="co"># dataset</span></span>
<span>    firm <span class="op">=</span> <span class="st">"wpp"</span>,    <span class="co"># firm name</span></span>
<span>    y.date <span class="op">=</span> <span class="st">"date"</span>, <span class="co"># date in y </span></span>
<span>    index <span class="op">=</span> <span class="st">"sp500"</span>, <span class="co"># index</span></span>
<span>    est.win <span class="op">=</span> <span class="fl">250</span>,   <span class="co"># estimation window wedith in days</span></span>
<span>    digits <span class="op">=</span> <span class="fl">3</span>, </span>
<span>    event.date <span class="op">=</span> <span class="fl">19990505</span>, <span class="co"># firm event dates </span></span>
<span>    event.win <span class="op">=</span> <span class="fl">5</span>          <span class="co"># one-side event window wdith in days (default = 3, where 3 before + 1 event date + 3 days after = 7 days)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">hh</span>; <span class="fu"><a href="https://rdrr.io/r/base/plot.html">plot</a></span><span class="op">(</span><span class="va">hh</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === Regression coefficients by firm =========</span></span>
<span><span class="co">#&gt;   N firm event.date alpha.c alpha.e alpha.t alpha.p alpha.s beta.c beta.e</span></span>
<span><span class="co">#&gt; 1 1  wpp   19990505  -0.135   0.170  -0.795   0.428          0.665  0.123</span></span>
<span><span class="co">#&gt;   beta.t beta.p beta.s</span></span>
<span><span class="co">#&gt; 1  5.419  0.000    ***</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === Abnormal returns by date ================</span></span>
<span><span class="co">#&gt;    day Ait.wpp    HNt</span></span>
<span><span class="co">#&gt; 1   -5   4.564  4.564</span></span>
<span><span class="co">#&gt; 2   -4   0.534  5.098</span></span>
<span><span class="co">#&gt; 3   -3  -1.707  3.391</span></span>
<span><span class="co">#&gt; 4   -2   2.582  5.973</span></span>
<span><span class="co">#&gt; 5   -1  -0.942  5.031</span></span>
<span><span class="co">#&gt; 6    0  -3.247  1.784</span></span>
<span><span class="co">#&gt; 7    1  -0.646  1.138</span></span>
<span><span class="co">#&gt; 8    2  -2.071 -0.933</span></span>
<span><span class="co">#&gt; 9    3   0.368 -0.565</span></span>
<span><span class="co">#&gt; 10   4   4.141  3.576</span></span>
<span><span class="co">#&gt; 11   5   0.861  4.437</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === Average abnormal returns across firms ===</span></span>
<span><span class="co">#&gt;      name estimate error t.value p.value sig</span></span>
<span><span class="co">#&gt; 1 CiT.wpp    4.437 8.888   0.499   0.618    </span></span>
<span><span class="co">#&gt; 2     GNT    4.437 8.888   0.499   0.618</span></span></code></pre></div>
<div class="inline-figure"><img src="28-event-study_files/figure-html/unnamed-chunk-4-1.png" width="90%" style="display: block; margin: auto;"></div>
<p>Example by <a href="https://lamfo-unb.github.io/2017/08/17/Teste-de-Eventos-en/">Ana Julia Akaishi Padula, Pedro Albuquerque (posted on LAMFO)</a></p>
<p>Example in <code>AbnormalReturns</code> package</p>
<div id="eventus" class="section level3" number="28.9.1">
<h3>
<span class="header-section-number">28.9.1</span> Eventus<a class="anchor" aria-label="anchor" href="#eventus"><i class="fas fa-link"></i></a>
</h3>
<p>2 types of output:</p>
<ol style="list-style-type: decimal">
<li><ul>
<li><p>Using different estimation methods (e.g., market model to calendar-time approach)</p></li>
<li><p>Does not include event-specific returns. Hence, no regression later to determine variables that can affect abnormal stock returns.</p></li>
</ul></li>
<li>
<p><a href="event-studies.html#cross-sectional-analysis-of-eventus">Cross-sectional Analysis of Eventus</a>: Event-specific abnormal returns (using monthly or data data) for cross-sectional analysis (under <strong>Cross-Sectional Analysis</strong> section)</p>
<ul>
<li>Since it has the stock-specific abnormal returns, we can do regression on CARs later. But it only gives market-adjusted model. However, according to <span class="citation">(<a href="references.html#ref-sorescu2017">A. Sorescu, Warren, and Ertekin 2017</a>)</span>, they advocate for the use of market-adjusted model for the short-term only, and reserve the FF4 for the longer-term event studies using monthly daily.</li>
</ul>
</li>
</ol>
<div id="basic-event-study" class="section level4" number="28.9.1.1">
<h4>
<span class="header-section-number">28.9.1.1</span> Basic Event Study<a class="anchor" aria-label="anchor" href="#basic-event-study"><i class="fas fa-link"></i></a>
</h4>
<ol style="list-style-type: decimal">
<li>Input a text file contains a firm identifier (e.g., PERMNO, CUSIP) and the event date</li>
<li>Choose market indices: equally weighted and the value weighted index (i.e., weighted by their market capitalization). And check Fama-French and Carhart factors.</li>
<li>Estimation options
<ol style="list-style-type: decimal">
<li><p>Estimation period: <code>ESTLEN = 100</code> is the convention so that the estimation is not impacted by outliers.</p></li>
<li><p>Use “autodate” options: the first trading after the event date is used if the event falls on a weekend or holiday</p></li>
</ol>
</li>
<li>Abnormal returns window: depends on the specific event</li>
<li>Choose test: either parametric (including <a href="event-studies.html#patell-standardized-residual-psr">Patell Standardized Residual (PSR)</a>) or non-parametric</li>
</ol>
</div>
<div id="cross-sectional-analysis-of-eventus" class="section level4" number="28.9.1.2">
<h4>
<span class="header-section-number">28.9.1.2</span> Cross-sectional Analysis of Eventus<a class="anchor" aria-label="anchor" href="#cross-sectional-analysis-of-eventus"><i class="fas fa-link"></i></a>
</h4>
<p>Similar to the <a href="Average%20abnormal%20returns%20across%20a%20sample" title="under **Basic Event Study** and **Eventus Alternative** sections">Basic Event Study</a>, but now you can have event-specific abnormal returns.</p>
</div>
</div>
<div id="evenstudies" class="section level3" number="28.9.2">
<h3>
<span class="header-section-number">28.9.2</span> Evenstudies<a class="anchor" aria-label="anchor" href="#evenstudies"><i class="fas fa-link"></i></a>
</h3>
<p>This package does not use the Fama-French model, only the market models.</p>
<p>This example is by the author of the package</p>
<div class="sourceCode" id="cb536"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">eventstudies</span><span class="op">)</span></span>
<span><span class="co"># firm and date data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"SplitDates"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">SplitDates</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># stock price data </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"StockPriceReturns"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">StockPriceReturns</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">StockPriceReturns</span><span class="op">)</span></span>
<span></span>
<span><span class="va">es</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu">eventstudy</span><span class="op">(</span></span>
<span>        firm.returns <span class="op">=</span> <span class="va">StockPriceReturns</span>,</span>
<span>        event.list <span class="op">=</span> <span class="va">SplitDates</span>,</span>
<span>        event.window <span class="op">=</span> <span class="fl">5</span>,</span>
<span>        type <span class="op">=</span> <span class="st">"None"</span>,</span>
<span>        to.remap <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        remap <span class="op">=</span> <span class="st">"cumsum"</span>,</span>
<span>        inference <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        inference.strategy <span class="op">=</span> <span class="st">"bootstrap"</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/plot.html">plot</a></span><span class="op">(</span><span class="va">es</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="eventstudy" class="section level3" number="28.9.3">
<h3>
<span class="header-section-number">28.9.3</span> EventStudy<a class="anchor" aria-label="anchor" href="#eventstudy"><i class="fas fa-link"></i></a>
</h3>
<p>You have to pay for the API key. (It’s $10/month).</p>
<div class="sourceCode" id="cb537"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https:://data-zoo.de">EventStudy</a></span><span class="op">)</span></span></code></pre></div>
<p><a href="https://cran.rstudio.com/web/packages/EventStudy/vignettes/get_started.html">Example</a> by the authors of the package</p>
<p>Data Prep</p>
<div class="sourceCode" id="cb538"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/business-science/tidyquant">tidyquant</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org">readr</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb539"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/quandl/quandl-r">"Quandl"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="http://www.quantmod.com">"quantmod"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/Quandl/man/Quandl.auth.html">Quandl.auth</a></span><span class="op">(</span><span class="st">"LDqWhYXzVd2omw4zipN2"</span><span class="op">)</span></span>
<span><span class="va">TWTR</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Quandl/man/Quandl.html">Quandl</a></span><span class="op">(</span><span class="st">"NSE/OIL"</span>,type <span class="op">=</span><span class="st">"xts"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/quantmod/man/chartSeries.html">candleChart</a></span><span class="op">(</span><span class="va">TWTR</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="28-event-study_files/figure-html/unnamed-chunk-8-1.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb540"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/quantmod/man/addMA.html">addSMA</a></span><span class="op">(</span>col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span> <span class="co">#Adding a Simple Moving Average</span></span></code></pre></div>
<div class="inline-figure"><img src="28-event-study_files/figure-html/unnamed-chunk-8-2.png" width="90%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb541"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/quantmod/man/addMA.html">addEMA</a></span><span class="op">(</span><span class="op">)</span> <span class="co">#Adding an Exponential Moving Average</span></span></code></pre></div>
<div class="inline-figure"><img src="28-event-study_files/figure-html/unnamed-chunk-8-3.png" width="90%" style="display: block; margin: auto;"></div>
<p>Reference market in Germany is DAX</p>
<div class="sourceCode" id="cb542"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Index Data</span></span>
<span><span class="co"># indexName &lt;- c("DAX")</span></span>
<span></span>
<span><span class="va">indexData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tidyquant/man/tq_get.html">tq_get</a></span><span class="op">(</span><span class="st">"^GDAXI"</span>, from <span class="op">=</span> <span class="st">"2014-05-01"</span>, to <span class="op">=</span> <span class="st">"2015-12-31"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/format.html">format</a></span><span class="op">(</span><span class="va">date</span>, <span class="st">"%d.%m.%Y"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>symbol <span class="op">=</span> <span class="st">"DAX"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">indexData</span><span class="op">)</span></span></code></pre></div>
<p>Create files</p>
<ul>
<li><code>01_RequestFile.csv</code></li>
<li><code>02_FirmData.csv</code></li>
<li><code>03_MarketData.csv</code></li>
</ul>
<p>Calculating abnormal returns</p>
<div class="sourceCode" id="cb543"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get &amp; set parameters for abnormal return Event Study</span></span>
<span><span class="co"># we use a garch model and csv as return</span></span>
<span><span class="co"># Attention: fitting a GARCH(1, 1) model is compute intensive</span></span>
<span><span class="va">esaParams</span> <span class="op">&lt;-</span> <span class="fu">EventStudy</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/EventStudy/man/ARCApplicationInput.html">ARCApplicationInput</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">esaParams</span><span class="op">$</span><span class="fu">setResultFileType</span><span class="op">(</span><span class="st">"csv"</span><span class="op">)</span></span>
<span><span class="va">esaParams</span><span class="op">$</span><span class="fu">setBenchmarkModel</span><span class="op">(</span><span class="st">"garch"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">dataFiles</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>        <span class="st">"request_file"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"data"</span>, <span class="st">"EventStudy"</span>, <span class="st">"01_requestFile.csv"</span><span class="op">)</span>,</span>
<span>        <span class="st">"firm_data"</span>    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"data"</span>, <span class="st">"EventStudy"</span>, <span class="st">"02_firmDataPrice.csv"</span><span class="op">)</span>,</span>
<span>        <span class="st">"market_data"</span>  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"data"</span>, <span class="st">"EventStudy"</span>, <span class="st">"03_marketDataPrice.csv"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="co"># check data files, you can do it also in our R6 class</span></span>
<span><span class="fu">EventStudy</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/EventStudy/man/checkFiles.html">checkFiles</a></span><span class="op">(</span><span class="va">dataFiles</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb544"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">arEventStudy</span> <span class="op">&lt;-</span> <span class="va">estSetup</span><span class="op">$</span><span class="fu">performEventStudy</span><span class="op">(</span>estParams     <span class="op">=</span> <span class="va">esaParams</span>, </span>
<span>                                      dataFiles     <span class="op">=</span> <span class="va">dataFiles</span>, </span>
<span>                                      downloadFiles <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb545"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https:://data-zoo.de">EventStudy</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">apiUrl</span> <span class="op">&lt;-</span> <span class="st">"https://api.eventstudytools.com"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv</a></span><span class="op">(</span>EventStudyapiKey <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The URL is already set by default</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>EventStudy.URL <span class="op">=</span> <span class="va">apiUrl</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>EventStudy.KEY <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span><span class="op">(</span><span class="st">"EventStudyapiKey"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># use EventStudy estAPIKey function</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EventStudy/man/estAPIKey.html">estAPIKey</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span><span class="op">(</span><span class="st">"EventStudyapiKey"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># initialize object</span></span>
<span><span class="va">estSetup</span> <span class="op">&lt;-</span> <span class="va"><a href="https://rdrr.io/pkg/EventStudy/man/EventStudyAPI.html">EventStudyAPI</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">estSetup</span><span class="op">$</span><span class="fu">authentication</span><span class="op">(</span>apiKey <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span><span class="op">(</span><span class="st">"EventStudyapiKey"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="synthetic-control.html"><span class="header-section-number">27</span> Synthetic Control</a></div>
<div class="next"><a href="matching-methods.html"><span class="header-section-number">29</span> Matching Methods</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#event-studies"><span class="header-section-number">28</span> Event Studies</a></li>
<li>
<a class="nav-link" href="#other-issues"><span class="header-section-number">28.1</span> Other Issues</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#event-studies-in-marketing"><span class="header-section-number">28.1.1</span> Event Studies in marketing</a></li>
<li><a class="nav-link" href="#economic-significance"><span class="header-section-number">28.1.2</span> Economic significance</a></li>
<li><a class="nav-link" href="#statistical-power"><span class="header-section-number">28.1.3</span> Statistical Power</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#testing"><span class="header-section-number">28.2</span> Testing</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#parametric-test"><span class="header-section-number">28.2.1</span> Parametric Test</a></li>
<li><a class="nav-link" href="#non-parametric-test"><span class="header-section-number">28.2.2</span> Non-parametric Test</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#sample"><span class="header-section-number">28.3</span> Sample</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#confounders"><span class="header-section-number">28.3.1</span> Confounders</a></li></ul>
</li>
<li><a class="nav-link" href="#biases"><span class="header-section-number">28.4</span> Biases</a></li>
<li>
<a class="nav-link" href="#long-run-event-studies"><span class="header-section-number">28.5</span> Long-run event studies</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#buy-and-hold-abnormal-returns-bhar"><span class="header-section-number">28.5.1</span> Buy and Hold Abnormal Returns (BHAR)</a></li>
<li><a class="nav-link" href="#long-term-cumulative-abnormal-returns-lcars"><span class="header-section-number">28.5.2</span> Long-term Cumulative Abnormal Returns (LCARs)</a></li>
<li><a class="nav-link" href="#calendar-time-portfolio-abnormal-returns-ctars"><span class="header-section-number">28.5.3</span> Calendar-time Portfolio Abnormal Returns (CTARs)</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#aggregation"><span class="header-section-number">28.6</span> Aggregation</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#over-time"><span class="header-section-number">28.6.1</span> Over Time</a></li>
<li><a class="nav-link" href="#across-firms-over-time"><span class="header-section-number">28.6.2</span> Across Firms + Over Time</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#heterogeneity-in-the-event-effect"><span class="header-section-number">28.7</span> Heterogeneity in the event effect</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#common-variables-in-marketing"><span class="header-section-number">28.7.1</span> Common variables in marketing</a></li></ul>
</li>
<li>
<a class="nav-link" href="#expected-return-calculation"><span class="header-section-number">28.8</span> Expected Return Calculation</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#statistical-models"><span class="header-section-number">28.8.1</span> Statistical Models</a></li>
<li><a class="nav-link" href="#economic-model"><span class="header-section-number">28.8.2</span> Economic Model</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#application-14"><span class="header-section-number">28.9</span> Application</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#eventus"><span class="header-section-number">28.9.1</span> Eventus</a></li>
<li><a class="nav-link" href="#evenstudies"><span class="header-section-number">28.9.2</span> Evenstudies</a></li>
<li><a class="nav-link" href="#eventstudy"><span class="header-section-number">28.9.3</span> EventStudy</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/mikenguyen13/data_analysis/blob/main/28-event-study.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/mikenguyen13/data_analysis/edit/main/28-event-study.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>A Guide on Data Analysis</strong>" was written by Mike Nguyen. It was last built on 2024-06-06.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
